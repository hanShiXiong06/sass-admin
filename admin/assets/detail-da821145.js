import{d as q,y as G,f as J,r as h,R as S,h as s,c as d,e,w as o,u as a,aP as $,v as L,a as c,t as n,s as t,B as j,i as R,F as m,T as k,x,C as E,aQ as H,a7 as M,J as Q,L as Y,ac as A,ad as K,M as U,Y as W}from"./index-0e396751.js";/* empty css                   *//* empty css                *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     *//* empty css                        *//* empty css               */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                        *//* empty css                *//* empty css                   *//* empty css                       */import{g as X}from"./goods-2eb5d4ca.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";const ee={class:"main-container"},ae={class:"text text-[14px] leading-[25px]"},le={class:"text text-[14px] leading-[25px]"},oe={class:"w-full"},te={class:"h-[62px] border-box py-[15px]"},re={class:"text-[var(--el-text-color-secondary)] text-[12px] leading-[25px]"},se={class:"px-[16px] border-box"},ne=q({__name:"detail",setup(de){const y=G(),C=J(),P=y.meta.title,v=h(!1),p=h({}),l=h({id:0,is_fenxiao:1,fenxiao_type:1,skuList:[],fenxiao_rule:{}}),T=h(),B=N=>{v.value=!0,X(N).then(b=>{p.value=b.data,l.value.id=y.query.goods_id,l.value.fenxiao_type=b.data.goods_info.fenxiao_type,l.value.is_fenxiao=b.data.goods_info.is_set_fenxiao,l.value.skuList=b.data.goods_info.skuList,l.value.fenxiao_rule=JSON.parse(b.data.goods_info.fenxiaoGoods.fenxiao_rule),v.value=!1}).catch(()=>{v.value=!1})};let F=Number(y.query.goods_id);B(F);const I=()=>{C.push("/shop_fenxiao/management/goods")};return(N,b)=>{const z=H,g=M,D=Q,f=Y,_=A,w=K,O=U,V=W;return S((s(),d("div",ee,[e(g,{class:"card !border-none",shadow:"never"},{default:o(()=>[e(z,{content:a(P),icon:a($),onBack:b[0]||(b[0]=r=>I())},null,8,["content","icon"])]),_:1}),e(g,{class:"card mt-[15px] !border-none",shadow:"never"},{default:o(()=>[Object.keys(p.value).length?(s(),L(O,{key:0,class:"page-form","label-width":"200px",ref_key:"formRef",ref:T},{default:o(()=>[c("div",ae,n(a(t)("titleOne")),1),e(g,{class:"card !border-none",shadow:"never"},{default:o(()=>[e(f,{label:a(t)("goodsImage")},{default:o(()=>[e(D,{class:"w-[98px] h-[98px]",fit:"contain",src:a(j)(p.value.goods_info.goods_cover_thumb_small)},null,8,["src"])]),_:1},8,["label"]),e(f,{label:a(t)("goodsName")},{default:o(()=>[R(n(p.value.goods_info.goods_name),1)]),_:1},8,["label"])]),_:1}),l.value.is_fenxiao?(s(),d(m,{key:0},[c("div",le,n(a(t)("titleTwo")),1),e(g,{class:"card !border-none",shadow:"never"},{default:o(()=>[e(f,{label:a(t)("countPrice")},{default:o(()=>[c("div",oe,[e(w,{data:l.value.skuList,size:"large"},{default:o(()=>[e(_,{prop:"sku_name",label:a(t)("skuName"),"min-width":"120"},{default:o(({row:r})=>[c("span",null,n(r.sku_name||p.value.goods_info.goods_name),1)]),_:1},8,["label"]),e(_,{prop:"price",label:a(t)("skuPrice"),"min-width":"120"},null,8,["label"]),e(_,{prop:"cost_price",label:a(t)("costPrice"),"min-width":"120"},null,8,["label"]),e(_,{label:a(t)("calculatePrice"),"min-width":"120"},{default:o(({row:r,$index:u})=>[c("div",te," ￥"+n(r.calculate_price),1)]),_:1},8,["label"])]),_:1},8,["data"]),c("p",re,n(a(t)("calculatePriceTip")),1)])]),_:1},8,["label"]),e(f,{label:a(t)("type")},{default:o(()=>[R(n(p.value.goods_info.fenxiao_type==1?a(t)("typeLabelOne"):a(t)("typeLabelTwo")),1)]),_:1},8,["label"]),p.value.goods_info.fenxiao_type==1?(s(),L(f,{key:0},{default:o(()=>[e(w,{data:p.value.rule,size:"large"},{default:o(()=>[e(_,{prop:"level_name",label:a(t)("levelname"),"min-width":"120"},null,8,["label"]),e(_,{prop:"one_rate",label:a(t)("oneRate"),"min-width":"120"},{default:o(({row:r})=>[c("span",null,n(r.one_rate)+"%",1)]),_:1},8,["label"]),e(_,{prop:"two_rate",label:a(t)("twoRate"),"min-width":"120"},{default:o(({row:r})=>[c("span",null,n(r.two_rate)+"%",1)]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})):(s(),L(f,{key:1},{default:o(()=>[e(w,{data:p.value.rule,size:"large",class:"rule"},{default:o(()=>[e(_,{label:a(t)("skuName"),"min-width":"120"},{default:o(({row:r})=>[(s(!0),d(m,null,k(l.value.skuList,(u,i)=>(s(),d("p",{class:x(["leading-[62px] px-[16px] border-box",{"border-b-[1px] border-solid border-[var(--el-table-border-color)]":i<l.value.skuList.length-1}]),key:i},n(u.sku_name),3))),128))]),_:1},8,["label"]),e(_,{label:a(t)("price"),"min-width":"120"},{default:o(({row:r})=>[(s(!0),d(m,null,k(l.value.skuList,(u,i)=>(s(),d("p",{class:x(["leading-[62px] px-[16px] border-box",{"border-b-[1px] border-solid border-[var(--el-table-border-color)]":i<l.value.skuList.length-1}]),key:i},"￥"+n(u.price),3))),128))]),_:1},8,["label"]),e(_,{prop:"level_name",label:a(t)("rateName"),"min-width":"120"},{default:o(({row:r})=>[c("p",se,n(r.level_name),1)]),_:1},8,["label"]),e(_,{label:a(t)("oneRate"),"min-width":"120"},{default:o(({row:r})=>[(s(!0),d(m,null,k(l.value.skuList,(u,i)=>(s(),d(m,{key:i},[l.value.fenxiao_rule[u.sku_id][r.level_id].one_rate?(s(),d("div",{key:0,class:x(["h-[62px] border-box py-[15px] px-[16px]",{"border-b-[1px] border-solid border-[var(--el-table-border-color)]":i<l.value.skuList.length-1}])},n(l.value.fenxiao_rule[u.sku_id][r.level_id].one_rate)+"% ",3)):(s(),d("div",{key:1,class:x(["h-[62px] border-box py-[15px] px-[16px]",{"border-b-[1px] border-solid border-[var(--el-table-border-color)]":i<l.value.skuList.length-1}])},n(l.value.fenxiao_rule[u.sku_id][r.level_id].one_money)+"元 ",3))],64))),128))]),_:1},8,["label"]),e(_,{prop:"two_rate",label:a(t)("twoRate"),"min-width":"120"},{default:o(({row:r})=>[(s(!0),d(m,null,k(l.value.skuList,(u,i)=>(s(),d(m,{key:i},[l.value.fenxiao_rule[u.sku_id][r.level_id].two_rate?(s(),d("div",{key:0,class:x(["h-[62px] border-box py-[15px] px-[16px]",{"border-b-[1px] border-solid border-[var(--el-table-border-color)]":i<l.value.skuList.length-1}])},n(l.value.fenxiao_rule[u.sku_id][r.level_id].two_rate)+"% ",3)):(s(),d("div",{key:1,class:x(["h-[62px] border-box py-[15px] px-[16px]",{"border-b-[1px] border-solid border-[var(--el-table-border-color)]":i<l.value.skuList.length-1}])},n(l.value.fenxiao_rule[u.sku_id][r.level_id].two_money)+"元 ",3))],64))),128))]),_:1},8,["label"])]),_:1},8,["data"])]),_:1}))]),_:1})],64)):E("",!0)]),_:1},512)):E("",!0)]),_:1})])),[[V,v.value]])}}});const Ee=Z(ne,[["__scopeId","data-v-bcdb3459"]]);export{Ee as default};
