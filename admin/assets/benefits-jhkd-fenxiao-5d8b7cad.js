import{d as j,r as x,q as B,H as _,m as N,Q as h,h as m,v as D,w as i,e as l,a as u,R as O,i as b,c as p,t as f,C as v,a0 as I,av as S,at as q,au as z,L as G,K as H,M as K}from"./index-0e396751.js";/* empty css                *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 *//* empty css                    */import{c as L}from"./tkjhkd-125130d5.js";const M={class:"flex items-center"},Q=u("span",{class:"ml-[10px] el-form-item__label"},"聚合快递分销",-1),T={class:"w-[680px]"},k={key:0},A={class:"ml-[5px] text-slate-400"},J={class:"ml-[5px] text-slate-400"},P={key:1},W={class:"ml-[5px] text-slate-400"},X={class:"ml-[5px] text-slate-400"},Y={key:0,class:"text-sm text-gray-400"},Z={key:1,class:"text-sm text-[#ff1e00] mb-[5px]"},re=j({__name:"benefits-jhkd-fenxiao",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(w,{expose:g,emit:E}){const R=w,n=x();L().then(a=>{n.value=a.data});const e=x({is_use:0,fenxiao_type:0,first_rate:5,second_rate:2,first_commission:"",second_commission:""}),y=x(null),U=B({first_rate:[{validator:(a,t,s)=>{e.value.is_use&&(_.empty(e.value.first_rate)&&s("请输入一级佣金比例"),parseFloat(e.value.first_rate)>99.99&&s("佣金比例只能输入0~99.99之间的值"),e.value.first_rate<0&&s("佣金比例不能小于0")),s()}}],second_rate:[{validator:(a,t,s)=>{e.value.is_use&&(_.empty(e.value.second_rate)&&s("请输入二级佣金比例"),parseFloat(e.value.second_rate)>99.99&&s("佣金比例只能输入0~99.99之间的值"),e.value.second_rate<0&&s("佣金比例不能小于0")),s()}}],first_commission:[{validator:(a,t,s)=>{e.value.is_use&&(_.empty(e.value.first_commission)&&s("请输入一级佣金"),e.value.first_commission<0&&s("佣金不能小于0")),s()}}],second_commission:[{validator:(a,t,s)=>{e.value.is_use&&(_.empty(e.value.second_commission)&&s("请输入一级佣金"),e.value.second_commission<0&&s("佣金不能小于0")),s()}}]}),c=N({get(){return R.modelValue},set(a){E("update:modelValue",a)}});return h(()=>c.value,(a,t)=>{(!t||!Object.keys(t).length)&&Object.keys(a).length&&(e.value=c.value)},{immediate:!0}),h(()=>e.value,()=>{c.value=e.value},{deep:!0}),g({verify:async()=>{var t;let a=!0;return await((t=y.value)==null?void 0:t.validate(s=>{a=s})),a}}),(a,t)=>{const s=S,V=q,C=z,r=G,d=H,F=K;return m(),D(F,{ref_key:"formRef",ref:y,model:e.value,rules:U},{default:i(()=>[l(r,{label:"",prop:"discount",class:"!mb-[10px]"},{default:i(()=>[u("div",null,[u("div",M,[l(s,{modelValue:e.value.is_use,"onUpdate:modelValue":t[0]||(t[0]=o=>e.value.is_use=o),"true-label":1,"false-label":0,label:"",size:"large"},null,8,["modelValue"]),Q,O(u("div",T,[l(r,{label:"分销方式",class:"!mb-[10px]",prop:"fenxiao_type"},{default:i(()=>[l(C,{modelValue:e.value.fenxiao_type,"onUpdate:modelValue":t[1]||(t[1]=o=>e.value.fenxiao_type=o)},{default:i(()=>[l(V,{label:0},{default:i(()=>[b("按比例")]),_:1}),l(V,{label:1},{default:i(()=>[b("按固定金额")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e.value.fenxiao_type==0?(m(),p("div",k,[l(r,{label:"一级分销",class:"!mb-[20px]",prop:"first_rate"},{default:i(()=>[l(d,{style:{width:"160px"},modelValue:e.value.first_rate,"onUpdate:modelValue":t[2]||(t[2]=o=>e.value.first_rate=o),placeholder:"请输入一级分销比",clearable:"",class:"w-[120px]"},null,8,["modelValue"]),u("span",A,"单位%,一级将分佣"+f(e.value.first_rate)+"%",1)]),_:1}),l(r,{label:"二级分销",class:"!mb-[20px]",prop:"second_rate"},{default:i(()=>[l(d,{style:{width:"160px"},modelValue:e.value.second_rate,"onUpdate:modelValue":t[3]||(t[3]=o=>e.value.second_rate=o),clearable:"",placeholder:"请输入二级分销比",class:"w-[120px]"},null,8,["modelValue"]),u("span",J,"单位%,二级将分佣"+f(e.value.second_rate)+"%",1)]),_:1})])):v("",!0),e.value.fenxiao_type==1?(m(),p("div",P,[l(r,{label:"一级分销",class:"!mb-[20px]",prop:"first_commission"},{default:i(()=>[l(d,{style:{width:"160px"},modelValue:e.value.first_commission,"onUpdate:modelValue":t[4]||(t[4]=o=>e.value.first_commission=o),clearable:"",placeholder:"请输入一级分销金额",class:"w-[120px]"},null,8,["modelValue"]),u("span",W,"将固定分佣"+f(e.value.first_commission)+"给一级分销",1)]),_:1}),l(r,{label:"二级分销",class:"!mb-[20px]",prop:"second_commission"},{default:i(()=>[l(d,{style:{width:"160px"},modelValue:e.value.second_commission,"onUpdate:modelValue":t[5]||(t[5]=o=>e.value.second_commission=o),clearable:"",placeholder:"请输入二级分销金额",class:"w-[120px]"},null,8,["modelValue"]),u("span",X,"将固定分佣"+f(e.value.second_commission)+"给二级分销",1)]),_:1})])):v("",!0)],512),[[I,e.value.is_use]])]),n.value&&n.value.status==!1?(m(),p("div",Y," 开启后将获得推广权限，参与分销金额为订单实际支付金额 ")):v("",!0),n.value&&n.value.status==!0?(m(),p("div",Z," 当前已拥有聚合快递分销专属定制插件，请勿重复开启会员等级分销 ")):v("",!0)])]),_:1})]),_:1},8,["model","rules"])}}});export{re as default};
