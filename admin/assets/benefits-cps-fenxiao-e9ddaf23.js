import{d as B,r as v,q as F,H as m,m as N,Q as x,h as p,v as j,w as i,e as t,a as u,R as D,i as y,c as V,t as d,C as h,a0 as O,av as S,at as I,au as q,L as z,K as G,M as H}from"./index-0e396751.js";/* empty css                *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 *//* empty css                    */const K={class:"flex items-center"},L=u("span",{class:"ml-[10px] el-form-item__label"},"CPS分销",-1),M={class:"w-[680px]"},P={key:0},Q={class:"ml-[5px] text-slate-400"},T={class:"ml-[5px] text-slate-400"},A={key:1},J={class:"ml-[5px] text-slate-400"},W={class:"ml-[5px] text-slate-400"},X=u("div",{class:"text-sm text-gray-400 mb-[5px]"}," 开启后将获得推广权限，将可以获取推广订单的返利，如不需开启二级分销，填写0即可;这里建议按照佣金比进行结算，不建议使用固定金额 ",-1),ae=B({__name:"benefits-cps-fenxiao",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(b,{expose:w,emit:g}){const E=b,e=v({is_use:0,fenxiao_type:0,first_rate:5,second_rate:2,first_commission:"",second_commission:""}),f=v(null),C=F({first_rate:[{validator:(a,l,s)=>{e.value.is_use&&(m.empty(e.value.first_rate)&&s("请输入一级佣金比例"),parseFloat(e.value.first_rate)>99.99&&s("佣金比例只能输入0~99.99之间的值"),e.value.first_rate<0&&s("佣金比例不能小于0")),s()}}],second_rate:[{validator:(a,l,s)=>{e.value.is_use&&(m.empty(e.value.second_rate)&&s("请输入二级佣金比例"),parseFloat(e.value.second_rate)>99.99&&s("佣金比例只能输入0~99.99之间的值"),e.value.second_rate<0&&s("佣金比例不能小于0")),s()}}],first_commission:[{validator:(a,l,s)=>{e.value.is_use&&(m.empty(e.value.first_commission)&&s("请输入一级佣金"),e.value.first_commission<0&&s("佣金不能小于0")),s()}}],second_commission:[{validator:(a,l,s)=>{e.value.is_use&&(m.empty(e.value.second_commission)&&s("请输入一级佣金"),e.value.second_commission<0&&s("佣金不能小于0")),s()}}]}),_=N({get(){return E.modelValue},set(a){g("update:modelValue",a)}});return x(()=>_.value,(a,l)=>{(!l||!Object.keys(l).length)&&Object.keys(a).length&&(e.value=_.value)},{immediate:!0}),x(()=>e.value,()=>{_.value=e.value},{deep:!0}),w({verify:async()=>{var l;let a=!0;return await((l=f.value)==null?void 0:l.validate(s=>{a=s})),a}}),(a,l)=>{const s=S,c=I,R=q,r=z,n=G,U=H;return p(),j(U,{ref_key:"formRef",ref:f,model:e.value,rules:C},{default:i(()=>[t(r,{label:"",prop:"discount",class:"!mb-[10px]"},{default:i(()=>[u("div",null,[u("div",K,[t(s,{modelValue:e.value.is_use,"onUpdate:modelValue":l[0]||(l[0]=o=>e.value.is_use=o),"true-label":1,"false-label":0,label:"",size:"large"},null,8,["modelValue"]),L,D(u("div",M,[t(r,{label:"分销方式",class:"!mb-[10px]",prop:"fenxiao_type"},{default:i(()=>[t(R,{modelValue:e.value.fenxiao_type,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value.fenxiao_type=o)},{default:i(()=>[t(c,{label:0},{default:i(()=>[y("按比例")]),_:1}),t(c,{label:1},{default:i(()=>[y("按固定金额")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e.value.fenxiao_type==0?(p(),V("div",P,[t(r,{label:"一级分销",class:"!mb-[20px]",prop:"first_rate"},{default:i(()=>[t(n,{style:{width:"160px"},modelValue:e.value.first_rate,"onUpdate:modelValue":l[2]||(l[2]=o=>e.value.first_rate=o),placeholder:"请输入一级分销比",clearable:"",class:"w-[120px]"},null,8,["modelValue"]),u("span",Q,"单位%,一级将分佣"+d(e.value.first_rate)+"%",1)]),_:1}),t(r,{label:"二级分销",class:"!mb-[20px]",prop:"second_rate"},{default:i(()=>[t(n,{style:{width:"160px"},modelValue:e.value.second_rate,"onUpdate:modelValue":l[3]||(l[3]=o=>e.value.second_rate=o),clearable:"",placeholder:"请输入二级分销比",class:"w-[120px]"},null,8,["modelValue"]),u("span",T,"单位%,二级将分佣"+d(e.value.second_rate)+"%",1)]),_:1})])):h("",!0),e.value.fenxiao_type==1?(p(),V("div",A,[t(r,{label:"一级分销",class:"!mb-[20px]",prop:"first_commission"},{default:i(()=>[t(n,{style:{width:"160px"},modelValue:e.value.first_commission,"onUpdate:modelValue":l[4]||(l[4]=o=>e.value.first_commission=o),clearable:"",placeholder:"请输入一级分销金额",class:"w-[120px]"},null,8,["modelValue"]),u("span",J,"将固定分佣"+d(e.value.first_commission)+"给一级分销",1)]),_:1}),t(r,{label:"二级分销",class:"!mb-[20px]",prop:"second_commission"},{default:i(()=>[t(n,{style:{width:"160px"},modelValue:e.value.second_commission,"onUpdate:modelValue":l[5]||(l[5]=o=>e.value.second_commission=o),clearable:"",placeholder:"请输入二级分销金额",class:"w-[120px]"},null,8,["modelValue"]),u("span",W,"将固定分佣"+d(e.value.second_commission)+"给二级分销",1)]),_:1})])):h("",!0)],512),[[O,e.value.is_use]])]),X])]),_:1})]),_:1},8,["model","rules"])}}});export{ae as default};
