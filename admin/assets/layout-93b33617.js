import{d as G,y as H,r as i,s as u,h as v,c as g,a as e,e as r,w as a,t as d,u as n,R as K,v as Q,i as b,F as $,T as W,x as L,B as O,C as Z,cp as ee,cq as te,cr as oe,cs as le,J as se,ac as ae,E as ne,ad as ue,a7 as re,bv as ce,V as ie,X as de,Y as _e}from"./index-0e396751.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                     *//* empty css                        *//* empty css                 *//* empty css                  *//* empty css                *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                        *//* empty css               *//* empty css                 *//* empty css                        */import{_ as me}from"./icon-addon-339e16d0.js";import{g as pe}from"./addon-0f88c35d.js";const E="bussiness",S="/static/resource/images/system/layout_bussiness.png",ve={layout:E,cover:S},ye=Object.freeze(Object.defineProperty({__proto__:null,cover:S,default:ve,layout:E},Symbol.toStringTag,{value:"Module"})),V="darkside",T="/static/resource/images/system/layout_darkside.png",fe={layout:V,cover:T},ge=Object.freeze(Object.defineProperty({__proto__:null,cover:T,default:fe,layout:V},Symbol.toStringTag,{value:"Module"})),z="default",B="/static/resource/images/system/layout_default.png",he={layout:z,cover:B},be=Object.freeze(Object.defineProperty({__proto__:null,cover:B,default:he,layout:z},Symbol.toStringTag,{value:"Module"})),D="profession",N="/static/resource/images/system/layout_profession.png",xe={layout:D,cover:N},ke=Object.freeze(Object.defineProperty({__proto__:null,cover:N,default:xe,layout:D},Symbol.toStringTag,{value:"Module"})),je={class:"main-container"},we={class:"flex justify-between items-center"},Ce={class:"text-page-title"},$e={class:"mt-[20px]"},Le={class:"flex items-center"},Oe=e("div",{class:"flex items-center w-full h-full"},[e("img",{class:"w-full h-full",src:me,alt:""})],-1),Ee={class:"flex-1 ml-2 truncate"},Se={class:"h-[300px]"},Ve={class:"flex justify-between items-center mb-[20px]"},Te={class:"!text-sm !text-[#444]"},ze=e("span",{class:"iconfont iconwenhao text-[#999] !text-[14px]"},null,-1),Be=e("div",{class:"ml-[2px] text-[12px] text-[#999]"},"如何开发自定义布局",-1),De=[ze,Be],Ne={class:"flex justify-items-stretch"},Pe=["onClick"],Me=["src"],Ae=["src"],Fe={class:"panel-title !text-sm"},Ie={class:""},Re=e("div",{class:"form-tip text-[#999] mt-2"},"设置的色调会在前端站点列表体现",-1),Ue={class:"dialog-footer"},_t=G({__name:"layout",setup(qe){const P=H().meta.title,y=i(!0),c=i({}),x=i([]),_=i(null),m=i({}),k=i([{title:u("manyApp"),key:"system",icon:""}]),j=Object.assign({"/src/layout/bussiness/layout.json":ye,"/src/layout/darkside/layout.json":ge,"/src/layout/default/layout.json":be,"/src/layout/profession/layout.json":ke});for(const s in j){const t=j[s];x.value.push(t.default)}const w=Object.assign({});pe().then(({data:s})=>{Object.keys(s).forEach(t=>{const f=s[t];f.type=="app"&&k.value.push(f)}),y.value=!1}),(()=>{ee().then(({data:s})=>{c.value=s}),te().then(({data:s})=>{m.value=s})})();const l=i(""),p=i(!1),M=async s=>{s!="system"&&(_.value=null,Object.keys(w).forEach(t=>{t.indexOf(`/addon/${s}/`)!=-1&&(_.value=w[t].default)})),l.value=s,p.value=!0},A=()=>{oe({key:l.value,value:m.value[l.value]?m.value[l.value]:""}),le({key:l.value,value:c.value[l.value]?c.value[l.value]:"default"}),p.value=!1},F=()=>{let s="https://doc.niucloud.com/saas.html?keywords=/ru-he-kai-fa-zi-ding-yi-bu-ju-hou-tai-bu-ju";window.open(s)};return(s,t)=>{const f=se,C=ae,h=ne,I=ue,R=re,U=ce,q=ie,J=de,X=_e;return v(),g($,null,[e("div",je,[r(R,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[e("div",we,[e("span",Ce,d(n(P)),1)]),e("div",$e,[K((v(),Q(I,{data:k.value,size:"large"},{empty:a(()=>[e("span",null,d(y.value?"":n(u)("emptyData")),1)]),default:a(()=>[r(C,{prop:"title",label:n(u)("app"),"min-width":"120"},{default:a(({row:o})=>[e("div",Le,[r(f,{class:"w-[40px] h-[40px] rounded-md overflow-hidden",src:o.icon,fit:"contain"},{error:a(()=>[Oe]),_:2},1032,["src"]),e("div",Ee,d(o.title),1)])]),_:1},8,["label"]),r(C,{label:n(u)("operation"),align:"right",fixed:"right",width:"100"},{default:a(({row:o})=>[r(h,{type:"primary",link:"",onClick:Y=>M(o.key)},{default:a(()=>[b(d(n(u)("setting")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[X,y.value]])])]),_:1})]),r(J,{modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=o=>p.value=o),title:n(u)("selectLayout"),width:"800","destroy-on-close":!0},{footer:a(()=>[e("span",Ue,[r(h,{onClick:t[2]||(t[2]=o=>p.value=!1)},{default:a(()=>[b(d(n(u)("cancel")),1)]),_:1}),r(h,{type:"primary",loading:y.value,onClick:t[3]||(t[3]=o=>A())},{default:a(()=>[b(d(n(u)("confirm")),1)]),_:1},8,["loading"])])]),default:a(()=>[e("div",Se,[r(q,null,{default:a(()=>[e("div",Ve,[e("h3",Te,d(n(u)("layout")),1),e("div",{class:"flex items-center cursor-pointer",onClick:F},De)]),e("div",Ne,[(v(!0),g($,null,W(x.value,o=>(v(),g("div",{class:L(["w-[180px] h-[130px] mr-[10px] mb-[10px] border hover:border-primary cursor-pointer",{"border-primary":!c.value[l.value]&&o.layout=="default"||c.value[l.value]==o.layout}]),onClick:Y=>c.value[l.value]=o.layout},[e("img",{src:n(O)(o.cover),class:"w-full h-full"},null,8,Me)],10,Pe))),256)),_.value?(v(),g("div",{key:0,class:L(["w-[180px] h-[130px] mr-[20px] border hover:border-primary cursor-pointer",{"border-primary":!c.value[l.value]&&_.value.layout=="default"||c.value[l.value]==_.value.layout}]),onClick:t[0]||(t[0]=o=>c.value[l.value]=_.value.layout)},[e("img",{src:n(O)(_.value.cover),class:"w-full h-full"},null,8,Ae)],2)):Z("",!0)]),e("h3",Fe,d(n(u)("themeColor")),1),e("div",Ie,[r(U,{modelValue:m.value[l.value],"onUpdate:modelValue":t[1]||(t[1]=o=>m.value[l.value]=o),size:"large"},null,8,["modelValue"]),Re])]),_:1})])]),_:1},8,["modelValue","title"])],64)}}});export{_t as default};
