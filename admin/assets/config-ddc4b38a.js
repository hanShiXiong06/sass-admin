import{d as C,r as w,q as B,h as i,c as F,R as D,v as f,w as a,e,a as d,i as u,C as _,u as p,s as m,t as b,aW as P,at as q,au as N,L as I,E as K,K as S,a7 as J,ab as L,aC as M,M as O,Y as G}from"./index-0e396751.js";/* empty css                   *//* empty css                *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                *//* empty css                  */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 *//* empty css                 */import{g as T,s as Y}from"./tkjhkd-125130d5.js";const $={class:"main-container"},j={style:{width:"840px"},class:"mb-2"},z=d("a",{href:"https://market.cloud.tencent.com/products/37790?keyword=%E5%BF%AB%E9%80%92%E5%9C%B0%E5%9D%80#spec=0.00%E5%85%83%2F10%E6%AC%A1",target:"_blank"},"购买地址",-1),H={class:"ml-4"},Q=d("span",{class:"mr-2"},"腾讯云市场secretId",-1),X={class:"ml-4"},Z=d("span",{class:"mr-2"},"腾讯云市场secretKey",-1),ee=d("a",{href:"https://market.aliyun.com/apimarket/detail/cmapi00066593#sku=yuncode6059300002",target:"_blank"},"购买地址",-1),le={class:"ml-4"},oe=d("span",{class:"mr-2"},"AppCode",-1),ae=d("span",{class:"ml-[4px]"},"元 首重和续重均会加价",-1),te=d("span",{class:"ml-[4px]"},"%，首重续重就会按照此比进行计算",-1),de=d("span",{class:"ml-[4px] mr-2"},"首重加价",-1),se=d("span",{class:"ml-[4px] mr-2 ml-6"},"续重加价",-1),ne=d("span",{class:"ml-2"},"单位:分",-1),ue=d("span",{class:"ml-2 text-gray-500"},"仅小程序开通了发货管理需要开启,会自动进行虚拟下单发货",-1),re=d("span",{class:"ml-4"},"是否开启群webhook通知",-1),pe=d("span",{class:"ml-4"}," 单位:分钟，默认30分内只通知一次,0不限制",-1),me={class:"fixed-footer-wrap"},ie={class:"fixed-footer"},Ce=C({__name:"config",setup(fe){const x=w(!0),W=w();w();const l=B({username:"",privateKey:"",floatWay:"floatWayFixed",floatAmount:"2",firstAmount:"2",secondAmount:"2",floatRate:"10",bindMobile:"",autosend:"1",cancelmin:"120",address_use:"0",tx_id:"",tx_secret:"",is_webhook:"0",webhook_type:"0",qwurl:"",fsurl:"",ddurl:"",min:"30",appcode:"",is_shipping:"0"}),k=async()=>{const y=await T({});x.value=!1;for(const o in l)l[o]=y.data.value[o]};k();const E=async()=>{await Y(l),k()};return(y,o)=>{const v=P,r=q,c=N,s=I,V=K,n=S,g=J,h=L,A=M,U=O,R=G;return i(),F("div",$,[D((i(),f(U,{model:l,"label-width":"150px",ref_key:"ruleFormRef",ref:W,rules:y.rules,class:"page-form"},{default:a(()=>[e(g,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[d("div",j,[e(v,{type:"info",title:"提示:1、请逐项完善基础配置；2、如您使用快递鸟接口，请配置好阿里物流查询APPCODE;3、云洋接口存在特殊性，续重固定3元/kg;4、请在各平台配置回调地址",closable:!1,"show-icon":""})]),e(s,{label:"地址解析",prop:"autosend"},{default:a(()=>[e(c,{modelValue:l.address_use,"onUpdate:modelValue":o[0]||(o[0]=t=>l.address_use=t)},{default:a(()=>[e(r,{label:"0"},{default:a(()=>[u("关闭")]),_:1}),e(r,{label:"1"},{default:a(()=>[u("开启")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l.address_use==1?(i(),f(s,{key:0},{default:a(()=>[e(V,null,{default:a(()=>[z]),_:1}),d("div",H,[Q,e(n,{clearable:"",modelValue:l.tx_id,"onUpdate:modelValue":o[1]||(o[1]=t=>l.tx_id=t),style:{width:"200px"},placeholder:"腾讯云市场购买后分配"},null,8,["modelValue"])]),d("div",X,[Z,e(n,{clearable:"",modelValue:l.tx_secret,"onUpdate:modelValue":o[2]||(o[2]=t=>l.tx_secret=t),style:{width:"200px"},placeholder:"腾讯云市场购买后分配"},null,8,["modelValue"])])]),_:1})):_("",!0),e(s,{label:"阿里云物流解析"},{default:a(()=>[e(V,null,{default:a(()=>[ee]),_:1}),d("div",le,[oe,e(n,{clearable:"",modelValue:l.appcode,"onUpdate:modelValue":o[3]||(o[3]=t=>l.appcode=t),style:{width:"200px"},placeholder:"阿里云市场购买后分配"},null,8,["modelValue"])])]),_:1}),e(s,{label:"发单方式",prop:"autosend"},{default:a(()=>[e(c,{modelValue:l.autosend,"onUpdate:modelValue":o[4]||(o[4]=t=>l.autosend=t)},{default:a(()=>[e(r,{label:"0"},{default:a(()=>[u("手动")]),_:1}),e(r,{label:"1"},{default:a(()=>[u("自动")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:p(m)("floatWay"),prop:"floatWay"},{default:a(()=>[e(c,{modelValue:l.floatWay,"onUpdate:modelValue":o[5]||(o[5]=t=>l.floatWay=t)},{default:a(()=>[e(r,{label:"floatWayFixed"},{default:a(()=>[u(b(p(m)("floatWayFixed")),1)]),_:1}),e(r,{label:"floatWayRate"},{default:a(()=>[u(b(p(m)("floatWayRate")),1)]),_:1}),e(r,{label:"floatWayBetwn"},{default:a(()=>[u(b(p(m)("floatWayBetwn")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),l.floatWay=="floatWayFixed"?(i(),f(s,{key:1,label:p(m)("floatAmount"),prop:"floatAmount"},{default:a(()=>[e(n,{modelValue:l.floatAmount,"onUpdate:modelValue":o[6]||(o[6]=t=>l.floatAmount=t),style:{width:"200px"},placeholder:p(m)("floatAmountPlaceholder")},null,8,["modelValue","placeholder"]),ae]),_:1},8,["label"])):_("",!0),l.floatWay=="floatWayRate"?(i(),f(s,{key:2,label:p(m)("floatRate"),prop:"floatRate"},{default:a(()=>[e(n,{modelValue:l.floatRate,"onUpdate:modelValue":o[7]||(o[7]=t=>l.floatRate=t),style:{width:"200px"},placeholder:p(m)("floatRatePlaceholder")},null,8,["modelValue","placeholder"]),te]),_:1},8,["label"])):_("",!0),l.floatWay=="floatWayBetwn"?(i(),f(s,{key:3},{default:a(()=>[de,e(n,{modelValue:l.firstAmount,"onUpdate:modelValue":o[8]||(o[8]=t=>l.firstAmount=t),style:{width:"80px"},placeholder:p(m)("floatRatePlaceholder")},null,8,["modelValue","placeholder"]),se,e(n,{modelValue:l.secondAmount,"onUpdate:modelValue":o[9]||(o[9]=t=>l.secondAmount=t),style:{width:"80px"},placeholder:p(m)("floatRatePlaceholder")},null,8,["modelValue","placeholder"])]),_:1})):_("",!0),e(s,{label:"取消订单"},{default:a(()=>[e(n,{modelValue:l.cancelmin,"onUpdate:modelValue":o[10]||(o[10]=t=>l.cancelmin=t),style:{width:"80px"},placeholder:"单位分"},null,8,["modelValue"]),ne]),_:1}),e(s,{label:"发货管理",prop:"autosend"},{default:a(()=>[e(c,{modelValue:l.is_shipping,"onUpdate:modelValue":o[11]||(o[11]=t=>l.is_shipping=t)},{default:a(()=>[e(r,{label:"0"},{default:a(()=>[u("关闭")]),_:1}),e(r,{label:"1"},{default:a(()=>[u("开启")]),_:1})]),_:1},8,["modelValue"]),ue]),_:1}),e(g,{class:"!border-none",shadow:"never",style:{width:"640px"}},{default:a(()=>[e(v,{type:"info",title:"开启配置通知，订单新增，催收等会同步到webhook群",closable:!1,"show-icon":""})]),_:1}),e(s,{label:""},{default:a(()=>[e(c,{modelValue:l.is_webhook,"onUpdate:modelValue":o[12]||(o[12]=t=>l.is_webhook=t)},{default:a(()=>[e(r,{label:"0"},{default:a(()=>[u("否")]),_:1}),e(r,{label:"1"},{default:a(()=>[u("是")]),_:1})]),_:1},8,["modelValue"]),re]),_:1}),e(s,{class:"font-bold text-xs",label:"通知类型",prop:"checktype"},{default:a(()=>[e(A,{modelValue:l.webhook_type,"onUpdate:modelValue":o[13]||(o[13]=t=>l.webhook_type=t),clearable:"",placeholder:"请选择"},{default:a(()=>[e(h,{key:"0",label:"企业微信",value:"0"}),e(h,{key:"1",label:"飞书",value:"1"}),e(h,{key:"2",label:"钉钉",value:"2"})]),_:1},8,["modelValue"])]),_:1}),l.webhook_type==0?(i(),f(s,{key:4,class:"font-bold text-xs",label:"Webhook 地址",prop:"action"},{default:a(()=>[e(n,{clearable:"",modelValue:l.qwurl,"onUpdate:modelValue":o[14]||(o[14]=t=>l.qwurl=t),class:"w-60",placeholder:"请输入webhook地址"},null,8,["modelValue"])]),_:1})):_("",!0),l.webhook_type==1?(i(),f(s,{key:5,class:"font-bold text-xs",label:"Webhook 地址",prop:"msg"},{default:a(()=>[e(n,{type:"textarea",clearable:"",modelValue:l.fsurl,"onUpdate:modelValue":o[15]||(o[15]=t=>l.fsurl=t),style:{width:"300px"},placeholder:"请输入webhook地址"},null,8,["modelValue"])]),_:1})):_("",!0),l.webhook_type==2?(i(),f(s,{key:6,class:"font-bold text-xs",label:"Webhook 地址",prop:"msg"},{default:a(()=>[e(n,{clearable:"",modelValue:l.ddurl,"onUpdate:modelValue":o[16]||(o[16]=t=>l.ddurl=t),class:"w-60",placeholder:"请输入webhook地址"},null,8,["modelValue"])]),_:1})):_("",!0),e(s,{class:"font-bold text-xs",label:"通知频率",prop:"msg"},{default:a(()=>[e(n,{clearable:"",modelValue:l.min,"onUpdate:modelValue":o[17]||(o[17]=t=>l.min=t),style:{width:"200px"},placeholder:"以分钟计算，默认30分钟"},null,8,["modelValue"]),pe]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[R,x.value]]),d("div",me,[d("div",ie,[e(V,{type:"primary",onClick:o[18]||(o[18]=t=>E())},{default:a(()=>[u(b(p(m)("save")),1)]),_:1})])])])}}});export{Ce as default};
