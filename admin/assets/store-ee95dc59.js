import{d as F,x as N,n as R,r as V,bO as $,f as L,h as b,c as j,e as t,w as r,a as n,u as o,t as i,q as a,i as c,R as D,s as I,A as M,bP as U,a5 as q,E as A,K as J,L as K,M as O,a7 as W,J as Y,ad as G,ae as H,W as Q,Y as X}from"./index-904cb7a2.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                 *//* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{q as Z,r as ee}from"./delivery-86e0fcc0.js";const te=""+new URL("store_default-447f2c13.png",import.meta.url).href,ae={class:"main-container"},oe={class:"flex justify-between items-center"},se={class:"detail-head !m-0"},le=n("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1),re={class:"ml-[1px]"},ne=n("span",{class:"adorn"},"|",-1),ie={class:"right"},de={class:"mt-[10px]"},me={class:"h-[50px] flex items-center"},pe=n("div",{class:"image-slot"},[n("img",{class:"w-[50px] h-[50px]",src:te})],-1),ce={class:"ml-[10px] text-[14px]"},_e={class:"mt-[16px] flex justify-end"},Le=F({__name:"store",setup(ue){const x=N().meta.title,e=R({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{store_name:"",create_time:""}}),g=V(),m=(d=1)=>{e.loading=!0,e.page=d,Z({page:e.page,limit:e.limit,...e.searchParam}).then(s=>{e.loading=!1,e.data=s.data.data,e.total=s.data.total,U(e.page,e.limit,e.searchParam)}).catch(()=>{e.loading=!1})};m($(e.searchParam).page);const u=L(),v=()=>{u.push("/shop/order/delivery/store/edit")},y=d=>{u.push("/shop/order/delivery/store/edit?id="+d.store_id)},w=d=>{q.confirm(a("storeDeleteTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{ee(d).then(()=>{m()}).catch(()=>{})})},C=d=>{d&&(d.resetFields(),m())};return(d,s)=>{const _=A,k=J,f=K,E=O,h=W,P=Y,p=G,T=H,B=Q,S=X;return b(),j("div",ae,[t(h,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[n("div",oe,[n("div",se,[n("div",{class:"left",onClick:s[0]||(s[0]=l=>o(u).push("/shop/order/delivery"))},[le,n("span",re,i(o(a)("returnToPreviousPage")),1)]),ne,n("span",ie,i(o(x)),1)]),t(_,{type:"primary",onClick:v},{default:r(()=>[c(i(o(a)("addStore")),1)]),_:1})]),t(h,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[t(E,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:g},{default:r(()=>[t(f,{label:o(a)("storeName"),prop:"store_name"},{default:r(()=>[t(k,{modelValue:e.searchParam.store_name,"onUpdate:modelValue":s[1]||(s[1]=l=>e.searchParam.store_name=l),modelModifiers:{trim:!0},placeholder:o(a)("storeNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(f,null,{default:r(()=>[t(_,{type:"primary",onClick:s[2]||(s[2]=l=>m())},{default:r(()=>[c(i(o(a)("search")),1)]),_:1}),t(_,{onClick:s[3]||(s[3]=l=>C(g.value))},{default:r(()=>[c(i(o(a)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),n("div",de,[D((b(),I(T,{data:e.data,size:"large"},{empty:r(()=>[n("span",null,i(e.loading?"":o(a)("emptyData")),1)]),default:r(()=>[t(p,{label:o(a)("storeInfo"),"min-width":"170",align:"left"},{default:r(({row:l})=>[n("div",me,[t(P,{class:"w-[50px] h-[50px]",src:o(M)(l.store_logo),fit:"contain"},{error:r(()=>[pe]),_:2},1032,["src"]),n("p",ce,i(l.store_name),1)])]),_:1},8,["label"]),t(p,{prop:"store_mobile",label:o(a)("storeMobile"),"min-width":"120"},null,8,["label"]),t(p,{prop:"full_address",label:o(a)("fullAddress"),"min-width":"180"},null,8,["label"]),t(p,{prop:"trade_time",label:o(a)("tradeTime"),"min-width":"120"},null,8,["label"]),t(p,{label:o(a)("createTime"),"min-width":"120"},{default:r(({row:l})=>[c(i(l.create_time||""),1)]),_:1},8,["label"]),t(p,{label:o(a)("operation"),fixed:"right",align:"right","min-width":"120"},{default:r(({row:l})=>[t(_,{type:"primary",link:"",onClick:z=>y(l)},{default:r(()=>[c(i(o(a)("edit")),1)]),_:2},1032,["onClick"]),t(_,{type:"primary",link:"",onClick:z=>w(l.store_id)},{default:r(()=>[c(i(o(a)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[S,e.loading]]),n("div",_e,[t(B,{"current-page":e.page,"onUpdate:current-page":s[4]||(s[4]=l=>e.page=l),"page-size":e.limit,"onUpdate:page-size":s[5]||(s[5]=l=>e.limit=l),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:s[6]||(s[6]=l=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{Le as default};
