import{d as N,x as R,n as $,r as D,bO as L,f as M,h as m,c as h,e as l,w as r,a as _,t as d,u as a,i,q as t,R as U,s as b,B as f,bP as j,a5 as I,E as q,K,L as O,M as W,a7 as Y,ad as G,al as H,ae as J,W as Q,Y as X}from"./index-904cb7a2.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{b as Z,d as ee}from"./shop_address-74ded3d9.js";const te={class:"main-container"},ae={class:"flex justify-between items-center"},le={class:"text-page-title"},oe={class:"mt-[10px]"},se={key:0},re={key:1},de={class:"mt-[16px] flex justify-end"},Te=N({__name:"list",setup(ne){const P=R().meta.title,e=$({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{mobile:"",full_address:""}}),v=D(),p=(n=1)=>{e.loading=!0,e.page=n,Z({page:e.page,limit:e.limit,...e.searchParam}).then(s=>{e.loading=!1,e.data=s.data.data,e.total=s.data.total,j(e.page,e.limit,e.searchParam)}).catch(()=>{e.loading=!1})};p(L(e.searchParam).page);const y=M(),E=()=>{y.push("/shop/order/address/edit")},w=n=>{y.push("/shop/order/address/edit?id="+n.id)},A=n=>{I.confirm(t("shopAddressDeleteTips"),t("warning"),{confirmButtonText:t("confirm"),cancelButtonText:t("cancel"),type:"warning"}).then(()=>{ee(n).then(()=>{p()}).catch(()=>{})})},T=n=>{n&&(n.resetFields(),p())};return(n,s)=>{const u=q,x=K,g=O,V=W,k=Y,c=G,C=H,B=J,z=Q,S=X;return m(),h("div",te,[l(k,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[_("div",ae,[_("span",le,d(a(P)),1),l(u,{type:"primary",onClick:E},{default:r(()=>[i(d(a(t)("addShopAddress")),1)]),_:1})]),l(k,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[l(V,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:v},{default:r(()=>[l(g,{label:a(t)("mobile"),prop:"mobile"},{default:r(()=>[l(x,{modelValue:e.searchParam.mobile,"onUpdate:modelValue":s[0]||(s[0]=o=>e.searchParam.mobile=o),modelModifiers:{trim:!0},placeholder:a(t)("mobilePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(g,{label:a(t)("fullAddress"),prop:"full_address"},{default:r(()=>[l(x,{modelValue:e.searchParam.full_address,"onUpdate:modelValue":s[1]||(s[1]=o=>e.searchParam.full_address=o),modelModifiers:{trim:!0},placeholder:a(t)("fullAddressPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(g,null,{default:r(()=>[l(u,{type:"primary",onClick:s[2]||(s[2]=o=>p())},{default:r(()=>[i(d(a(t)("search")),1)]),_:1}),l(u,{onClick:s[3]||(s[3]=o=>T(v.value))},{default:r(()=>[i(d(a(t)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),_("div",oe,[U((m(),b(B,{data:e.data,size:"large"},{empty:r(()=>[_("span",null,d(e.loading?"":a(t)("emptyData")),1)]),default:r(()=>[l(c,{prop:"contact_name",label:a(t)("contactName"),"min-width":"120"},null,8,["label"]),l(c,{prop:"mobile",label:a(t)("mobile"),"min-width":"120"},null,8,["label"]),l(c,{prop:"full_address",label:a(t)("fullAddress"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),l(c,{prop:"is_delivery_address",label:a(t)("addressType"),"min-width":"120",align:"left"},{default:r(({row:o})=>[o.is_delivery_address?(m(),h("div",se,[i(d(a(t)("deliveryAddress"))+" ",1),o.is_default_delivery?(m(),b(C,{key:0,size:"small"},{default:r(()=>[i(d(a(t)("default")),1)]),_:1})):f("",!0)])):f("",!0),o.is_refund_address?(m(),h("div",re,[i(d(a(t)("refundAddress"))+" ",1),o.is_default_refund?(m(),b(C,{key:0,size:"small"},{default:r(()=>[i(d(a(t)("default")),1)]),_:1})):f("",!0)])):f("",!0)]),_:1},8,["label"]),l(c,{label:a(t)("operation"),fixed:"right","min-width":"120",align:"right"},{default:r(({row:o})=>[l(u,{type:"primary",link:"",onClick:F=>w(o)},{default:r(()=>[i(d(a(t)("edit")),1)]),_:2},1032,["onClick"]),l(u,{type:"primary",link:"",onClick:F=>A(o.id)},{default:r(()=>[i(d(a(t)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[S,e.loading]]),_("div",de,[l(z,{"current-page":e.page,"onUpdate:current-page":s[4]||(s[4]=o=>e.page=o),"page-size":e.limit,"onUpdate:page-size":s[5]||(s[5]=o=>e.limit=o),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:s[6]||(s[6]=o=>p()),onCurrentChange:p},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{Te as default};
