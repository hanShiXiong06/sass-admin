import{d as qe,bD as Me,y as Ge,f as Je,r as f,q as Z,ao as V,m as We,Q as he,a3 as ee,a2 as ye,h as d,c as u,e as l,w as n,a as s,t as p,u as e,s as i,F as P,T as oe,v,i as g,x as te,$ as S,C as _,B as we,R as W,a0 as H,aY as He,a5 as Ce,U as ke,G as Qe,a1 as Ye,ab as Ke,aC as Xe,E as Ze,bE as eo,bA as oo,bB as to,V as lo,aU as no,K as io,at as ao,au as so,L as ro,aS as po,M as mo,bx as _o,bv as co,a7 as uo,p as fo,g as vo}from"./index-0e396751.js";/* empty css                */import go from"./index-11d71036.js";/* empty css                        *//* empty css                 *//* empty css                  *//* empty css                  *//* empty css                        */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                *//* empty css                  */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 *//* empty css                     *//* empty css                         */import{_ as bo}from"./index.vue_vue_type_script_setup_true_lang-5014406f.js";/* empty css               *//* empty css                  *//* empty css                  */import{_ as xo}from"./detail-form-image-fb39a7de.js";import{_ as ho}from"./detail-form-render-e3343a40.js";import{_ as yo}from"./edit-form-address-51b35e33.js";import{_ as wo}from"./edit-form-checkbox-ea8b04f2.js";import{_ as Co}from"./edit-form-date-scope-49fc0e21.js";import{_ as ko}from"./edit-form-date-157af25e.js";import{_ as Vo}from"./edit-form-email-25226e61.js";import{_ as Bo}from"./edit-form-file-9cb2d436.js";import{_ as So}from"./edit-form-identity-55fe84d9.js";import{_ as To}from"./edit-form-image-96baef79.js";import{_ as Uo}from"./edit-form-input-8708c060.js";import{_ as zo}from"./edit-form-location-e1440797.js";import{_ as Eo}from"./edit-form-mobile-0d4c125b.js";import{_ as Oo}from"./edit-form-number-508fb3c3.js";import{_ as No}from"./edit-form-radio-8b1cac72.js";import{_ as Ro}from"./edit-form-submit-1a38cbd2.js";import{_ as Do}from"./edit-form-table-9d1b958e.js";import{_ as jo}from"./edit-form-textarea-a8e98118.js";import{_ as Ao}from"./edit-form-time-scope-01058762.js";import{_ as Io}from"./edit-form-time-56a14cb3.js";import{_ as Po}from"./edit-form-video-77d93bd2.js";import{_ as Fo}from"./edit-form-wechat-name-1e8f754a.js";import{_ as $o}from"./form-spread-popup-3a61aea2.js";import{_ as Lo}from"./form-submit-popup-99fbef05.js";import{_ as qo}from"./form-write-popup-b5d921d9.js";import{_ as Mo}from"./add-theme-84624dbe.js";import{_ as Go}from"./edit-active-cube-ec411e93.js";import{_ as Jo}from"./edit-carousel-search-1839dba0.js";import{_ as Wo}from"./edit-float-btn-f1ff5ea0.js";import{_ as Ho}from"./edit-graphic-nav-03aecc43.js";import{_ as Qo}from"./edit-horz-blank-9fafd4fd.js";import{_ as Yo}from"./edit-horz-line-881ae571.js";import{_ as Ko}from"./edit-hot-area-a508f697.js";import{_ as Xo}from"./edit-image-ads-42f6b1c3.js";import{_ as Zo}from"./edit-member-info-04844908.js";import{_ as et}from"./edit-member-level-5686121b.js";import{_ as ot}from"./edit-notice-8ff089c0.js";import{_ as tt}from"./edit-page-1f7f0cee.js";import{_ as lt}from"./edit-picture-show-afb5c5cb.js";import{_ as nt}from"./edit-rich-text-6a09a24d.js";import{_ as it}from"./edit-rubik-cube-e3f467df.js";import{_ as at}from"./edit-text-c0221f54.js";import{_ as st}from"./edit-theme-ce12a28d.js";import{_ as rt}from"./theme-list-68454910.js";import{_ as pt}from"./edit-article-c5bfa36d.js";import{_ as dt}from"./edit-o2o-goods-list-0dea2fad.js";import{_ as mt}from"./edit-o2o-member-info-bedc2103.js";import{_ as _t}from"./edit-o2o-search-d0215295.js";import{_ as ct}from"./edit-o2o-technician-34180675.js";import{_ as ut}from"./edit-phone-goods-coupon-395e6ef5.js";import{_ as ft}from"./edit-phone-goods-list-1cdb6aa9.js";import{_ as vt}from"./edit-phone-many-goods-list-2e7e02f4.js";import{_ as gt}from"./edit-phone-shop-exchange-goods-ef93ab9b.js";import{_ as bt}from"./edit-phone-shop-exchange-info-d46de88e.js";import{_ as xt}from"./edit-phone-shop-member-info-e0126070.js";import{_ as ht}from"./edit-phone-shop-order-info-2effdff4.js";import{_ as yt}from"./edit-phone-shop-search-237fe9e3.js";import{_ as wt}from"./edit-goods-coupon-9632262a.js";import{_ as Ct}from"./edit-goods-list-f0dc3890.js";import{_ as kt}from"./edit-many-goods-list-4c74fc6c.js";import{_ as Vt}from"./edit-shop-exchange-goods-9539f582.js";import{_ as Bt}from"./edit-shop-exchange-info-97bd66e7.js";import{_ as St}from"./edit-shop-goods-ranking-3226317e.js";import{_ as Tt}from"./edit-shop-goods-recommend-41bd85c0.js";import{_ as Ut}from"./edit-shop-member-info-67db6ad6.js";import{_ as zt}from"./edit-shop-newcomer-ca3c6b54.js";import{_ as Et}from"./edit-shop-order-info-a7688d3b.js";import{_ as Ot}from"./edit-shop-search-bae658f1.js";import{_ as Nt}from"./edit-single-recommend-f9ba9378.js";import{_ as Rt}from"./edit-fenxiao-goods-list-0b21c4f3.js";import{_ as Dt}from"./edit-giftcard-list-da08866d.js";import{_ as jt}from"./edit-bwc-2e59421a.js";import{_ as At}from"./edit-gz-d492aa9a.js";import{_ as It}from"./edit-jhkd-fb50e0d8.js";import{_ as Pt}from"./edit-jhkdbrand-efb6fe54.js";import{_ as Ft}from"./edit-manage-41924415.js";import{_ as $t}from"./edit-vip-level-4b7dbcb1.js";import{_ as Lt}from"./edit-vip-real-7a15fe8d.js";import{_ as qt}from"./parent-member-509e4c14.js";import{_ as Mt}from"./poster-2d79ac52.js";import{_ as Gt}from"./ttn-edit-graphic-nav-43349f57.js";import{_ as Jt}from"./edit-vipcard-card-5c99578c.js";import{_ as Wt}from"./edit-vipcard-reserve-4a18336c.js";import{_ as Ht}from"./edit-vipcard-store-8557a9ee.js";import{i as Qt,d as Yt,f as Kt,h as Xt}from"./diy_form-e1ce8c59.js";import{u as Zt}from"./diy-0604e925.js";import{_ as el}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-d82568af.js";/* empty css                  *//* empty css                   */import"./attachment-c52133c7.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-34f8a01a.js";/* empty css                      *//* empty css                    *//* empty css                 *//* empty css               *//* empty css               *//* empty css                  *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-077a27b1.js";/* empty css                   */import"./sortable.esm-be94e56d.js";import"./range-91b90db8.js";/* empty css                       *//* empty css                       */import"./form-spread-popup.vue_vue_type_script_setup_true_lang-ac1b63e0.js";/* empty css                    */import"./browser-a1ac24ac.js";import"./form-write-popup.vue_vue_type_style_index_0_lang-2798aae8.js";import"./member-fcb60d7e.js";import"./add-theme.vue_vue_type_script_setup_true_lang-55a88ae6.js";import"./index.vue_vue_type_style_index_0_lang-879dde6f.js";import"./diy-e7cda029.js";/* empty css                        */import"./index-318b623f.js";import"./index.vue_vue_type_script_setup_true_lang-406de1d6.js";import"./edit-theme.vue_vue_type_script_setup_true_lang-375e19d7.js";import"./theme-list.vue_vue_type_script_setup_true_lang-3f275a09.js";/* empty css                 */import"./article-facade75.js";import"./category-9c4c9137.js";import"./goods-select-popup-27faf2c1.js";/* empty css                          */import"./goods_default-665e448a.js";import"./goods-e8b43505.js";import"./coupon-select-popup-17e370a6.js";import"./marketing-3a9740c7.js";import"./category_default-57987dd3.js";import"./goods-4d7d064c.js";import"./goods-select-popup-9347d583.js";import"./goods_default-664bb559.js";import"./goods-select-popup.vue_vue_type_script_setup_true_lang-103395d9.js";import"./coupon-select-popup-c7a22978.js";import"./marketing-c0187315.js";import"./category_default-03996666.js";import"./goods-995cb067.js";import"./goods-select-popup-31c232c1.js";import"./goods_default-995568ac.js";import"./goods-select-popup.vue_vue_type_script_setup_true_lang-807d4344.js";import"./rank-select-popup-e8885967.js";import"./newcomer-goods-select-popup-0092f954.js";import"./category-c4be98bf.js";import"./giftcard-select-popup-bb6b4870.js";import"./giftcard-3943317a.js";import"./index.es-81502c2c.js";/* empty css              */import"./poster-fe5eb9cd.js";import"./goods-select-popup-22c1ac88.js";import"./vipcard-7f8d9659.js";const x=F=>(fo("data-v-9dff2d7f"),F=F(),vo(),F),ol={class:"main-container flex-1"},tl={class:"pl-[5px] text-[14px]"},ll={class:"text-white ml-[10px] mr-[20px] flex items-center"},nl=x(()=>s("span",{class:"mr-[5px] text-[rgba(255,255,255,.5)]"},"｜",-1)),il={class:"mr-[5px] text-[14px]"},al={class:"flex items-center"},sl={class:"text-white mr-[10px] text-base"},rl={class:"w-[180px]"},pl=x(()=>s("div",{class:"flex-1"},null,-1)),dl={class:"full-container flex flex-row flex-1 bg-page"},ml={class:"component-list w-[290px]"},_l={class:"flex flex-row flex-wrap"},cl=["title","onClick"],ul={class:"block text-[12px] truncate"},fl={class:"preview-wrap flex-1 relative mt-[20px]"},vl={class:"diy-view-wrap w-[375px] shadow-lg mx-auto"},gl={key:0,class:"content-wrap"},bl={key:1,class:"content-wrap"},xl={key:0,class:"h-[28px] max-w-[150px] mr-[8px]"},hl=["src"],yl={key:2,class:"content-wrap"},wl={key:0,class:"title-wrap"},Cl=["src"],kl={class:"search"},Vl=x(()=>s("span",{class:"nc-iconfont nc-icon-sousuo-duanV6xx1 !text-[12px] absolute left-[10px]"},null,-1)),Bl={class:"text-[12px]"},Sl={key:3,class:"content-wrap"},Tl={class:"preview-block relative"},Ul={class:"quick-action absolute text-center -right-[70px] top-[20px] w-[42px] rounded shadow-md"},zl=["src"],El={class:"preview-iframe w-[375px] pt-[20px] px-[20px]"},Ol={class:"font-bold text-xl mb-[40px]"},Nl={class:"mb-[20px] flex flex-col"},Rl={class:"mb-[10px]"},Dl={class:"edit-attribute-wrap w-[400px]"},jl={class:"card-header flex justify-between items-center"},Al={class:"title flex-1"},Il={key:0,class:"tab-wrap flex rounded-[50px] bg-gray-100 text-[14px]"},Pl={class:"edit-component-wrap"},Fl={key:0,class:"edit-attr-item-wrap"},$l={class:"mb-[10px]"},Ll={class:"flex items-center"},ql={class:"mr-[3px]"},Ml=x(()=>s("h6",{class:"font-bold text-[13px] mb-[5px]"},"单列平铺‌",-1)),Gl=x(()=>s("p",{class:"ml-[10px]"},"将所有需要填写的表单内容项直接罗列在页面上。",-1)),Jl=x(()=>s("p",{class:"ml-[10px]"},"适用于表单内容项较少且项目之间无逻辑关系的情况。",-1)),Wl=x(()=>s("p",{class:"ml-[10px]"},"其优势在于相对简洁、便于操作",-1)),Hl=x(()=>s("p",{class:"ml-[10px]"},"但当表单项数量较大时，一次性展示全部信息会增加用户的操作负担，填写效率较低",-1)),Ql=x(()=>s("h6",{class:"font-bold text-[13px] mb-[5px] mt-[10px]"},"左右排列‌",-1)),Yl=x(()=>s("p",{class:"ml-[10px]"},"将表单分为左右两部分，左侧为标题和描述，右侧为输入区域。",-1)),Kl=x(()=>s("p",{class:"ml-[10px]"},"这种布局适用于标题和描述内容较少的情况，能够提高表单的紧凑性和用户体验。",-1)),Xl={class:"text-sm text-gray-400"},Zl={key:0,class:"edit-attr-item-wrap"},en={class:"mb-[10px]"},on={key:0,class:"edit-attr-item-wrap"},tn={class:"mb-[10px]"},ln={class:"flex items-center"},nn={class:"mr-[3px]"},an=x(()=>s("p",null,"勾选后填表人填表时看不到该字段。",-1)),sn=x(()=>s("p",null,"适用于你不再收集该字段又不希望删除已收集的数据。",-1)),rn={class:"edit-attr-item-wrap"},pn={class:"mb-[10px]"},dn={class:"edit-attr-item-wrap"},mn={class:"mb-[10px]"},_n={class:"edit-attr-item-wrap"},cn={class:"mb-[10px]"},un={class:"text-sm text-gray-400 ml-[90px] mb-[10px]"},fn=qe({__name:"edit",setup(F){Me("setLayout")("decorate");const o=Zt(),w=Ge(),le=Je();w.query.form_id=w.query.form_id||0,w.query.type=w.query.type||"",w.query.back=w.query.back||"/site/diy_form/list";const $=w.query.back,T=f(""),ne=f(""),L=f(""),E=f(""),Q=f(""),q=f(!1),M=f(!1),ie=f(0),ae=f(0),O=f([]),se=Z([]),re=f("/app/pages/index/diy_form"),pe=f(se),Ve=r=>{},N=Z({form_id:o.id,name:o.name,pageTitle:o.pageTitle,title:o.global.title,value:JSON.stringify({global:V(o.global),value:V(o.value)})}),Be=We(()=>{let r=15;return o.global.completeLayout=="style-2"&&(r=5,o.editComponent.field.name=o.editComponent.field.name.slice(0,5)),r}),de=f(!0),Se=()=>{de.value?(location.href=`${location.origin}${$}`,le.push($)):Ce.confirm(i("leavePageTitleTips"),i("leavePageContentTips"),{confirmButtonText:i("confirm"),cancelButtonText:i("cancel"),type:"warning",autofocus:!1}).then(()=>{location.href=`${location.origin}${$}`}).catch(()=>{})},G=Object.assign({"./components/detail-form-image.vue":xo,"./components/detail-form-render.vue":ho,"./components/edit-form-address.vue":yo,"./components/edit-form-checkbox.vue":wo,"./components/edit-form-date-scope.vue":Co,"./components/edit-form-date.vue":ko,"./components/edit-form-email.vue":Vo,"./components/edit-form-file.vue":Bo,"./components/edit-form-identity.vue":So,"./components/edit-form-image.vue":To,"./components/edit-form-input.vue":Uo,"./components/edit-form-location.vue":zo,"./components/edit-form-mobile.vue":Eo,"./components/edit-form-number.vue":Oo,"./components/edit-form-radio.vue":No,"./components/edit-form-submit.vue":Ro,"./components/edit-form-table.vue":Do,"./components/edit-form-textarea.vue":jo,"./components/edit-form-time-scope.vue":Ao,"./components/edit-form-time.vue":Io,"./components/edit-form-video.vue":Po,"./components/edit-form-wechat-name.vue":Fo,"./components/form-spread-popup.vue":$o,"./components/form-submit-popup.vue":Lo,"./components/form-write-popup.vue":qo}),me=Object.assign({});me&&Object.assign(G,me);const _e=Object.assign({"../diy/components/add-theme.vue":Mo,"../diy/components/edit-active-cube.vue":Go,"../diy/components/edit-carousel-search.vue":Jo,"../diy/components/edit-float-btn.vue":Wo,"../diy/components/edit-graphic-nav.vue":Ho,"../diy/components/edit-horz-blank.vue":Qo,"../diy/components/edit-horz-line.vue":Yo,"../diy/components/edit-hot-area.vue":Ko,"../diy/components/edit-image-ads.vue":Xo,"../diy/components/edit-member-info.vue":Zo,"../diy/components/edit-member-level.vue":et,"../diy/components/edit-notice.vue":ot,"../diy/components/edit-page.vue":tt,"../diy/components/edit-picture-show.vue":lt,"../diy/components/edit-rich-text.vue":nt,"../diy/components/edit-rubik-cube.vue":it,"../diy/components/edit-text.vue":at,"../diy/components/edit-theme.vue":st,"../diy/components/theme-list.vue":rt}),ce=Object.assign({"/src/addon/cms/views/diy/components/edit-article.vue":pt,"/src/addon/o2o/views/diy/components/edit-o2o-goods-list.vue":dt,"/src/addon/o2o/views/diy/components/edit-o2o-member-info.vue":mt,"/src/addon/o2o/views/diy/components/edit-o2o-search.vue":_t,"/src/addon/o2o/views/diy/components/edit-o2o-technician.vue":ct,"/src/addon/phone_shop/views/diy/components/edit-phone-goods-coupon.vue":ut,"/src/addon/phone_shop/views/diy/components/edit-phone-goods-list.vue":ft,"/src/addon/phone_shop/views/diy/components/edit-phone-many-goods-list.vue":vt,"/src/addon/phone_shop/views/diy/components/edit-phone-shop-exchange-goods.vue":gt,"/src/addon/phone_shop/views/diy/components/edit-phone-shop-exchange-info.vue":bt,"/src/addon/phone_shop/views/diy/components/edit-phone-shop-member-info.vue":xt,"/src/addon/phone_shop/views/diy/components/edit-phone-shop-order-info.vue":ht,"/src/addon/phone_shop/views/diy/components/edit-phone-shop-search.vue":yt,"/src/addon/shop/views/diy/components/edit-goods-coupon.vue":wt,"/src/addon/shop/views/diy/components/edit-goods-list.vue":Ct,"/src/addon/shop/views/diy/components/edit-many-goods-list.vue":kt,"/src/addon/shop/views/diy/components/edit-shop-exchange-goods.vue":Vt,"/src/addon/shop/views/diy/components/edit-shop-exchange-info.vue":Bt,"/src/addon/shop/views/diy/components/edit-shop-goods-ranking.vue":St,"/src/addon/shop/views/diy/components/edit-shop-goods-recommend.vue":Tt,"/src/addon/shop/views/diy/components/edit-shop-member-info.vue":Ut,"/src/addon/shop/views/diy/components/edit-shop-newcomer.vue":zt,"/src/addon/shop/views/diy/components/edit-shop-order-info.vue":Et,"/src/addon/shop/views/diy/components/edit-shop-search.vue":Ot,"/src/addon/shop/views/diy/components/edit-single-recommend.vue":Nt,"/src/addon/shop_fenxiao/views/diy/components/edit-fenxiao-goods-list.vue":Rt,"/src/addon/shop_giftcard/views/diy/components/edit-giftcard-list.vue":Dt,"/src/addon/tk_cps/views/diy/components/edit-bwc.vue":jt,"/src/addon/tk_jhkd/views/diy/components/edit-gz.vue":At,"/src/addon/tk_jhkd/views/diy/components/edit-jhkd.vue":It,"/src/addon/tk_jhkd/views/diy/components/edit-jhkdbrand.vue":Pt,"/src/addon/tk_vip/views/diy/components/edit-manage.vue":Ft,"/src/addon/tk_vip/views/diy/components/edit-vip-level.vue":$t,"/src/addon/tk_vip/views/diy/components/edit-vip-real.vue":Lt,"/src/addon/tt_niucloud/views/diy/components/parent-member.vue":qt,"/src/addon/tt_niucloud/views/diy/components/poster.vue":Mt,"/src/addon/tt_niucloud/views/diy/components/ttn-edit-graphic-nav.vue":Gt,"/src/addon/vipcard/views/diy/components/edit-vipcard-card.vue":Jt,"/src/addon/vipcard/views/diy/components/edit-vipcard-reserve.vue":Wt,"/src/addon/vipcard/views/diy/components/edit-vipcard-store.vue":Ht});_e&&Object.assign(G,_e),ce&&Object.assign(G,ce);const ue={};for(const[r,t]of Object.entries(G)){const h=r.split("/").pop().split(".")[0];ue[h]=t.default}const J=Z({}),Te=r=>{Yt({type:r}).then(t=>{for(const c in t.data)J[c]=t.data[c]})};he(()=>T.value,(r,t)=>{ne.value=t});const Ue=r=>{if(o.value.length)Ce.confirm(i("changeTemplatePageTips"),i("warning"),{confirmButtonText:i("confirm"),cancelButtonText:i("cancel"),type:"warning"}).then(()=>{if(o.changeCurrentIndex(-99),o.init(),r){let t=ee(J[r].data);o.global=t.global,t.value.length&&(o.value=t.value)}}).catch(()=>{T.value=ne.value});else if(o.init(),r){let t=ee(J[r].data);o.global=t.global,t.value.length&&(o.value=t.value)}};he(()=>o,(r,t)=>{const c={form_id:r.id,name:r.name,pageTitle:r.pageTitle,title:r.global.title,value:JSON.stringify({global:V(r.global),value:V(r.value)})};o.postMessage(),de.value=JSON.stringify(c)==JSON.stringify(N)},{deep:!0}),Qt({form_id:w.query.form_id,type:w.query.type}).then(async r=>{const t=r.data;if(o.init(),o.id=t.form_id||0,o.pageTitle=t.page_title,o.type=t.type,o.typeName=t.type_name,o.templateName=t.template,T.value=t.template,t.value){const c=t.value;o.global=c.global,c.value.length&&(o.value=c.value)}else o.global.title=t.title;N.form_id=o.id,N.pageTitle=o.pageTitle,N.title=o.global.title,N.value=JSON.stringify({global:V(o.global),value:V(o.value)}),O.value=t.component;for(const c in O.value){se.push(c);for(const h in O.value[c].list){const b=ee(O.value[c].list[h]);b.id=o.generateRandom(),b.componentName=h,b.componentTitle=b.title,Object.assign(b,b.value),delete b.name,delete b.title,delete b.value,delete b.icon,o.components.push(b)}}Te(t.type),E.value=t.domain_url.wap_domain,L.value=t.domain_url.wap_url,ve()});const fe=f(!1);window.addEventListener("message",r=>{try{let t={type:""};if(typeof r.data=="string"?t=JSON.parse(r.data):typeof r.data=="object"&&(t=r.data),!t.type)return;switch(t.type){case"appOnLaunch":case"appOnReady":M.value=!1,q.value=!0;let c=new Date().getTime();ae.value=c-ie.value,fe.value=!0;break;case"init":o.load=!0,o.postMessage();break;case"change":o.changeCurrentIndex(t.index,t.component);break;case"data":o.changeCurrentIndex(t.index,t.component),o.global=t.global,o.value=t.value;break}}catch(t){console.log("diy edit 后台接受数据错误",t)}},!1);const ze=()=>{if(E.value.trim().length==0){ke({type:"warning",message:`${i("wapDomainPlaceholder")}`});return}L.value=E.value+"/wap",ve(),Qe.set({key:"wap_domain",data:L.value}),q.value=!0,M.value=!1},ve=()=>{Q.value=`${L.value}${re.value}?mode=decorate`;const r=()=>{ie.value=new Date().getTime(),Ee()};r();let t=0,c=setInterval(()=>{if(fe.value||t>=50){clearInterval(c);return}r(),t++},200);setTimeout(()=>{ae.value==0&&Oe()},1e3*10)},Ee=()=>{const r=JSON.stringify({type:"appOnReady",message:"加载完成"});window.previewIframe&&window.previewIframe.contentWindow.postMessage(r,"*")},Oe=()=>{M.value=!0,q.value=!1,Q.value=""},Ne=()=>{for(var r=0;r<o.value.length;r++)try{if(o.value[r].componentType=="diy_form"&&o.value[r].componentName!="FormSubmit"&&o.value[r].field.name=="")return o.changeCurrentIndex(r,o.value[r]),ke({message:i("请输入字段名称"),type:"warning"}),!1}catch(t){console.log("verifyFormComponent Error:",t,r,o.value[r])}return!0},R=f(!1),ge=r=>{if(!o.verify()||!Ne()||R.value)return;R.value=!0,o.templateName=T.value;let t={form_id:o.id,name:o.name,page_title:o.pageTitle,title:o.global.title,type:o.type,template:o.templateName,value:JSON.stringify({global:V(o.global),value:V(o.value)})};(o.id?Kt:Xt)(t).then(h=>{R.value=!1,h.code==1&&(o.id?R.value=!1:location.href=`${location.origin}${$}`,r&&r(h.data.form_id))}).catch(()=>{R.value=!1})},Re=()=>{ge(r=>{r=o.id||r;const t=le.resolve({path:"/site/preview/wap",query:{page:`${re.value}?form_id=`+r}});window.open(t.href)})},De=r=>{r=="style-2"&&o.value.forEach((t,c)=>{t.componentType=="diy_form"&&t.componentName!="FormSubmit"&&(t.field.name=t.field.name.slice(0,5))})},je=()=>{window.open("https://www.kancloud.cn/niucloud/niucloud-admin-develop/3213393")};return(r,t)=>{const c=ye("ArrowLeft"),h=Ye,b=Ke,Ae=Xe,D=Ze,Ie=eo,C=bo,Pe=oo,Fe=to,Y=lo,B=no,K=io,be=ye("QuestionFilled"),y=ao,j=so,m=ro,X=po,U=mo,k=_o,z=co,$e=go,Le=uo;return d(),u("div",ol,[l(Ie,{class:"flex items-center h-[60px] bg-primary px-[20px]"},{default:n(()=>[s("div",{class:"text-white cursor-pointer flex items-center",onClick:Se},[l(h,{size:"14"},{default:n(()=>[l(c)]),_:1}),s("span",tl,p(e(i)("back")),1)]),s("div",ll,[nl,s("span",il,p(e(i)("decorating"))+"："+p(e(o).typeName),1)]),s("div",al,[s("span",sl,p(e(i)("templatePagePlaceholder")),1),s("div",rl,[l(Ae,{size:"small",modelValue:T.value,"onUpdate:modelValue":t[0]||(t[0]=a=>T.value=a),placeholder:e(i)("templatePagePlaceholder"),onChange:Ue},{default:n(()=>[l(b,{label:e(i)("templatePageEmpty"),value:""},null,8,["label"]),(d(!0),u(P,null,oe(J,(a,A)=>(d(),v(b,{label:a.title,value:A,key:A},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])]),pl,l(D,{onClick:t[1]||(t[1]=a=>Re())},{default:n(()=>[g(p(e(i)("preview")),1)]),_:1}),l(D,{onClick:t[2]||(t[2]=a=>ge())},{default:n(()=>[g(p(e(i)("save")),1)]),_:1})]),_:1}),s("div",dl,[s("div",ml,[l(Y,{class:"px-[10px]"},{default:n(()=>[l(Fe,{modelValue:pe.value,"onUpdate:modelValue":t[3]||(t[3]=a=>pe.value=a),onChange:Ve},{default:n(()=>[(d(!0),u(P,null,oe(O.value,(a,A)=>(d(),v(Pe,{key:A,title:a.title,name:A},{default:n(()=>[s("ul",_l,[(d(!0),u(P,null,oe(a.list,(I,xe)=>(d(),u("li",{key:xe,class:"w-2/6 text-center cursor-pointer h-[65px]",title:I.title,onClick:gn=>e(o).addComponent(xe,I)},[I.icon?(d(),v(C,{key:0,name:I.icon,size:"20px",class:"inline-block mt-[3px]"},null,8,["name"])):(d(),v(C,{key:1,name:"iconfont iconkaifazujian",size:"20px",class:"inline-block mt-[3px]"})),s("span",ul,p(I.title),1)],8,cl))),128))])]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])]),_:1})]),s("div",fl,[l(Y,null,{default:n(()=>[l(D,{class:"page-btn absolute right-[20px]",onClick:t[4]||(t[4]=a=>e(o).changeCurrentIndex(-99))},{default:n(()=>[g(p(e(i)("pageSet")),1)]),_:1}),s("div",vl,[s("div",{class:te(["preview-head bg-no-repeat bg-center bg-cover cursor-pointer h-[64px]",[e(o).global.topStatusBar.style]]),style:S({backgroundColor:e(o).global.topStatusBar.bgColor}),onClick:t[5]||(t[5]=a=>e(o).changeCurrentIndex(-99))},[e(o).global.topStatusBar.style=="style-1"&&e(o).global.topStatusBar.isShow?(d(),u("div",gl,[s("div",{class:"title-wrap",style:S({fontSize:"14px",color:e(o).global.topStatusBar.textColor,textAlign:e(o).global.topStatusBar.textAlign})},p(e(o).global.title),5)])):_("",!0),e(o).global.topStatusBar.style=="style-2"&&e(o).global.topStatusBar.isShow?(d(),u("div",bl,[s("div",{class:"title-wrap",style:S({color:e(o).global.topStatusBar.textColor})},[e(o).global.topStatusBar.imgUrl?(d(),u("div",xl,[s("img",{class:"max-w-[100%] max-h-[100%]",src:e(we)(e(o).global.topStatusBar.imgUrl),mode:"heightFix"},null,8,hl)])):_("",!0),s("div",{style:S({color:e(o).global.topStatusBar.textColor})},p(e(o).global.title),5)],4)])):_("",!0),e(o).global.topStatusBar.style=="style-3"&&e(o).global.topStatusBar.isShow?(d(),u("div",yl,[e(o).global.topStatusBar.imgUrl?(d(),u("div",wl,[s("img",{class:"max-w-[100%] max-h-[100%]",src:e(we)(e(o).global.topStatusBar.imgUrl)},null,8,Cl)])):_("",!0),s("div",kl,[Vl,s("span",Bl,p(e(o).global.topStatusBar.inputPlaceholder),1)])])):_("",!0),e(o).global.topStatusBar.style=="style-4"&&e(o).global.topStatusBar.isShow?(d(),u("div",Sl,[s("span",{class:"iconfont iconxiazai19 !text-[14px]",style:S({color:e(o).global.topStatusBar.textColor})},null,4),s("div",{class:"title-wrap",style:S({color:e(o).global.topStatusBar.textColor})},"我的位置",4),s("span",{class:"iconfont iconxiangyoujiantou !text-[12px]",style:S({color:e(o).global.topStatusBar.textColor})},null,4)])):_("",!0)],6),s("div",Tl,[s("ul",Ul,[l(B,{effect:"light",content:e(i)("moveUpComponent"),placement:"right"},{default:n(()=>[l(C,{name:"iconfont iconjiantoushang",size:"20px",class:"block cursor-pointer leading-[40px]",onClick:e(o).moveUpComponent},null,8,["onClick"])]),_:1},8,["content"]),l(B,{effect:"light",content:e(i)("moveDownComponent"),placement:"right"},{default:n(()=>[l(C,{name:"iconfont iconjiantouxia",size:"20px",class:"block cursor-pointer leading-[40px]",onClick:e(o).moveDownComponent},null,8,["onClick"])]),_:1},8,["content"]),l(B,{effect:"light",content:e(i)("copyComponent"),placement:"right"},{default:n(()=>[l(C,{name:"iconfont iconcopy-line",size:"20px",class:"block cursor-pointer leading-[40px]",onClick:e(o).copyComponent},null,8,["onClick"])]),_:1},8,["content"]),l(B,{effect:"light",content:e(i)("delComponent"),placement:"right"},{default:n(()=>[l(C,{name:"iconfont icondelete-line",size:"20px",class:"block cursor-pointer leading-[40px]",onClick:e(o).delComponent},null,8,["onClick"])]),_:1},8,["content"]),l(B,{effect:"light",content:e(i)("resetComponent"),placement:"right"},{default:n(()=>[l(C,{name:"iconfont iconloader-line",size:"20px",class:"block cursor-pointer leading-[40px]",onClick:e(o).resetComponent},null,8,["onClick"])]),_:1},8,["content"])]),W(s("iframe",{id:"previewIframe",src:Q.value,frameborder:"0",class:"preview-iframe w-[375px]"},null,8,zl),[[H,q.value]]),W(s("div",El,[s("div",Ol,p(e(i)("developTitle")),1),s("div",Nl,[s("text",Rl,p(e(i)("wapDomain")),1),l(K,{modelValue:E.value,"onUpdate:modelValue":t[6]||(t[6]=a=>E.value=a),modelModifiers:{trim:!0},placeholder:e(i)("wapDomainPlaceholder"),clearable:""},null,8,["modelValue","placeholder"])]),l(D,{type:"primary",onClick:ze},{default:n(()=>[g(p(e(i)("confirm")),1)]),_:1}),l(D,{type:"primary",onClick:t[7]||(t[7]=a=>je()),plain:""},{default:n(()=>[g(p(e(i)("settingTips")),1)]),_:1})],512),[[H,M.value]])])])]),_:1})]),s("div",Dl,[l(Y,null,{default:n(()=>[l(Le,{class:"box-card",shadow:"never"},{header:n(()=>[s("div",jl,[s("span",Al,p(e(o).currentIndex==-99?e(i)("pageSet"):e(o).editComponent.componentTitle),1),e(o).currentComponent?(d(),u("div",Il,[s("span",{class:te(["cursor-pointer rounded-[50px] py-[5px] px-[15px]",{"bg-primary text-white":e(o).editTab=="content"}]),onClick:t[8]||(t[8]=a=>e(o).editTab="content")},p(e(i)("tabEditContent")),3),s("span",{class:te(["cursor-pointer rounded-[50px] py-[5px] px-[15px]",{"bg-primary text-white":e(o).editTab=="style"}]),onClick:t[9]||(t[9]=a=>e(o).editTab="style")},p(e(i)("tabEditStyle")),3)])):_("",!0)])]),default:n(()=>[s("div",Pl,[e(o).currentComponent?(d(),v(He(ue[e(o).currentComponent]),{key:e(o).currentIndex,value:e(o).value[e(o).currentIndex]},{content:n(()=>[e(o).currentComponent=="edit-page"?(d(),u("div",Fl,[s("h3",$l,p(e(i)("表单布局")),1),l(U,{"label-width":"90px",class:"px-[10px]"},{default:n(()=>[l(m,{class:"display-block"},{label:n(()=>[s("div",Ll,[s("span",ql,p(e(i)("排版风格")),1),l(B,{effect:"light",placement:"top"},{content:n(()=>[Ml,Gl,Jl,Wl,Hl,Ql,Yl,Kl]),default:n(()=>[l(h,null,{default:n(()=>[l(be,{color:"#999999"})]),_:1})]),_:1})])]),default:n(()=>[l(j,{modelValue:e(o).global.completeLayout,"onUpdate:modelValue":t[10]||(t[10]=a=>e(o).global.completeLayout=a),onChange:De},{default:n(()=>[l(y,{label:"style-1"},{default:n(()=>[g(p(e(i)("单列平铺‌")),1)]),_:1}),l(y,{label:"style-2"},{default:n(()=>[g(p(e(i)("左右排列‌")),1)]),_:1})]),_:1},8,["modelValue"]),s("div",Xl,p(e(i)("切换后将同步所有表单组件的展示形式")),1)]),_:1}),W(l(m,{label:e(i)("textAlign")},{default:n(()=>[l(j,{modelValue:e(o).global.completeAlign,"onUpdate:modelValue":t[11]||(t[11]=a=>e(o).global.completeAlign=a)},{default:n(()=>[l(y,{label:"left"},{default:n(()=>[g(p(e(i)("textAlignLeft")),1)]),_:1}),l(y,{label:"right"},{default:n(()=>[g(p(e(i)("textAlignRight")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),[[H,e(o).global.completeLayout=="style-2"]]),W(l(m,{label:e(i)("边框开关")},{default:n(()=>[l(X,{modelValue:e(o).global.borderControl,"onUpdate:modelValue":t[12]||(t[12]=a=>e(o).global.borderControl=a)},null,8,["modelValue"])]),_:1},8,["label"]),[[H,e(o).global.completeLayout=="style-2"]])]),_:1})])):_("",!0)]),field:n(()=>[e(o).editComponent.componentType=="diy_form"?(d(),u("div",Zl,[s("h3",en,p(e(i)("字段内容")),1),l(U,{"label-width":"100px",class:"px-[10px]"},{default:n(()=>[l(m,{label:e(i)("字段名称")},{default:n(()=>[l(K,{modelValue:e(o).editComponent.field.name,"onUpdate:modelValue":t[13]||(t[13]=a=>e(o).editComponent.field.name=a),modelModifiers:{trim:!0},placeholder:e(i)("fieldNamePlaceholder"),clearable:"",maxlength:e(Be),"show-word-limit":""},null,8,["modelValue","placeholder","maxlength"])]),_:1},8,["label"]),l(m,{label:e(i)("字段说明")},{default:n(()=>[l(K,{modelValue:e(o).editComponent.field.remark.text,"onUpdate:modelValue":t[14]||(t[14]=a=>e(o).editComponent.field.remark.text=a),modelModifiers:{trim:!0},placeholder:e(i)("fieldRemarkPlaceholder"),clearable:"",maxlength:"60","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})])):_("",!0)]),other:n(()=>[e(o).editComponent.componentType=="diy_form"?(d(),u("div",on,[s("h3",tn,p(e(i)("其他设置")),1),l(U,{"label-width":"100px",class:"px-[10px]"},{default:n(()=>[l(m,{label:e(i)("isRequired")},{default:n(()=>[l(X,{modelValue:e(o).editComponent.field.required,"onUpdate:modelValue":t[15]||(t[15]=a=>e(o).editComponent.field.required=a)},null,8,["modelValue"])]),_:1},8,["label"]),l(m,null,{label:n(()=>[s("div",ln,[s("span",nn,p(e(i)("隐藏该组件")),1),l(B,{effect:"light",placement:"top"},{content:n(()=>[an,sn]),default:n(()=>[l(h,null,{default:n(()=>[l(be,{color:"#999999"})]),_:1})]),_:1})])]),default:n(()=>[l(X,{modelValue:e(o).editComponent.isHidden,"onUpdate:modelValue":t[16]||(t[16]=a=>e(o).editComponent.isHidden=a)},null,8,["modelValue"])]),_:1})]),_:1})])):_("",!0)]),"style-field":n(()=>[e(o).editComponent.componentType=="diy_form"?(d(),u(P,{key:0},[s("div",rn,[s("h3",pn,p(e(i)("文字样式")),1),l(U,{"label-width":"80px",class:"px-[10px]"},{default:n(()=>[l(m,{label:e(i)("textFontSize")},{default:n(()=>[l(k,{modelValue:e(o).editComponent.fontSize,"onUpdate:modelValue":t[17]||(t[17]=a=>e(o).editComponent.fontSize=a),"show-input":"",size:"small",class:"ml-[10px] diy-nav-slider",min:12,max:18},null,8,["modelValue"])]),_:1},8,["label"]),l(m,{label:e(i)("textFontWeight")},{default:n(()=>[l(j,{modelValue:e(o).editComponent.fontWeight,"onUpdate:modelValue":t[18]||(t[18]=a=>e(o).editComponent.fontWeight=a)},{default:n(()=>[l(y,{label:"normal"},{default:n(()=>[g(p(e(i)("fontWeightNormal")),1)]),_:1}),l(y,{label:"bold"},{default:n(()=>[g(p(e(i)("fontWeightBold")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(m,{label:e(i)("textColor")},{default:n(()=>[l(z,{modelValue:e(o).editComponent.textColor,"onUpdate:modelValue":t[19]||(t[19]=a=>e(o).editComponent.textColor=a)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),s("div",dn,[s("h3",mn,p(e(i)("字段说明样式")),1),l(U,{"label-width":"80px",class:"px-[10px]"},{default:n(()=>[l(m,{label:e(i)("textFontSize")},{default:n(()=>[l(k,{modelValue:e(o).editComponent.field.remark.fontSize,"onUpdate:modelValue":t[20]||(t[20]=a=>e(o).editComponent.field.remark.fontSize=a),"show-input":"",size:"small",class:"ml-[10px] diy-nav-slider",min:12,max:18},null,8,["modelValue"])]),_:1},8,["label"]),l(m,{label:e(i)("textColor")},{default:n(()=>[l(z,{modelValue:e(o).editComponent.field.remark.color,"onUpdate:modelValue":t[21]||(t[21]=a=>e(o).editComponent.field.remark.color=a)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})])],64)):_("",!0)]),style:n(()=>[s("div",_n,[s("h3",cn,p(e(i)("componentStyleTitle")),1),l(U,{"label-width":"90px",class:"px-[10px]"},{default:n(()=>[e(o).editComponent.ignore.indexOf("pageBgColor")==-1?(d(),u(P,{key:0},[l(m,{label:e(i)("bottomBgColor")},{default:n(()=>[l(z,{modelValue:e(o).editComponent.pageStartBgColor,"onUpdate:modelValue":t[22]||(t[22]=a=>e(o).editComponent.pageStartBgColor=a),"show-alpha":"",predefine:e(o).predefineColors},null,8,["modelValue","predefine"]),l(C,{name:"iconfont iconmap-connect",size:"20px",class:"block !text-gray-400 mx-[5px]"}),l(z,{modelValue:e(o).editComponent.pageEndBgColor,"onUpdate:modelValue":t[23]||(t[23]=a=>e(o).editComponent.pageEndBgColor=a),"show-alpha":"",predefine:e(o).predefineColors},null,8,["modelValue","predefine"])]),_:1},8,["label"]),s("div",un,p(e(i)("bottomBgTips")),1)],64)):_("",!0),e(o).editComponent.ignore.indexOf("pageBgColor")==-1?(d(),v(m,{key:1,label:e(i)("bgGradientAngle")},{default:n(()=>[l(j,{modelValue:e(o).editComponent.pageGradientAngle,"onUpdate:modelValue":t[24]||(t[24]=a=>e(o).editComponent.pageGradientAngle=a)},{default:n(()=>[l(y,{label:"to bottom"},{default:n(()=>[g(p(e(i)("topToBottom")),1)]),_:1}),l(y,{label:"to right"},{default:n(()=>[g(p(e(i)("leftToRight")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):_("",!0),e(o).editComponent.ignore.indexOf("componentBgUrl")==-1?(d(),v(m,{key:2,label:e(i)("componentBgUrl")},{default:n(()=>[l($e,{modelValue:e(o).editComponent.componentBgUrl,"onUpdate:modelValue":t[25]||(t[25]=a=>e(o).editComponent.componentBgUrl=a),limit:1},null,8,["modelValue"])]),_:1},8,["label"])):_("",!0),e(o).editComponent.ignore.indexOf("componentBgUrl")==-1&&e(o).editComponent.componentBgUrl?(d(),v(m,{key:3,label:e(i)("componentBgAlpha")},{default:n(()=>[l(k,{modelValue:e(o).editComponent.componentBgAlpha,"onUpdate:modelValue":t[26]||(t[26]=a=>e(o).editComponent.componentBgAlpha=a),"show-input":"",size:"small",min:0,max:10,class:"ml-[10px] diy-nav-slider"},null,8,["modelValue"])]),_:1},8,["label"])):_("",!0),e(o).editComponent.ignore.indexOf("componentBgColor")==-1?(d(),v(m,{key:4,label:e(i)("componentBgColor")},{default:n(()=>[l(z,{modelValue:e(o).editComponent.componentStartBgColor,"onUpdate:modelValue":t[27]||(t[27]=a=>e(o).editComponent.componentStartBgColor=a),"show-alpha":"",predefine:e(o).predefineColors},null,8,["modelValue","predefine"]),l(C,{name:"iconfont iconmap-connect",size:"20px",class:"block !text-gray-400 mx-[5px]"}),l(z,{modelValue:e(o).editComponent.componentEndBgColor,"onUpdate:modelValue":t[28]||(t[28]=a=>e(o).editComponent.componentEndBgColor=a),"show-alpha":"",predefine:e(o).predefineColors},null,8,["modelValue","predefine"])]),_:1},8,["label"])):_("",!0),e(o).editComponent.ignore.indexOf("componentBgColor")==-1?(d(),v(m,{key:5,label:e(i)("bgGradientAngle")},{default:n(()=>[l(j,{modelValue:e(o).editComponent.componentGradientAngle,"onUpdate:modelValue":t[29]||(t[29]=a=>e(o).editComponent.componentGradientAngle=a)},{default:n(()=>[l(y,{label:"to bottom"},{default:n(()=>[g(p(e(i)("topToBottom")),1)]),_:1}),l(y,{label:"to right"},{default:n(()=>[g(p(e(i)("leftToRight")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):_("",!0),e(o).editComponent.ignore.indexOf("marginTop")==-1?(d(),v(m,{key:6,label:e(i)("marginTop")},{default:n(()=>[l(k,{modelValue:e(o).editComponent.margin.top,"onUpdate:modelValue":t[30]||(t[30]=a=>e(o).editComponent.margin.top=a),"show-input":"",size:"small",min:-100,class:"ml-[10px] diy-nav-slider"},null,8,["modelValue"])]),_:1},8,["label"])):_("",!0),e(o).editComponent.ignore.indexOf("marginBottom")==-1?(d(),v(m,{key:7,label:e(i)("marginBottom")},{default:n(()=>[l(k,{modelValue:e(o).editComponent.margin.bottom,"onUpdate:modelValue":t[31]||(t[31]=a=>e(o).editComponent.margin.bottom=a),"show-input":"",size:"small",class:"ml-[10px] diy-nav-slider"},null,8,["modelValue"])]),_:1},8,["label"])):_("",!0),e(o).editComponent.ignore.indexOf("marginBoth")==-1?(d(),v(m,{key:8,label:e(i)("marginBoth")},{default:n(()=>[l(k,{modelValue:e(o).editComponent.margin.both,"onUpdate:modelValue":t[32]||(t[32]=a=>e(o).editComponent.margin.both=a),"show-input":"",size:"small",class:"ml-[10px] diy-nav-slider"},null,8,["modelValue"])]),_:1},8,["label"])):_("",!0),e(o).editComponent.ignore.indexOf("topRounded")==-1?(d(),v(m,{key:9,label:e(i)("topRounded")},{default:n(()=>[l(k,{modelValue:e(o).editComponent.topRounded,"onUpdate:modelValue":t[33]||(t[33]=a=>e(o).editComponent.topRounded=a),"show-input":"",size:"small",class:"ml-[10px] diy-nav-slider",max:100},null,8,["modelValue"])]),_:1},8,["label"])):_("",!0),e(o).editComponent.ignore.indexOf("bottomRounded")==-1?(d(),v(m,{key:10,label:e(i)("bottomRounded")},{default:n(()=>[l(k,{modelValue:e(o).editComponent.bottomRounded,"onUpdate:modelValue":t[34]||(t[34]=a=>e(o).editComponent.bottomRounded=a),"show-input":"",size:"small",class:"ml-[10px] diy-nav-slider",max:100},null,8,["modelValue"])]),_:1},8,["label"])):_("",!0)]),_:1})])]),_:1},8,["value"])):_("",!0)])]),_:1})]),_:1})])])])}}});const zs=el(fn,[["__scopeId","data-v-9dff2d7f"]]);export{zs as default};
