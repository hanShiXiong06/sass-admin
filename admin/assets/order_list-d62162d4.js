import{d as A,y as J,f as X,r as x,q as Z,bO as ee,a2 as ae,h as p,c as m,e,w as n,a as d,t as s,u as a,s as t,F as k,T as w,v as U,i as v,R as te,C as V,B as le,bP as oe,ab as se,aC as re,K as ne,L as de,bR as ie,E as pe,M as me,a7 as ce,ax as _e,ay as ue,ac as be,ad as he,a1 as fe,aU as ge,W as ye,Y as xe}from"./index-0e396751.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css                    *//* empty css                        *//* empty css                    *//* empty css                *//* empty css                *//* empty css                  *//* empty css                       */import"./el-form-item-4ed993c7.js";import{_ as ve}from"./goods_default-995568ac.js";import{g as Pe,a as ke,b as we,c as Ve}from"./order-3f7fd991.js";import{_ as Te}from"./_plugin-vue_export-helper-c27b6911.js";const Fe={class:"main-container"},Ee={class:"flex justify-between items-center"},Ce={class:"text-page-title"},De={class:"table-body min-h-[150px]"},Ne={key:0},Se={class:"flex items-center justify-between bg-[#f7f8fa] mt-[10px] border-[#e4e7ed] border-solid border-b-[1px] px-3 h-[35px] text-[12px] text-[#666]"},Ue={class:"ml-5"},Me={key:0,class:"ml-5"},Ye={class:"flex cursor-pointer"},ze={class:"flex items-center min-w-[50px] mr-[10px]"},Be=["src"],Oe={key:1,class:"w-[50px] h-[50px]",src:ve,alt:""},Re={class:"flex flex-col"},Le={class:"multi-hidden text-[14px]"},je={class:"text-[12px] text-[#999]"},He={style:{display:"inline-flex","align-items":"center"}},Ie={class:"mr-[5px]"},$e={class:"flex flex-col"},qe={class:"text-[13px]"},Qe={key:0,class:"text-[13px] mt-[5px]"},Ge={key:0},Ke={class:"text-[#999]"},We={key:1},Ae={key:1,class:"text-[13px] mt-[5px]"},Je={class:"text-[14px]"},Xe={class:"text-[14px]"},Ze={class:"mt-[16px] flex justify-end"},ea=A({__name:"order_list",setup(aa){const M=J(),Y=X(),z=M.meta.title,T=x(""),B=x([]),F=x([]),E=x([]);(async()=>{B.value=await(await Pe()).data,F.value=await(await ke()).data,E.value=await(await we()).data})();const l=Z({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{search_type:"order_no",search_name:"",pay_type:"",order_from:"",status:"",create_time:[],pay_time:[],activity_type:"newcomer_discount"}}),C=x(),h=(c=1)=>{l.loading=!0,l.page=c,Ve({page:l.page,limit:l.limit,...l.searchParam}).then(r=>{l.loading=!1,l.data=r.data.data.map(_=>(_.order_goods.forEach(b=>{b.rowNum=_.order_goods.length}),_)),l.total=r.data.total,oe(l.page,l.limit,l.searchParam)}).catch(()=>{l.loading=!1})};h(ee(l.searchParam).page);const O=({row:c,column:r,rowIndex:_,columnIndex:b})=>_===0?b>1?[c.rowNum,1]:[1,1]:b>1?[0,0]:[1,1],R=c=>{l.searchParam.status=c,h()},L=c=>{const r=Y.resolve({path:"/shop/order/detail",query:{order_id:c.order_id}});window.open(r.href)},j=c=>{c&&(c.resetFields(),h())};return(c,r)=>{const _=se,b=re,H=ne,f=de,D=ie,P=pe,I=me,N=ce,y=_e,$=ue,u=be,S=he,q=ae("QuestionFilled"),Q=fe,G=ge,K=ye,W=xe;return p(),m("div",Fe,[e(N,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[d("div",Ee,[d("span",Ce,s(a(z)),1)]),e(N,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:n(()=>[e(I,{inline:!0,model:l.searchParam,ref_key:"searchFormRef",ref:C},{default:n(()=>[e(f,{label:a(t)("orderInfo"),prop:"search_name"},{default:n(()=>[e(b,{modelValue:l.searchParam.search_type,"onUpdate:modelValue":r[0]||(r[0]=o=>l.searchParam.search_type=o),clearable:"",class:"input-item"},{default:n(()=>[e(_,{label:a(t)("orderNo"),value:"order_no"},null,8,["label"]),e(_,{label:a(t)("outTradeNo"),value:"out_trade_no"},null,8,["label"])]),_:1},8,["modelValue"]),e(H,{class:"input-item ml-3",modelValue:l.searchParam.search_name,"onUpdate:modelValue":r[1]||(r[1]=o=>l.searchParam.search_name=o),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{label:a(t)("payType"),prop:"pay_type"},{default:n(()=>[e(b,{modelValue:l.searchParam.pay_type,"onUpdate:modelValue":r[2]||(r[2]=o=>l.searchParam.pay_type=o),clearable:"",class:"input-item"},{default:n(()=>[(p(!0),m(k,null,w(F.value,(o,g)=>(p(),U(_,{key:g,label:o.name,value:o.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(f,{label:a(t)("fromType"),prop:"order_from"},{default:n(()=>[e(b,{modelValue:l.searchParam.order_from,"onUpdate:modelValue":r[3]||(r[3]=o=>l.searchParam.order_from=o),clearable:"",class:"input-item"},{default:n(()=>[(p(!0),m(k,null,w(E.value,(o,g)=>(p(),U(_,{key:g,label:o,value:g},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(f,{label:a(t)("createTime"),prop:"create_time"},{default:n(()=>[e(D,{modelValue:l.searchParam.create_time,"onUpdate:modelValue":r[4]||(r[4]=o=>l.searchParam.create_time=o),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":a(t)("startDate"),"end-placeholder":a(t)("endDate")},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),e(f,{label:a(t)("payTime"),prop:"pay_time"},{default:n(()=>[e(D,{modelValue:l.searchParam.pay_time,"onUpdate:modelValue":r[5]||(r[5]=o=>l.searchParam.pay_time=o),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":a(t)("startDate"),"end-placeholder":a(t)("endDate")},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),e(f,null,{default:n(()=>[e(P,{type:"primary",onClick:r[6]||(r[6]=o=>h())},{default:n(()=>[v(s(a(t)("search")),1)]),_:1}),e(P,{onClick:r[7]||(r[7]=o=>j(C.value))},{default:n(()=>[v(s(a(t)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e($,{modelValue:T.value,"onUpdate:modelValue":r[8]||(r[8]=o=>T.value=o),class:"demo-tabs",onTabChange:R},{default:n(()=>[e(y,{label:a(t)("all"),name:""},null,8,["label"]),e(y,{label:a(t)("toBeShipped"),name:"2"},null,8,["label"]),e(y,{label:a(t)("shipped"),name:"3"},null,8,["label"]),e(y,{label:a(t)("completed"),name:"5"},null,8,["label"]),e(y,{label:a(t)("closed"),name:"-1"},null,8,["label"])]),_:1},8,["modelValue"]),d("div",null,[e(S,{data:l.data,size:"large",class:"table-top"},{default:n(()=>[e(u,{label:a(t)("orderGoods"),"min-width":"200"},null,8,["label"]),e(u,{label:a(t)("goodsPriceNumber"),"min-width":"150"},null,8,["label"]),e(u,{label:a(t)("orderMoney"),"min-width":"150"},null,8,["label"]),e(u,{label:a(t)("orderStatus"),"min-width":"100"},null,8,["label"]),e(u,{label:a(t)("operation"),fixed:"right",align:"right","min-width":"100"},null,8,["label"])]),_:1},8,["data"])]),te((p(),m("div",De,[l.loading?V("",!0):(p(),m("div",Ne,[l.data.length?(p(!0),m(k,{key:0},w(l.data,(o,g)=>(p(),m("div",{key:g},[d("div",Se,[d("div",null,[d("span",null,s(a(t)("orderNo"))+"："+s(o.order_no),1),d("span",Ue,s(a(t)("createTime"))+"："+s(o.create_time),1),o.pay?(p(),m("span",Me,s(a(t)("payType"))+"："+s(o.pay.type_name),1)):V("",!0)])]),e(S,{data:o.order_goods,size:"large","show-header":!1,"span-method":O},{empty:n(()=>[d("span",null,s(l.loading?"":a(t)("emptyData")),1)]),default:n(()=>[e(u,{"min-width":"200"},{default:n(({row:i})=>[d("div",Ye,[d("div",ze,[i.goods_image_thumb_small?(p(),m("img",{key:0,class:"w-[50px] h-[50px]",src:a(le)(i.goods_image_thumb_small),alt:""},null,8,Be)):(p(),m("img",Oe))]),d("div",Re,[d("p",Le,s(i.goods_name),1),d("span",je,s(i.sku_name),1)])])]),_:1}),e(u,{"min-width":"150"},{header:n(()=>[d("div",He,[d("span",Ie,s(a(t)("goodsPriceNumber")),1),e(G,{class:"box-item",effect:"light",placement:"top"},{content:n(()=>[v(s(a(t)("goodsPriceNumberTips")),1)]),default:n(()=>[e(Q,{color:"#666"},{default:n(()=>[e(q)]),_:1})]),_:1})])]),default:n(({row:i})=>[d("div",$e,[d("span",qe,"￥"+s(i.price),1),i.extend&&i.extend.newcomer_price?(p(),m("span",Qe,[parseFloat(i.extend.newcomer_price)&&i.num>1?(p(),m("span",Ge,[v(s(i.num)+s(a(t)("piece")),1),d("span",Ke,"（第1"+s(a(t)("piece"))+"，￥"+s(parseFloat(i.extend.newcomer_price).toFixed(2))+"/"+s(a(t)("piece"))+"；第"+s(i.num>2?"2~"+i.num:"2")+s(a(t)("piece"))+"，￥"+s(parseFloat(i.price).toFixed(2))+"/"+s(a(t)("piece"))+"）",1)])):(p(),m("span",We,s(i.num)+s(a(t)("piece")),1))])):(p(),m("span",Ae,s(i.num)+s(a(t)("piece")),1))])]),_:1}),e(u,{label:a(t)("orderMoney"),"min-width":"150","class-name":"border-0 border-l-[1px] border-solid border-[var(--el-table-border-color)]"},{default:n(({row:i})=>[d("span",Je,"￥"+s(o.order_money),1)]),_:2},1032,["label"]),e(u,{label:a(t)("orderStatus"),"min-width":"100"},{default:n(({row:i})=>[d("span",Xe,s(o.status_name.name),1)]),_:2},1032,["label"]),e(u,{label:a(t)("operation"),fixed:"right",align:"right","min-width":"100"},{default:n(({row:i})=>[e(P,{type:"primary",link:"",onClick:la=>L(o)},{default:n(()=>[v(s(a(t)("info")),1)]),_:2},1032,["onClick"])]),_:2},1032,["label"])]),_:2},1032,["data"])]))),128)):V("",!0)]))])),[[W,l.loading]]),d("div",Ze,[e(K,{"current-page":l.page,"onUpdate:current-page":r[9]||(r[9]=o=>l.page=o),"page-size":l.limit,"onUpdate:page-size":r[10]||(r[10]=o=>l.limit=o),layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:r[11]||(r[11]=o=>h()),onCurrentChange:h},null,8,["current-page","page-size","total"])])]),_:1})])}}});const Ta=Te(ea,[["__scopeId","data-v-b027fd60"]]);export{Ta as default};
