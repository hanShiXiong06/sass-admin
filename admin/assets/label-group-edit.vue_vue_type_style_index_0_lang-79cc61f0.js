import{d as G,r as m,q as B,m as F,s as t,h as b,v as w,w as n,a as k,e as i,i as V,t as y,u as s,R as C,bU as I,K as R,L as U,M as K,E as M,X as P,Y as j}from"./index-0e396751.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */import{I as q,J as O,K as $}from"./goods-4d7d064c.js";const J={class:"dialog-footer"},ae=G({__name:"label-group-edit",emits:["complete"],setup(S,{expose:h,emit:x}){const d=m(!1),l=m(!1),p=m(""),_={group_id:"",group_name:"",sort:""},a=B({..._}),g=m(),D=F(()=>({group_name:[{required:!0,message:t("groupNamePlaceholder"),trigger:"blur"}]})),E=async u=>{if(l.value||!u)return;const e=a.group_id?q:O;await u.validate(async r=>{r&&(l.value=!0,e(a).then(f=>{l.value=!1,d.value=!1,x("complete")}).catch(f=>{l.value=!1}))})};return h({showDialog:d,setFormData:async(u=null)=>{if(Object.assign(a,_),l.value=!0,u){const e=await(await $(u.group_id)).data;p.value=t("updateLabelGroup"),e&&Object.keys(a).forEach(r=>{e[r]!=null&&(a[r]=e[r])})}else p.value=t("addLabelGroup");l.value=!1}}),(u,e)=>{const r=R,c=U,f=K,v=M,L=P,N=j;return b(),w(L,{modelValue:d.value,"onUpdate:modelValue":e[6]||(e[6]=o=>d.value=o),title:p.value,width:"500px",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:n(()=>[k("span",J,[i(v,{onClick:e[4]||(e[4]=o=>d.value=!1)},{default:n(()=>[V(y(s(t)("cancel")),1)]),_:1}),i(v,{type:"primary",loading:l.value,onClick:e[5]||(e[5]=o=>E(g.value))},{default:n(()=>[V(y(s(t)("confirm")),1)]),_:1},8,["loading"])])]),default:n(()=>[C((b(),w(f,{model:a,"label-width":"120px",ref_key:"formRef",ref:g,rules:s(D),class:"page-form"},{default:n(()=>[i(c,{label:s(t)("groupName"),prop:"group_name"},{default:n(()=>[i(r,{modelValue:a.group_name,"onUpdate:modelValue":e[0]||(e[0]=o=>a.group_name=o),modelModifiers:{trim:!0},clearable:"",placeholder:s(t)("groupNamePlaceholder"),class:"input-width",maxlength:"10"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(c,{label:s(t)("sort")},{default:n(()=>[i(r,{modelValue:a.sort,"onUpdate:modelValue":e[1]||(e[1]=o=>a.sort=o),modelModifiers:{trim:!0},clearable:"",placeholder:s(t)("sortPlaceholder"),class:"input-width",onKeyup:e[2]||(e[2]=o=>s(I)(o)),maxlength:"6","show-word-limit":"",onBlur:e[3]||(e[3]=o=>a.sort=o.target.value)},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[N,l.value]])]),_:1},8,["modelValue","title"])}}});export{ae as _};
