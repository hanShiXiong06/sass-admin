import{d as M,j as S,k as N,m as p,r as R,Q as $,u as n,h as t,c as l,v as u,w as y,C as o,a as h,t as b,F as f,T as j,f as F,dg as V,dc as q,y as A}from"./index-0e396751.js";import"./el-menu-item-4ed993c7.js";import"./el-sub-menu-4ed993c7.js";import{_ as D}from"./index.vue_vue_type_script_setup_true_lang-5014406f.js";const K={key:0,class:"w-[16px] h-[16px] relative flex items-center"},L={class:"ml-[10px]"},O={key:0,class:"w-[16px] h-[16px] relative flex items-center"},Q={class:"ml-[10px]"},T={key:0,class:"w-[16px] h-[16px] relative flex items-center"},U={class:"ml-[10px]"},z={key:2,class:"!border-0 !border-t-[1px] border-solid mx-[25px] bg-[#f7f7f7] my-[5px]"},C=M({__name:"menu-item",props:{routes:{type:Object,required:!0},level:{type:Number,default:1}},setup(a){const d=a,w=F(),i=A(),x=S(),E=S().routers;N();const s=p(()=>d.routes.meta);p(()=>{var r,_;const e={};return(r=x.siteInfo)==null||r.apps.forEach(c=>{e[c.key]=c}),(_=x.siteInfo)==null||_.site_addons.forEach(c=>{e[c.key]=c}),e});const I=p(()=>{var e;return(e=x.siteInfo)==null?void 0:e.site_addons.map(r=>r.key)}),m={};E.forEach(e=>{e.original_name=e.name,e.meta.addon&&(m[e.meta.addon]=e),e.meta.attr&&(m[e.meta.attr]=e)});const v=R(null);return $(i,()=>{d.routes.name=="addon_list"&&(I.value.includes(i.meta.addon)&&m[i.meta.addon]?v.value=m[i.meta.addon]:i.meta.attr&&m[i.meta.attr]?v.value=m[i.meta.attr]:v.value=null)},{immediate:!0}),(e,r)=>{const _=D,c=V,g=q;return n(s).show?(t(),l(f,{key:0},[a.routes.children?(t(),u(c,{key:0,index:String(a.routes.name)},{title:y(()=>[d.level==1?(t(),l("div",K,[n(s).icon?(t(),u(_,{key:0,name:n(s).icon,class:"absolute !w-auto"},null,8,["name"])):o("",!0)])):o("",!0),h("span",L,b(n(s).title),1)]),default:y(()=>[(t(!0),l(f,null,j(a.routes.children,(k,B)=>(t(),u(C,{routes:k,key:B,level:d.level+1},null,8,["routes","level"]))),128)),a.routes.name=="addon_list"?(t(),l(f,{key:0},[v.value?(t(),u(C,{routes:v.value,key:e.index,level:d.level+1},null,8,["routes","level"])):o("",!0)],64)):o("",!0)]),_:1},8,["index"])):(t(),l(f,{key:1},[n(s).addon&&n(s).parent_route&&n(s).parent_route.addon==""?(t(),u(g,{key:0,index:String(a.routes.name),onClick:r[0]||(r[0]=k=>n(w).push({name:a.routes.name}))},{title:y(()=>[d.level==1?(t(),l("div",O,[n(s).icon?(t(),u(_,{key:0,name:n(s).icon,class:"absolute !w-auto"},null,8,["name"])):o("",!0)])):o("",!0),h("span",Q,b(n(s).title),1)]),_:1},8,["index"])):(t(),u(g,{key:1,index:String(a.routes.name),onClick:r[1]||(r[1]=k=>n(w).push({name:a.routes.name}))},{title:y(()=>[d.level==1?(t(),l("div",T,[n(s).icon?(t(),u(_,{key:0,name:n(s).icon,class:"absolute !w-auto"},null,8,["name"])):o("",!0)])):o("",!0),h("span",U,b(n(s).title),1)]),_:1},8,["index"]))],64)),a.routes.is_border?(t(),l("div",z)):o("",!0)],64)):o("",!0)}}});export{C as _};
