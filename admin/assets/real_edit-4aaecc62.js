import{d as _e,y as fe,f as be,r as w,s as t,q as le,a2 as he,h as n,c as u,e as r,w as d,u as e,aP as ge,v as y,F as g,T as v,x as K,a as s,t as i,C as V,i as h,bU as B,R as U,d0 as ve,a0 as S,aQ as ye,a7 as Ve,L as xe,K as ke,bF as De,ab as we,aC as Ce,av as Ue,c8 as Se,at as Te,au as Ee,aS as Pe,M as Re,ax as Me,a1 as Ge,E as Oe,aU as Fe,ay as Ne,p as Ie,g as Be}from"./index-0e396751.js";/* empty css                    */import{_ as Ae}from"./index.vue_vue_type_script_setup_true_lang-406de1d6.js";import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                  *//* empty css                *//* empty css                  *//* empty css                       *//* empty css                 *//* empty css                          *//* empty css                    *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                          */import $e from"./index-11d71036.js";import"./el-form-item-4ed993c7.js";/* empty css                *//* empty css                   *//* empty css                       */import{ag as Le,ah as He,ai as Ke}from"./goods-4d7d064c.js";import{i as ze,B as We}from"./delivery-3c8c2993.js";import{u as Ze}from"./useGoodsEdit-23d200ae.js";import{_ as je}from"./_plugin-vue_export-helper-c27b6911.js";import"./index.vue_vue_type_style_index_0_lang-d82568af.js";/* empty css                  *//* empty css                   */import"./attachment-c52133c7.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-34f8a01a.js";/* empty css                        *//* empty css                      *//* empty css                 *//* empty css               *//* empty css               *//* empty css                  *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-077a27b1.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-5014406f.js";import"./sortable.esm-be94e56d.js";import"./site-368fa7aa.js";import"./poster-fe5eb9cd.js";import"./range-91b90db8.js";const T=O=>(Ie("data-v-33ff5e01"),O=O(),Be(),O),qe={class:"main-container"},Qe={class:"goods-type-name"},Je={class:"goods-type-desc"},Xe=T(()=>s("div",{class:"triangle"},null,-1)),Ye=T(()=>s("div",{class:"selected"},"✓",-1)),el=["onClick"],ll={class:"goods-type-name"},ol={class:"goods-type-desc"},al=T(()=>s("div",{class:"triangle"},null,-1)),tl=T(()=>s("div",{class:"selected"},"✓",-1)),sl={class:"ml-[10px]"},rl={class:"ml-[10px]"},dl={class:"ml-[10px]"},il={class:"ml-[120px] mb-[10px] text-[12px] text-[#999] leading-[20px]"},nl={class:"ml-[10px]"},pl={class:"ml-[10px]"},ul={class:"ml-[10px]"},ml={class:"ml-[10px]"},cl={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},_l={key:0,class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},fl={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},bl={class:"el-form-item asterisk-left"},hl={class:"el-form-item__label w-[120px]"},gl={class:"spec-wrap"},vl={class:"spec-edit-list"},yl={class:"spec-name-wrap"},Vl={class:"spec-value-wrap"},xl=["onClick"],kl=T(()=>s("div",{class:"box"},null,-1)),Dl={class:"add-spec"},wl={class:"batch-operation-sku"},Cl={class:"sku-table"},Ul={class:"el-table--fit el-table--default el-table",style:{width:"100%"}},Sl={class:"el-table__inner-wrapper"},Tl={class:"el-table__header-wrapper"},El={class:"el-table__header",border:"0",cellpadding:"0",cellspacing:"0",style:{width:"100%"}},Pl={key:0,class:"el-table__cell"},Rl={class:"cell"},Ml={class:"el-table__cell"},Gl={class:"cell"},Ol={class:"el-table__cell"},Fl={class:"cell"},Nl={class:"el-table__cell"},Il={class:"cell"},Bl={class:"el-table__cell"},Al={class:"cell"},$l={class:"el-table__cell"},Ll={class:"cell"},Hl={class:"el-table__cell"},Kl={class:"cell"},zl={class:"el-table__cell"},Wl={class:"cell"},Zl={class:"el-table__cell"},jl={class:"cell"},ql={class:"el-table__cell"},Ql={class:"cell"},Jl={class:"el-table__body-wrapper"},Xl={class:"el-scrollbar"},Yl={class:"el-scrollbar__wrap el-scrollbar__wrap--hidden-default"},eo={class:"el-scrollbar__view",style:{display:"inline-block","vertical-align":"middle"}},lo={class:"el-table__body",cellspacing:"0",cellpadding:"0",border:"0",style:{"table-layout":"fixed",width:"100%"}},oo={tabindex:"-1"},ao=["rowspan"],to={class:"cell"},so={class:"el-table__cell"},ro={class:"cell"},io={class:"el-table__cell"},no={class:"cell"},po={class:"el-table__cell"},uo={class:"cell"},mo={class:"el-table__cell"},co={class:"cell"},_o={class:"el-table__cell"},fo={class:"cell"},bo={class:"el-table__cell"},ho={class:"cell"},go={class:"el-table__cell"},vo={class:"cell"},yo={class:"el-table__cell"},Vo={class:"cell"},xo={class:"el-table__cell"},ko={class:"cell"},Do={key:0,class:"text-[12px] text-[#999] leading-[20px]"},wo={key:1,class:"text-[12px] text-[#999] leading-[20px]"},Co={key:0,class:"text-[12px] text-[#999] leading-[20px]"},Uo={class:"ml-[10px]"},So={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},To={class:"attr-table mt-[10px]"},Eo=T(()=>s("colgroup",null,[s("col",{width:"30%"}),s("col",{width:"40%"}),s("col",{width:"20%"}),s("col",{width:"10%"})],-1)),Po={class:"bg-[#f7f7f7]"},Ro={class:"prompt-block"},Mo={class:"flex items-center"},Go=T(()=>s("span",{class:"iconfont iconwenhao cursor-pointer ml-[3px] mt-[3px] !text-[14px]"},null,-1)),Oo={class:"attr-new"},Fo={key:0},No={key:1},Io={key:1},Bo={key:2},Ao=["onClick"],$o={key:1},Lo={colspan:"4",class:"text-center"},Ho={class:"fixed-footer-wrap"},Ko={class:"fixed-footer"},zo=_e({__name:"real_edit",setup(O){const oe=fe(),ae=be();oe.meta.title;const z=w(),W=w(),A=w(),Z=w(),j=w(),q=w(),Q=w(),o=Ze({getFormRef(){return{basicFormRef:z.value,priceStockFormRef:W.value,deliveryFormRef:A.value,goodsArgumentsFormRef:Z.value,detailFormRef:j.value,skuFormRef:q.value,specValueRef:Q.value}},addApi:Le,editApi:He,formData:{goods_type:"real",stock:1,goods_desc:"-"},appendFormData:{delivery_type:[],is_free_shipping:1,fee_type:"template",delivery_money:"",delivery_template_id:""},appendRefreshGoodsSkuData:{weight:{value:"0",regExp:"special",message:t("weightTips")},volume:{value:"0",regExp:"special",message:t("volumeTips")}},appendSingleGoodsData(_){return{weight:_.weight,volume:_.volume}},getFormRules(_,a){return{delivery_type:[{required:!0,message:t("deliveryTypePlaceholder"),trigger:"blur"}],delivery_money:[{trigger:"blur",validator:(x,D,p)=>{_.delivery_type.indexOf("express")!=-1&&_.is_free_shipping==0&&_.fee_type=="fixed"?_.delivery_template_id.length==0&&D===""?p(new Error(t("deliveryMoneyPlaceholder"))):isNaN(D)||!a.digit.test(D)?p(new Error(t("deliveryMoneyTips"))):D<0?p(new Error(t("deliveryMoneyNotZeroTips"))):p():p()}}],delivery_template_id:[{trigger:"blur",validator:(x,D,p)=>{_.delivery_type.indexOf("express")!=-1&&_.is_free_shipping==0&&_.fee_type=="template"&&_.delivery_money.length==0&&D===""?p(new Error(t("deliveryTemplateIdPlaceholder"))):p()}}]}},getVerify(){return[{key:"delivery",verify:!1,ref:A.value}]}}),$=le([]),L=le([]),te=w(!1);ze().then(_=>{const a=_.data;a&&$.splice(0,$.length,...a)});const se=()=>{const _=ae.resolve({path:"/phone_shop/order/shipping/template"});window.open(_.href)},J=()=>{We({}).then(_=>{const a=_.data;a&&L.splice(0,L.length,...a)})};J(),Ke({goods_id:o.formData.goods_id}).then(_=>{const a=_.data;a&&(o.handleGoodsInit(a),o.formData.goods_id&&a.goods_info?(o.formData.delivery_type=a.goods_info.delivery_type,o.formData.is_free_shipping=a.goods_info.is_free_shipping,o.formData.fee_type=a.goods_info.fee_type,o.formData.delivery_money=a.goods_info.delivery_money,o.formData.delivery_template_id=a.goods_info.delivery_template_id):o.formData.delivery_type=["express","store"])});const re=()=>[{trigger:"blur",validator:(_,a,x)=>{o.formData.spec_type=="multi"?a.length>0&&(isNaN(a)||!o.regExp.special.test(a))?x(t("weightTips")):a<0?x(t("weightNotZeroTips")):x():x()}}],de=()=>[{trigger:"blur",validator:(_,a,x)=>{o.formData.spec_type=="multi"?a.length>0&&(isNaN(a)||!o.regExp.special.test(a))?x(t("volumeTips")):a<0?x(t("volumeNotZeroTips")):x():x()}}],ie=()=>{o.attrTableData.forEach(_=>{_.child.length>0&&_.type=="radio"&&(_.select_child_name=_.child[0].id,_.select_child_val=_.child[0].name)})},ne=()=>{o.save()};return(_,a)=>{const x=ye,D=Ve,p=xe,f=ke,X=$e,pe=De,C=we,E=Ce,F=Ue,N=Se,k=Te,P=Ee,H=Pe,R=Re,G=Me,Y=he("CircleCloseFilled"),ee=Ge,M=Oe,ue=Fe,me=Ae,ce=Ne;return n(),u("div",qe,[r(D,{class:"box-card !border-none",shadow:"never"},{default:d(()=>[r(x,{content:e(o).formData.goods_id?e(t)("updateGoods"):e(t)("addGoods"),icon:e(ge),onBack:a[0]||(a[0]=l=>_.$router.back())},null,8,["content","icon"])]),_:1}),r(D,{class:"box-card mt-[15px] !border-none",shadow:"never"},{default:d(()=>[r(ce,{modelValue:e(o).activeName,"onUpdate:modelValue":a[60]||(a[60]=l=>e(o).activeName=l),onTabClick:e(o).tabHandleClick},{default:d(()=>[r(G,{label:e(t)("basicInfoTab"),name:"basic"},{default:d(()=>[r(R,{model:e(o).formData,"label-width":"120px",ref_key:"basicFormRef",ref:z,rules:e(o).formRules,class:"page-form"},{default:d(()=>[e(o).formData.goods_id?(n(),y(p,{key:0,label:e(t)("goodsType")},{default:d(()=>[(n(!0),u(g,null,v(e(o).goodsType,l=>(n(),u("div",{key:l.type,class:K(["goods-type-wrap",[e(o).formData.goods_type==l.type?"selected":"disabled"]])},[s("div",Qe,i(l.name),1),s("div",Je,"("+i(l.desc)+")",1),e(o).formData.goods_type==l.type?(n(),u(g,{key:0},[Xe,Ye],64)):V("",!0)],2))),128))]),_:1},8,["label"])):(n(),y(p,{key:1,label:e(t)("goodsType")},{default:d(()=>[(n(!0),u(g,null,v(e(o).goodsType,l=>(n(),u("div",{class:K(["goods-type-wrap",{selected:e(o).formData.goods_type==l.type}]),key:l.type,onClick:m=>e(o).changeGoodsType(l)},[s("div",ll,i(l.name),1),s("div",ol,"("+i(l.desc)+")",1),e(o).formData.goods_type==l.type?(n(),u(g,{key:0},[al,tl],64)):V("",!0)],10,el))),128))]),_:1},8,["label"])),r(p,{label:e(t)("goodsName"),prop:"goods_name"},{default:d(()=>[r(f,{modelValue:e(o).formData.goods_name,"onUpdate:modelValue":a[1]||(a[1]=l=>e(o).formData.goods_name=l),clearable:"",placeholder:e(t)("goodsNamePlaceholder"),class:"input-width",maxlength:"60","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(p,{label:e(t)("subTitle"),prop:"sub_title"},{default:d(()=>[r(f,{modelValue:e(o).formData.sub_title,"onUpdate:modelValue":a[2]||(a[2]=l=>e(o).formData.sub_title=l),clearable:"",placeholder:e(t)("subTitlePlaceholder"),class:"input-width",maxlength:"80","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(p,{label:e(t)("goodsImage"),prop:"goods_image"},{default:d(()=>[r(X,{modelValue:e(o).formData.goods_image,"onUpdate:modelValue":a[3]||(a[3]=l=>e(o).formData.goods_image=l),limit:10},null,8,["modelValue"])]),_:1},8,["label"]),r(p,{label:e(t)("goodsCategory"),prop:"goods_category"},{default:d(()=>[r(pe,{modelValue:e(o).formData.goods_category,"onUpdate:modelValue":a[4]||(a[4]=l=>e(o).formData.goods_category=l),options:e(o).goodsCategoryOptions,props:e(o).goodsCategoryProps,clearable:"",filterable:"",onChange:e(o).categoryHandleChange,"popper-class":"choice"},null,8,["modelValue","options","props","onChange"]),s("div",sl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[5]||(a[5]=l=>e(o).refreshGoodsCategory(!0))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[6]||(a[6]=(...l)=>e(o).toGoodsCategoryEvent&&e(o).toGoodsCategoryEvent(...l))},i(e(t)("addGoodsCategory")),1)])]),_:1},8,["label"]),r(p,{label:e(t)("brand")},{default:d(()=>[r(E,{modelValue:e(o).formData.brand_id,"onUpdate:modelValue":a[7]||(a[7]=l=>e(o).formData.brand_id=l),placeholder:e(t)("brandPlaceholder"),clearable:""},{default:d(()=>[(n(!0),u(g,null,v(e(o).brandOptions,l=>(n(),y(C,{key:l.brand_id,label:l.brand_name,value:l.brand_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",rl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[8]||(a[8]=l=>e(o).refreshGoodsBrand(!0))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[9]||(a[9]=(...l)=>e(o).toGoodsBrandEvent&&e(o).toGoodsBrandEvent(...l))},i(e(t)("addGoodsBrand")),1)])]),_:1},8,["label"]),r(p,{label:e(t)("poster")},{default:d(()=>[r(E,{modelValue:e(o).formData.poster_id,"onUpdate:modelValue":a[10]||(a[10]=l=>e(o).formData.poster_id=l),placeholder:e(t)("posterPlaceholder"),clearable:""},{default:d(()=>[(n(!0),u(g,null,v(e(o).posterOptions,l=>(n(),y(C,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",dl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[11]||(a[11]=l=>e(o).refreshGoodsPoster(!0))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[12]||(a[12]=(...l)=>e(o).toPosterEvent&&e(o).toPosterEvent(...l))},i(e(t)("addGoodsPoster")),1)])]),_:1},8,["label"]),s("div",il,i(e(t)("posterTips")),1),r(p,{label:e(t)("label")},{default:d(()=>[r(N,{modelValue:e(o).formData.label_ids,"onUpdate:modelValue":a[13]||(a[13]=l=>e(o).formData.label_ids=l)},{default:d(()=>[(n(!0),u(g,null,v(e(o).labelOptions,(l,m)=>(n(),y(F,{label:l.label_id,key:m},{default:d(()=>[h(i(l.label_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),s("div",nl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[14]||(a[14]=(...l)=>e(o).refreshGoodsLabel&&e(o).refreshGoodsLabel(...l))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[15]||(a[15]=(...l)=>e(o).toGoodsLabelEvent&&e(o).toGoodsLabelEvent(...l))},i(e(t)("addGoodsLabel")),1)])]),_:1},8,["label"]),r(p,{label:e(t)("memory")},{default:d(()=>[r(P,{modelValue:e(o).formData.memory_ids,"onUpdate:modelValue":a[16]||(a[16]=l=>e(o).formData.memory_ids=l)},{default:d(()=>[(n(!0),u(g,null,v(e(o).memoryOptions,(l,m)=>(n(),y(k,{label:l.spec_id,key:m},{default:d(()=>[h(i(l.spec_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),s("div",pl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[17]||(a[17]=(...l)=>e(o).refreshGoodsMemory&&e(o).refreshGoodsMemory(...l))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[18]||(a[18]=(...l)=>e(o).toGoodsMemoryEvent&&e(o).toGoodsMemoryEvent(...l))},i(e(t)("addGoodsMemory")),1)])]),_:1},8,["label"]),r(p,{label:e(t)("goodsService")},{default:d(()=>[r(N,{modelValue:e(o).formData.service_ids,"onUpdate:modelValue":a[19]||(a[19]=l=>e(o).formData.service_ids=l)},{default:d(()=>[(n(!0),u(g,null,v(e(o).serviceOptions,(l,m)=>(n(),y(F,{label:l.service_id,key:m},{default:d(()=>[h(i(l.service_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),s("div",ul,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[20]||(a[20]=(...l)=>e(o).refreshGoodsService&&e(o).refreshGoodsService(...l))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[21]||(a[21]=(...l)=>e(o).toGoodsServiceEvent&&e(o).toGoodsServiceEvent(...l))},i(e(t)("addGoodsService")),1)])]),_:1},8,["label"]),e(o).formData.addon_shop_supplier&&e(o).formData.addon_shop_supplier.status==1?(n(),y(p,{key:2,label:e(t)("supplier")},{default:d(()=>[r(E,{modelValue:e(o).formData.supplier_id,"onUpdate:modelValue":a[22]||(a[22]=l=>e(o).formData.supplier_id=l),placeholder:e(t)("supplierPlaceholder"),clearable:""},{default:d(()=>[(n(!0),u(g,null,v(e(o).supplierOptions,l=>(n(),y(C,{key:l.supplier_id,label:l.supplier_name,value:l.supplier_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",ml,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[23]||(a[23]=(...l)=>e(o).refreshSupplier&&e(o).refreshSupplier(...l))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[24]||(a[24]=(...l)=>e(o).toSupplierEvent&&e(o).toSupplierEvent(...l))},i(e(t)("addSupplier")),1)])]),_:1},8,["label"])):V("",!0),r(p,{label:e(t)("status")},{default:d(()=>[r(P,{modelValue:e(o).formData.status,"onUpdate:modelValue":a[25]||(a[25]=l=>e(o).formData.status=l)},{default:d(()=>[r(k,{label:"1"},{default:d(()=>[h(i(e(t)("statusOn")),1)]),_:1}),r(k,{label:"0"},{default:d(()=>[h(i(e(t)("statusOff")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),r(p,{label:e(t)("代理"),prop:"is_proxy"},{default:d(()=>[r(H,{modelValue:e(o).formData.is_proxy,"onUpdate:modelValue":a[26]||(a[26]=l=>e(o).formData.is_proxy=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1},8,["label"]),r(p,{label:e(t)("unit"),prop:"unit"},{default:d(()=>[r(f,{modelValue:e(o).formData.unit,"onUpdate:modelValue":a[27]||(a[27]=l=>e(o).formData.unit=l),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("unitPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"6"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(p,{label:e(t)("virtualSaleNum"),prop:"virtual_sale_num"},{default:d(()=>[s("div",null,[r(f,{modelValue:e(o).formData.virtual_sale_num,"onUpdate:modelValue":a[28]||(a[28]=l=>e(o).formData.virtual_sale_num=l),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("virtualSaleNumPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"8",onKeyup:a[29]||(a[29]=l=>e(B)(l)),onBlur:a[30]||(a[30]=l=>e(o).formData.virtual_sale_num=l.target.value)},{append:d(()=>[h(i(e(o).formData.unit?e(o).formData.unit:"件"),1)]),_:1},8,["modelValue","placeholder"]),s("div",cl,i(e(t)("virtualSaleNumDesc")),1)])]),_:1},8,["label"]),r(p,{label:e(t)("sort"),prop:"sort"},{default:d(()=>[r(f,{modelValue:e(o).formData.sort,"onUpdate:modelValue":a[31]||(a[31]=l=>e(o).formData.sort=l),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("sortPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"8",onKeyup:a[32]||(a[32]=l=>e(B)(l)),onBlur:a[33]||(a[33]=l=>e(o).formData.sort=l.target.value)},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"]),r(G,{label:e(t)("priceStockTab"),name:"price_stock"},{default:d(()=>[r(R,{model:e(o).formData,"label-width":"120px",ref_key:"priceStockFormRef",ref:W,rules:e(o).formRules,class:"page-form"},{default:d(()=>[r(p,{label:e(t)("specType"),prop:"spec_type"},{default:d(()=>[s("div",null,[r(P,{modelValue:e(o).formData.spec_type,"onUpdate:modelValue":a[34]||(a[34]=l=>e(o).formData.spec_type=l)},{default:d(()=>[r(k,{label:"single",disabled:e(o).isDisabledPrice()},{default:d(()=>[h(i(e(t)("singleSpec")),1)]),_:1},8,["disabled"]),r(k,{label:"multi",disabled:e(o).isDisabledPrice()},{default:d(()=>[h(i(e(t)("multiSpec")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),e(o).isDisabledPrice()?(n(),u("div",_l,i(e(t)("participateInActiveDisableTips")),1)):V("",!0)])]),_:1},8,["label"]),e(o).formData.spec_type=="single"?(n(),u(g,{key:0},[r(p,{label:e(t)("marketPrice"),prop:"market_price"},{default:d(()=>[r(f,{modelValue:e(o).formData.market_price,"onUpdate:modelValue":a[35]||(a[35]=l=>e(o).formData.market_price=l),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8"},{append:d(()=>[h(i(e(t)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),r(p,{label:e(t)("price"),prop:"price"},{default:d(()=>[r(f,{modelValue:e(o).formData.price,"onUpdate:modelValue":a[36]||(a[36]=l=>e(o).formData.price=l),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8",disabled:e(o).isDisabledPrice()},{append:d(()=>[h(i(e(t)("yuan")),1)]),_:1},8,["modelValue","disabled"]),s("div",fl,i(e(t)("priceMsgTips")),1)]),_:1},8,["label"]),r(p,{label:e(t)("costPrice"),prop:"cost_price"},{default:d(()=>[r(f,{modelValue:e(o).formData.cost_price,"onUpdate:modelValue":a[37]||(a[37]=l=>e(o).formData.cost_price=l),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8"},{append:d(()=>[h(i(e(t)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),r(p,{label:e(t)("goodsStock"),prop:"stock"},{default:d(()=>[r(f,{modelValue:e(o).formData.stock,"onUpdate:modelValue":a[38]||(a[38]=l=>e(o).formData.stock=l),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("goodsStockPlaceholder"),class:"input-width",maxlength:"8",onKeyup:a[39]||(a[39]=l=>e(B)(l)),disabled:e(o).isDisabledPrice()},{append:d(()=>[h(i(e(o).formData.unit?e(o).formData.unit:e(t)("defaultUnit")),1)]),_:1},8,["modelValue","placeholder","disabled"])]),_:1},8,["label"]),r(p,{label:e(t)("skuNo")},{default:d(()=>[r(f,{modelValue:e(o).formData.sku_no,"onUpdate:modelValue":a[40]||(a[40]=l=>e(o).formData.sku_no=l),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("skuNoPlaceholder"),class:"input-width",maxlength:"50",onKeyup:a[41]||(a[41]=l=>e(o).filterSpecial(l))},null,8,["modelValue","placeholder"])]),_:1},8,["label"])],64)):V("",!0)]),_:1},8,["model","rules"]),r(R,{model:e(o).goodsSkuData,"label-width":"120px",ref_key:"skuFormRef",ref:q,class:"page-form"},{default:d(()=>[U(s("div",bl,[s("div",hl,i(e(t)("goodsSku")),1),s("div",gl,[s("div",vl,[(n(!0),u(g,null,v(e(o).goodsSpecFormat,(l,m)=>(n(),u("div",{class:"spec-item",key:l.id},[s("div",yl,[r(f,{modelValue:l.spec_name,"onUpdate:modelValue":c=>l.spec_name=c,modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("specNamePlaceholder"),class:"input-width",maxlength:"20"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),s("div",Vl,[s("ul",{ref_for:!0,ref_key:"specValueRef",ref:Q},[(n(!0),u(g,null,v(l.values,(c,b)=>(n(),u("li",{class:K("draggable-element"+m),key:c.id},[r(f,{modelValue:c.spec_value_name,"onUpdate:modelValue":I=>c.spec_value_name=I,modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("specValueNamePlaceholder"),class:"input-width","suffix-icon":e(ve),maxlength:"20",onInput:e(o).specValueNameInputListener},null,8,["modelValue","onUpdate:modelValue","placeholder","suffix-icon","onInput"]),r(ee,{class:"icon",size:20,color:"#7b7b7b",onClick:I=>e(o).deleteSpecValue(m,b)},{default:d(()=>[r(Y)]),_:2},1032,["onClick"])],2))),128))],512),s("span",{class:"text-color text-[14px] add-spec-value",onClick:c=>e(o).addSpecValue(m)},i(e(t)("addSpecValue")),9,xl),kl]),r(ee,{class:"del-spec",size:20,color:"#7b7b7b",onClick:c=>e(o).deleteSpec(m)},{default:d(()=>[r(Y)]),_:2},1032,["onClick"])]))),128))]),s("div",Dl,[r(M,{type:"primary",onClick:e(o).addSpec},{default:d(()=>[h(i(e(t)("addSpec")),1)]),_:1},8,["onClick"])]),U(s("div",wl,[s("label",null,i(e(t)("batchOperationSku")),1),r(E,{modelValue:e(o).batchOperation.spec,"onUpdate:modelValue":a[42]||(a[42]=l=>e(o).batchOperation.spec=l),class:"set-spec-select",placeholder:e(t)("all")},{default:d(()=>[r(C,{label:e(t)("all"),value:""},null,8,["label"]),(n(!0),u(g,null,v(e(o).goodsSkuData,(l,m)=>(n(),u(g,{key:m},[l.spec_name?(n(),y(C,{key:0,label:l.spec_name,value:m},null,8,["label","value"])):V("",!0)],64))),128))]),_:1},8,["modelValue","placeholder"]),e(o).isDisabledPrice()?V("",!0):(n(),y(f,{key:0,modelValue:e(o).batchOperation.price,"onUpdate:modelValue":a[43]||(a[43]=l=>e(o).batchOperation.price=l),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("price"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"])),r(f,{modelValue:e(o).batchOperation.market_price,"onUpdate:modelValue":a[44]||(a[44]=l=>e(o).batchOperation.market_price=l),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("marketPrice"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"]),r(f,{modelValue:e(o).batchOperation.cost_price,"onUpdate:modelValue":a[45]||(a[45]=l=>e(o).batchOperation.cost_price=l),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("costPrice"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"]),e(o).isDisabledPrice()?V("",!0):(n(),y(f,{key:1,modelValue:e(o).batchOperation.stock,"onUpdate:modelValue":a[46]||(a[46]=l=>e(o).batchOperation.stock=l),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("stock"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"])),r(f,{modelValue:e(o).batchOperation.weight,"onUpdate:modelValue":a[47]||(a[47]=l=>e(o).batchOperation.weight=l),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("skuWeight"),class:"set-input",maxlength:"6"},null,8,["modelValue","placeholder"]),r(f,{modelValue:e(o).batchOperation.volume,"onUpdate:modelValue":a[48]||(a[48]=l=>e(o).batchOperation.volume=l),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("skuVolume"),class:"set-input",maxlength:"6"},null,8,["modelValue","placeholder"]),r(f,{modelValue:e(o).batchOperation.sku_no,"onUpdate:modelValue":a[49]||(a[49]=l=>e(o).batchOperation.sku_no=l),modelModifiers:{trim:!0},clearable:"",maxlength:"50",placeholder:e(t)("skuNo"),class:"set-input"},null,8,["modelValue","placeholder"]),r(M,{type:"primary",onClick:e(o).saveBatch},{default:d(()=>[h(i(e(t)("confirm")),1)]),_:1},8,["onClick"])],512),[[S,Object.keys(e(o).goodsSkuData).length]]),U(s("div",Cl,[s("div",Ul,[s("div",Sl,[s("div",Tl,[s("table",El,[s("thead",null,[s("tr",null,[(n(!0),u(g,null,v(e(o).goodsSpecFormat,(l,m)=>(n(),u(g,{key:m},[l.spec_name?(n(),u("th",Pl,[s("div",Rl,i(l.spec_name),1)])):V("",!0)],64))),128)),s("th",Ml,[s("div",Gl,i(e(t)("image")),1)]),s("th",Ol,[s("div",Fl,i(e(t)("price")),1)]),s("th",Nl,[s("div",Il,i(e(t)("marketPrice")),1)]),s("th",Bl,[s("div",Al,i(e(t)("costPrice")),1)]),s("th",$l,[s("div",Ll,i(e(t)("stock")),1)]),s("th",Hl,[s("div",Kl,i(e(t)("skuWeight")),1)]),s("th",zl,[s("div",Wl,i(e(t)("skuVolume")),1)]),s("th",Zl,[s("div",jl,i(e(t)("skuNo")),1)]),s("th",ql,[s("div",Ql,i(e(t)("defaultSku")),1)])])])])]),s("div",Jl,[s("div",Xl,[s("div",Yl,[s("div",eo,[s("table",lo,[s("tbody",oo,[(n(!0),u(g,null,v(e(o).goodsSkuData,(l,m,c)=>(n(),u("tr",{class:"el-table__row",key:m},[(n(!0),u(g,null,v(e(o).specData,(b,I)=>(n(),u(g,{key:I},[b.index==c?(n(),u("td",{key:0,class:"el-table__cell",rowspan:b.rowSpan},[s("div",to,i(b.spec_value_name),1)],8,ao)):V("",!0)],64))),128)),s("td",so,[s("div",ro,[r(X,{modelValue:l.sku_image,"onUpdate:modelValue":b=>l.sku_image=b,limit:1,width:"50px",height:"50px"},null,8,["modelValue","onUpdate:modelValue"])])]),s("td",io,[s("div",no,[r(p,{prop:m+".price",rules:e(o).skuPriceRules(),class:"sku-form-item-wrap"},{default:d(()=>[r(f,{modelValue:l.price,"onUpdate:modelValue":b=>l.price=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"8",disabled:e(o).isDisabledPrice()},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1032,["prop","rules"])])]),s("td",po,[s("div",uo,[r(p,{prop:m+".market_price",rules:e(o).skuMarketPriceRules(),class:"sku-form-item-wrap"},{default:d(()=>[r(f,{modelValue:l.market_price,"onUpdate:modelValue":b=>l.market_price=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"8"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",mo,[s("div",co,[r(p,{prop:m+".cost_price",rules:e(o).skuCostPriceRules(),class:"sku-form-item-wrap"},{default:d(()=>[r(f,{modelValue:l.cost_price,"onUpdate:modelValue":b=>l.cost_price=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"8"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",_o,[s("div",fo,[r(p,{prop:m+".stock",rules:e(o).skuStockRules(),class:"sku-form-item-wrap"},{default:d(()=>[r(f,{modelValue:l.stock,"onUpdate:modelValue":b=>l.stock=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0",onInput:e(o).specStockSum,maxlength:"8",disabled:e(o).isDisabledPrice()},null,8,["modelValue","onUpdate:modelValue","onInput","disabled"])]),_:2},1032,["prop","rules"])])]),s("td",bo,[s("div",ho,[r(p,{prop:m+".weight",rules:re(),class:"sku-form-item-wrap"},{default:d(()=>[r(f,{modelValue:l.weight,"onUpdate:modelValue":b=>l.weight=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"6"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",go,[s("div",vo,[r(p,{prop:m+".volume",rules:de(),class:"sku-form-item-wrap"},{default:d(()=>[r(f,{modelValue:l.volume,"onUpdate:modelValue":b=>l.volume=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"6"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",yo,[s("div",Vo,[r(f,{modelValue:l.sku_no,"onUpdate:modelValue":b=>l.sku_no=b,modelModifiers:{trim:!0},clearable:"",maxlength:"50"},null,8,["modelValue","onUpdate:modelValue"])])]),s("td",xo,[s("div",ko,[r(H,{modelValue:l.is_default,"onUpdate:modelValue":b=>l.is_default=b,"active-value":1,"inactive-value":0,onChange:b=>e(o).specValueIsDefaultChangeListener(b,m)},null,8,["modelValue","onUpdate:modelValue","onChange"])])])]))),128))])])])])])])])])],512),[[S,Object.keys(e(o).goodsSkuData).length]])])],512),[[S,e(o).formData.spec_type=="multi"]]),r(p,{label:e(t)("memberDiscount")},{default:d(()=>[s("div",null,[r(P,{modelValue:e(o).formData.member_discount,"onUpdate:modelValue":a[50]||(a[50]=l=>e(o).formData.member_discount=l)},{default:d(()=>[r(k,{label:""},{default:d(()=>[h(i(e(t)("nonparticipation")),1)]),_:1}),r(k,{label:"discount"},{default:d(()=>[h(i(e(t)("discount")),1)]),_:1}),r(k,{label:"fixed_price"},{default:d(()=>[h(i(e(t)("fixedPrice")),1)]),_:1})]),_:1},8,["modelValue"]),e(o).formData.member_discount=="discount"?(n(),u("div",Do,i(e(t)("discountHint")),1)):V("",!0),e(o).formData.member_discount=="fixed_price"?(n(),u("div",wo,i(e(t)("fixedPriceHint")),1)):V("",!0)])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["label"]),r(G,{label:e(t)("deliveryTab"),name:"delivery"},{default:d(()=>[r(R,{model:e(o).formData,"label-width":"120px",ref_key:"deliveryFormRef",ref:A,rules:e(o).formRules,class:"page-form"},{default:d(()=>[r(p,{label:e(t)("deliveryType"),prop:"delivery_type"},{default:d(()=>[s("div",null,[r(N,{modelValue:e(o).formData.delivery_type,"onUpdate:modelValue":a[51]||(a[51]=l=>e(o).formData.delivery_type=l)},{default:d(()=>[(n(!0),u(g,null,v($,(l,m)=>(n(),y(F,{key:m,label:l.key},{default:d(()=>[h(i(l.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),te.value?(n(),u("div",Co," 请先在配置设置中设置配送方式")):V("",!0)])]),_:1},8,["label"]),U(r(p,{label:e(t)("isFreeShipping")},{default:d(()=>[r(H,{modelValue:e(o).formData.is_free_shipping,"onUpdate:modelValue":a[52]||(a[52]=l=>e(o).formData.is_free_shipping=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1},8,["label"]),[[S,e(o).formData.delivery_type.indexOf("express")!=-1]]),U(r(p,{label:e(t)("feeType"),prop:"fee_type"},{default:d(()=>[r(P,{modelValue:e(o).formData.fee_type,"onUpdate:modelValue":a[53]||(a[53]=l=>e(o).formData.fee_type=l)},{default:d(()=>[r(k,{label:"template"},{default:d(()=>[h(i(e(t)("selectTemplate")),1)]),_:1}),r(k,{label:"fixed"},{default:d(()=>[h(i(e(t)("fixedShipping")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),[[S,e(o).formData.delivery_type.indexOf("express")!=-1&&e(o).formData.is_free_shipping==0]]),U(r(p,{label:e(t)("deliveryMoney"),prop:"delivery_money"},{default:d(()=>[r(f,{modelValue:e(o).formData.delivery_money,"onUpdate:modelValue":a[54]||(a[54]=l=>e(o).formData.delivery_money=l),clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8"},{append:d(()=>[h(i(e(t)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),[[S,e(o).formData.delivery_type.indexOf("express")!=-1&&e(o).formData.is_free_shipping==0&&e(o).formData.fee_type=="fixed"]]),U(r(p,{label:e(t)("deliveryTemplateId"),prop:"delivery_template_id"},{default:d(()=>[r(E,{modelValue:e(o).formData.delivery_template_id,"onUpdate:modelValue":a[55]||(a[55]=l=>e(o).formData.delivery_template_id=l),placeholder:e(t)("deliveryTemplateIdPlaceholder"),filterable:"",autocomplete:"off",clearable:""},{default:d(()=>[(n(!0),u(g,null,v(L,l=>(n(),y(C,{key:l.template_id,label:l.template_name,value:l.template_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",Uo,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:J},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:se},i(e(t)("addDeliveryTemplateId")),1)])]),_:1},8,["label"]),[[S,e(o).formData.delivery_type.indexOf("express")!=-1&&e(o).formData.is_free_shipping==0&&e(o).formData.fee_type=="template"]])]),_:1},8,["model","rules"])]),_:1},8,["label"]),r(G,{label:e(t)("goodsArguments"),name:"goods_arguments"},{default:d(()=>[r(R,{model:e(o).formData,"label-width":"120px",ref_key:"goodsArgumentsFormRef",ref:Z,rules:e(o).formRules,class:"page-form"},{default:d(()=>[r(p,{label:e(t)("goodsArgumentsTemp")},{default:d(()=>[s("div",null,[r(E,{modelValue:e(o).formData.attr_id,"onUpdate:modelValue":a[56]||(a[56]=l=>e(o).formData.attr_id=l),placeholder:e(t)("goodsArgumentsTempPlaceholder"),clearable:"",onChange:e(o).attrChange,onClear:a[57]||(a[57]=l=>e(o).attrChange(-1))},{default:d(()=>[(n(!0),u(g,null,v(e(o).attrOptions,l=>(n(),y(C,{key:l.attr_id,label:l.attr_name,value:l.attr_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","onChange"]),r(M,{class:"ml-2",onClick:ie},{default:d(()=>[h(" 一键全选")]),_:1}),s("div",So,i(e(t)("goodsArgumentsTempHint")),1),s("table",To,[Eo,s("thead",Po,[s("tr",null,[s("th",null,i(e(t)("argumentsName")),1),s("th",null,i(e(t)("argumentsValue")),1),s("th",Ro,[s("div",Mo,[s("span",null,i(e(t)("sort")),1),r(ue,{class:"box-item",effect:"dark",content:e(t)("argumentsSortHint"),placement:"right"},{default:d(()=>[Go]),_:1},8,["content"])])]),s("th",null,i(e(t)("operation")),1)])]),s("tbody",Oo,[e(o).attrTableData.length?(n(!0),u(g,{key:0},v(e(o).attrTableData,(l,m)=>(n(),u("tr",{class:"goods-attr-tr goods-new-attr-tr",key:m},[l.attr_value_id>0?(n(),u("td",Fo,i(l.attr_value_name),1)):(n(),u("td",No,[r(f,{modelValue:l.attr_value_name,"onUpdate:modelValue":c=>l.attr_value_name=c,modelModifiers:{trim:!0},maxlength:"20","show-word-limit":"",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),s("td",null,[l.type=="text"?(n(),y(f,{key:0,maxlength:"20","show-word-limit":"",modelValue:l.select_child_val,"onUpdate:modelValue":c=>l.select_child_val=c,modelModifiers:{trim:!0},clearable:""},null,8,["modelValue","onUpdate:modelValue"])):l.type=="radio"?(n(),u("div",Io,[r(P,{modelValue:l.select_child_name,"onUpdate:modelValue":c=>l.select_child_name=c,onChange:c=>e(o).attrRadioChange(m,c)},{default:d(()=>[(n(!0),u(g,null,v(l.child,(c,b)=>(n(),y(k,{key:b,label:c.id},{default:d(()=>[h(i(c.name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):l.type=="checkbox"?(n(),u("div",Bo,[r(N,{modelValue:l.select_child_name,"onUpdate:modelValue":c=>l.select_child_name=c,onChange:c=>e(o).attrCheckboxChange(m,c)},{default:d(()=>[(n(!0),u(g,null,v(l.child,(c,b)=>(n(),y(F,{key:b,label:c.id},{default:d(()=>[h(i(c.name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):V("",!0)]),s("td",null,[r(f,{modelValue:l.sort,"onUpdate:modelValue":c=>l.sort=c,modelModifiers:{trim:!0},maxlength:"6","show-word-limit":"",clearable:"",onKeyup:a[58]||(a[58]=c=>e(B)(c))},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("span",{class:"cursor-pointer text-[var(--el-color-primary)]",onClick:c=>e(o).delAttr(m)},i(e(t)("delAttr")),9,Ao)])]))),128)):(n(),u("tr",$o,[s("td",Lo,i(e(t)("noData")),1)]))])]),r(M,{class:"mt-[15px]",onClick:e(o).addAttr},{default:d(()=>[h(i(e(t)("addGoodsArguments")),1)]),_:1},8,["onClick"])])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"]),r(G,{label:e(t)("goodsDesc"),name:"detail"},{default:d(()=>[r(R,{model:e(o).formData,"label-width":"120px",ref_key:"detailFormRef",ref:j,rules:e(o).formRules,class:"page-form"},{default:d(()=>[r(p,{label:e(t)("goodsDesc"),prop:"goods_desc"},{default:d(()=>[r(me,{modelValue:e(o).formData.goods_desc,"onUpdate:modelValue":a[59]||(a[59]=l=>e(o).formData.goods_desc=l),height:600,onHandleBlur:e(o).handleBlur,class:"editor-width"},null,8,["modelValue","onHandleBlur"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"])]),_:1},8,["modelValue","onTabClick"])]),_:1}),s("div",Ho,[s("div",Ko,[r(M,{type:"primary",onClick:a[61]||(a[61]=l=>ne())},{default:d(()=>[h(i(e(t)("save")),1)]),_:1}),r(M,{onClick:a[62]||(a[62]=l=>e(o).back())},{default:d(()=>[h(i(e(t)("back")),1)]),_:1})])])])}}});const $a=je(zo,[["__scopeId","data-v-33ff5e01"]]);export{$a as default};
