import{d as B,r as w,n as C,h as i,c as F,R as D,s as f,w as a,e as l,a as d,i as p,B as _,u,q as r,t as b,aW as P,au as q,av as N,L as I,E as K,K as S,a7 as J,ac as L,aD as M,M as O,Y as G}from"./index-904cb7a2.js";/* empty css                   *//* empty css                *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                *//* empty css                  */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 *//* empty css                 */import{g as T,s as Y}from"./tkjhkd-9ed71706.js";const $={class:"main-container"},j={style:{width:"840px"},class:"mb-2"},z=d("a",{href:"https://market.cloud.tencent.com/products/37790?keyword=%E5%BF%AB%E9%80%92%E5%9C%B0%E5%9D%80#spec=0.00%E5%85%83%2F10%E6%AC%A1",target:"_blank"},"购买地址",-1),H={class:"ml-4"},Q=d("span",{class:"mr-2"},"腾讯云市场secretId",-1),X={class:"ml-4"},Z=d("span",{class:"mr-2"},"腾讯云市场secretKey",-1),ee=d("a",{href:"https://market.aliyun.com/apimarket/detail/cmapi00066593#sku=yuncode6059300002",target:"_blank"},"购买地址",-1),le={class:"ml-4"},oe=d("span",{class:"mr-2"},"AppCode",-1),ae=d("span",{class:"ml-[4px]"},"元 首重和续重均会加价",-1),te=d("span",{class:"ml-[4px]"},"%，首重续重就会按照此比进行计算",-1),de=d("span",{class:"ml-[4px] mr-2"},"首重加价",-1),se=d("span",{class:"ml-[4px] mr-2 ml-6"},"续重加价",-1),ne=d("span",{class:"ml-2"},"单位:分",-1),ue=d("span",{class:"ml-4"},"是否开启群webhook通知",-1),re=d("span",{class:"ml-4"}," 单位:分钟，默认30分内只通知一次,0不限制",-1),pe={class:"fixed-footer-wrap"},me={class:"fixed-footer"},Re=B({__name:"config",setup(ie){const k=w(!0),E=w();w();const e=C({username:"",privateKey:"",floatWay:"floatWayFixed",floatAmount:"2",firstAmount:"2",secondAmount:"2",floatRate:"10",bindMobile:"",autosend:"1",cancelmin:"120",address_use:"0",tx_id:"",tx_secret:"",is_webhook:"0",webhook_type:"0",qwurl:"",fsurl:"",ddurl:"",min:"30",appcode:""}),x=async()=>{const y=await T({});k.value=!1;for(const o in e)e[o]=y.data.value[o]};x();const g=async()=>{await Y(e),x()};return(y,o)=>{const v=P,m=q,c=N,s=I,V=K,n=S,W=J,h=L,A=M,U=O,R=G;return i(),F("div",$,[D((i(),f(U,{model:e,"label-width":"150px",ref_key:"ruleFormRef",ref:E,rules:y.rules,class:"page-form"},{default:a(()=>[l(W,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[d("div",j,[l(v,{type:"info",title:"提示:1、请逐项完善基础配置；2、如您使用快递鸟接口，请配置好阿里物流查询APPCODE;3、云洋接口存在特殊性，续重固定3元/kg;4、请在各平台配置回调地址",closable:!1,"show-icon":""})]),l(s,{label:"地址解析",prop:"autosend"},{default:a(()=>[l(c,{modelValue:e.address_use,"onUpdate:modelValue":o[0]||(o[0]=t=>e.address_use=t)},{default:a(()=>[l(m,{label:"0"},{default:a(()=>[p("关闭")]),_:1}),l(m,{label:"1"},{default:a(()=>[p("开启")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e.address_use==1?(i(),f(s,{key:0},{default:a(()=>[l(V,null,{default:a(()=>[z]),_:1}),d("div",H,[Q,l(n,{clearable:"",modelValue:e.tx_id,"onUpdate:modelValue":o[1]||(o[1]=t=>e.tx_id=t),style:{width:"200px"},placeholder:"腾讯云市场购买后分配"},null,8,["modelValue"])]),d("div",X,[Z,l(n,{clearable:"",modelValue:e.tx_secret,"onUpdate:modelValue":o[2]||(o[2]=t=>e.tx_secret=t),style:{width:"200px"},placeholder:"腾讯云市场购买后分配"},null,8,["modelValue"])])]),_:1})):_("",!0),l(s,{label:"阿里云物流解析"},{default:a(()=>[l(V,null,{default:a(()=>[ee]),_:1}),d("div",le,[oe,l(n,{clearable:"",modelValue:e.appcode,"onUpdate:modelValue":o[3]||(o[3]=t=>e.appcode=t),style:{width:"200px"},placeholder:"阿里云市场购买后分配"},null,8,["modelValue"])])]),_:1}),l(s,{label:"发单方式",prop:"autosend"},{default:a(()=>[l(c,{modelValue:e.autosend,"onUpdate:modelValue":o[4]||(o[4]=t=>e.autosend=t)},{default:a(()=>[l(m,{label:"0"},{default:a(()=>[p("手动")]),_:1}),l(m,{label:"1"},{default:a(()=>[p("自动")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:u(r)("floatWay"),prop:"floatWay"},{default:a(()=>[l(c,{modelValue:e.floatWay,"onUpdate:modelValue":o[5]||(o[5]=t=>e.floatWay=t)},{default:a(()=>[l(m,{label:"floatWayFixed"},{default:a(()=>[p(b(u(r)("floatWayFixed")),1)]),_:1}),l(m,{label:"floatWayRate"},{default:a(()=>[p(b(u(r)("floatWayRate")),1)]),_:1}),l(m,{label:"floatWayBetwn"},{default:a(()=>[p(b(u(r)("floatWayBetwn")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e.floatWay=="floatWayFixed"?(i(),f(s,{key:1,label:u(r)("floatAmount"),prop:"floatAmount"},{default:a(()=>[l(n,{modelValue:e.floatAmount,"onUpdate:modelValue":o[6]||(o[6]=t=>e.floatAmount=t),style:{width:"200px"},placeholder:u(r)("floatAmountPlaceholder")},null,8,["modelValue","placeholder"]),ae]),_:1},8,["label"])):_("",!0),e.floatWay=="floatWayRate"?(i(),f(s,{key:2,label:u(r)("floatRate"),prop:"floatRate"},{default:a(()=>[l(n,{modelValue:e.floatRate,"onUpdate:modelValue":o[7]||(o[7]=t=>e.floatRate=t),style:{width:"200px"},placeholder:u(r)("floatRatePlaceholder")},null,8,["modelValue","placeholder"]),te]),_:1},8,["label"])):_("",!0),e.floatWay=="floatWayBetwn"?(i(),f(s,{key:3},{default:a(()=>[de,l(n,{modelValue:e.firstAmount,"onUpdate:modelValue":o[8]||(o[8]=t=>e.firstAmount=t),style:{width:"80px"},placeholder:u(r)("floatRatePlaceholder")},null,8,["modelValue","placeholder"]),se,l(n,{modelValue:e.secondAmount,"onUpdate:modelValue":o[9]||(o[9]=t=>e.secondAmount=t),style:{width:"80px"},placeholder:u(r)("floatRatePlaceholder")},null,8,["modelValue","placeholder"])]),_:1})):_("",!0),l(s,{label:"取消订单"},{default:a(()=>[l(n,{modelValue:e.cancelmin,"onUpdate:modelValue":o[10]||(o[10]=t=>e.cancelmin=t),style:{width:"80px"},placeholder:"单位分"},null,8,["modelValue"]),ne]),_:1}),l(W,{class:"!border-none",shadow:"never",style:{width:"640px"}},{default:a(()=>[l(v,{type:"info",title:"开启配置通知，订单新增，催收等会同步到webhook群",closable:!1,"show-icon":""})]),_:1}),l(s,{label:""},{default:a(()=>[l(c,{modelValue:e.is_webhook,"onUpdate:modelValue":o[11]||(o[11]=t=>e.is_webhook=t)},{default:a(()=>[l(m,{label:"0"},{default:a(()=>[p("否")]),_:1}),l(m,{label:"1"},{default:a(()=>[p("是")]),_:1})]),_:1},8,["modelValue"]),ue]),_:1}),l(s,{class:"font-bold text-xs",label:"通知类型",prop:"checktype"},{default:a(()=>[l(A,{modelValue:e.webhook_type,"onUpdate:modelValue":o[12]||(o[12]=t=>e.webhook_type=t),clearable:"",placeholder:"请选择"},{default:a(()=>[l(h,{key:"0",label:"企业微信",value:"0"}),l(h,{key:"1",label:"飞书",value:"1"}),l(h,{key:"2",label:"钉钉",value:"2"})]),_:1},8,["modelValue"])]),_:1}),e.webhook_type==0?(i(),f(s,{key:4,class:"font-bold text-xs",label:"Webhook 地址",prop:"action"},{default:a(()=>[l(n,{clearable:"",modelValue:e.qwurl,"onUpdate:modelValue":o[13]||(o[13]=t=>e.qwurl=t),class:"w-60",placeholder:"请输入webhook地址"},null,8,["modelValue"])]),_:1})):_("",!0),e.webhook_type==1?(i(),f(s,{key:5,class:"font-bold text-xs",label:"Webhook 地址",prop:"msg"},{default:a(()=>[l(n,{type:"textarea",clearable:"",modelValue:e.fsurl,"onUpdate:modelValue":o[14]||(o[14]=t=>e.fsurl=t),style:{width:"300px"},placeholder:"请输入webhook地址"},null,8,["modelValue"])]),_:1})):_("",!0),e.webhook_type==2?(i(),f(s,{key:6,class:"font-bold text-xs",label:"Webhook 地址",prop:"msg"},{default:a(()=>[l(n,{clearable:"",modelValue:e.ddurl,"onUpdate:modelValue":o[15]||(o[15]=t=>e.ddurl=t),class:"w-60",placeholder:"请输入webhook地址"},null,8,["modelValue"])]),_:1})):_("",!0),l(s,{class:"font-bold text-xs",label:"通知频率",prop:"msg"},{default:a(()=>[l(n,{clearable:"",modelValue:e.min,"onUpdate:modelValue":o[16]||(o[16]=t=>e.min=t),style:{width:"200px"},placeholder:"以分钟计算，默认30分钟"},null,8,["modelValue"]),re]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[R,k.value]]),d("div",pe,[d("div",me,[l(V,{type:"primary",onClick:o[17]||(o[17]=t=>g())},{default:a(()=>[p(b(u(r)("save")),1)]),_:1})])])])}}});export{Re as default};
