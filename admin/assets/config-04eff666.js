import{O as x,d as F,f as k,r as u,q as y,m as R,s as a,h as f,c as G,R as N,v as b,w as r,u as i,a as n,t as _,e as s,C as q,i as M,a3 as T,L,a7 as O,M as S,E as U,Y as j}from"./index-0e396751.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                */import{_ as A}from"./index.vue_vue_type_script_setup_true_lang-406de1d6.js";import"./el-form-item-4ed993c7.js";import I from"./index-11d71036.js";import"./index.vue_vue_type_style_index_0_lang-d82568af.js";/* empty css                  *//* empty css                   */import"./attachment-c52133c7.js";import"./index.vue_vue_type_script_setup_true_lang-34f8a01a.js";/* empty css                        *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css               *//* empty css                  *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-077a27b1.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-5014406f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";function P(){return x.get("shop_giftcard/config")}function Y(g){return x.put("shop_giftcard/config",g,{showErrorMessage:!0,showSuccessMessage:!0})}const $={class:"main-container"},z={class:"text text-[14px] leading-[25px]"},H={class:"text-[var(--el-text-color-secondary)] text-[12px] leading-[25px]"},J={class:"fixed-footer-wrap"},K={class:"fixed-footer"},qe=F({__name:"config",setup(g){k();const l=u(!1),t=y({...{banner:"",tips:""}}),w=R(()=>({banner:[{required:!0,message:a("bannerPlaceholder"),trigger:"blur"}]})),v=u();(()=>{l.value=!0,P().then(o=>{Object.keys(t).forEach(e=>{o.data[e]!=null&&(t[e]=o.data[e]),t.goods_ids=o.data.goods_ids&&o.data.goods_ids!="0"?o.data.goods_ids.split(","):[]}),l.value=!1})})();const d=u(!1),C=()=>{var e;var o=T(t);(e=v.value)==null||e.validate(m=>{if(m){if(d.value)return;d.value=!0,Y(o).then(p=>{d.value=!1}).catch(()=>{d.value=!1})}})};return(o,e)=>{const m=I,p=L,V=A,h=O,E=S,B=U,D=j;return f(),G("div",$,[N((f(),b(h,{class:"card !border-none",shadow:"never"},{default:r(()=>[l.value?q("",!0):(f(),b(E,{key:0,class:"page-form",model:t,"label-width":"180px",rules:i(w),ref_key:"formRef",ref:v},{default:r(()=>[n("div",z,_(i(a)("titleActivate")),1),s(h,{class:"card !border-none",shadow:"never"},{default:r(()=>[s(p,{label:i(a)("labelBalance"),prop:"banner"},{default:r(()=>[n("div",null,[s(m,{modelValue:t.banner,"onUpdate:modelValue":e[0]||(e[0]=c=>t.banner=c),limit:1},null,8,["modelValue"]),n("p",H,_(i(a)("balanceTips")),1)])]),_:1},8,["label"]),s(p,{label:i(a)("labelTips"),prop:"tips"},{default:r(()=>[s(V,{modelValue:t.tips,"onUpdate:modelValue":e[1]||(e[1]=c=>t.tips=c),height:300,class:"editor-width"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","rules"]))]),_:1})),[[D,l.value]]),n("div",J,[n("div",K,[s(B,{type:"primary",onClick:C},{default:r(()=>[M(_(i(a)("save")),1)]),_:1})])])])}}});export{qe as default};
