import{d as q,r as f,q as B,m as k,h as w,v as h,w as l,a as u,e as t,i as d,t as D,u as v,s as x,R as N,cf as j,cg as A,aW as G,at as L,au as O,L as $,K as J,E as K,a7 as M,M as P,X as Q,Y as T}from"./index-0e396751.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                *//* empty css                  *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 *//* empty css                 */const W={style:{width:"520px"}},X=u("div",{class:"text-slate-400"}," 域名组成：https://vip.123pan.cn/会员uid/目录 ",-1),Y=u("span",{class:"text-slate-400"},"注：拥有开发者权益，可以增加上传QPS",-1),z=u("a",{href:"https://www.123pan.com/s/Ggx9-gAmJv.html",target:"_blank"},"123网盘注册",-1),H=u("a",{href:"https://www.123pan.com/developer",target:"_blank"},"开放平台申请",-1),Z={class:"dialog-footer"},_e=q({__name:"index",emits:["complete"],setup(ee,{expose:E,emit:S}){const c=f(!1),n=f(!0),g={storage_type:"",clientID:"",clientSecret:"",dir:"",domain:"https://vip.123pan.cn/id/dir",is_use:"0",is_dev:"0"},a=B({...g}),b=f(),I=k(()=>({clientID:[{required:!0,message:"client_id必须填写",trigger:"blur"}],clientSecret:[{required:!0,message:"client_secret必须填写",trigger:"blur"}],dir:[{required:!0,message:"目录名称必须填写",trigger:"blur"}]})),y=async r=>{n.value||!r||await r.validate(async e=>{e&&(n.value=!0,j(a).then(m=>{n.value=!1,c.value=!1,S("complete")}).catch(()=>{n.value=!1}))})};return E({showDialog:c,setFormData:async(r=null)=>{if(n.value=!0,Object.assign(a,g),r){const e=await(await A(r.storage_type)).data;Object.keys(a).forEach(s=>{e[s]!=null&&(a[s]=e[s]),e.params[s]!=null&&(a[s]=e.params[s].value)})}n.value=!1}}),(r,e)=>{const s=G,m=L,V=O,i=$,p=J,_=K,U=M,R=P,C=Q,F=T;return w(),h(C,{modelValue:c.value,"onUpdate:modelValue":e[8]||(e[8]=o=>c.value=o),title:"123盘",width:"580px","destroy-on-close":!0},{footer:l(()=>[u("span",Z,[t(_,{onClick:e[6]||(e[6]=o=>c.value=!1)},{default:l(()=>[d(D(v(x)("cancel")),1)]),_:1}),t(_,{type:"primary",loading:n.value,onClick:e[7]||(e[7]=o=>y(b.value))},{default:l(()=>[d(D(v(x)("confirm")),1)]),_:1},8,["loading"])])]),default:l(()=>[N((w(),h(R,{model:a,"label-width":"140px",ref_key:"formRef",ref:b,rules:v(I),class:"page-form"},{default:l(()=>[t(U,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[u("div",W,[t(s,{type:"info",title:"本存储需使用123盘直链功能，会员/超级会员才可使用，流量费用请参以最新资费为准",closable:!1,"show-icon":""})]),t(i,{label:"是否启用"},{default:l(()=>[t(V,{modelValue:a.is_use,"onUpdate:modelValue":e[0]||(e[0]=o=>a.is_use=o)},{default:l(()=>[t(m,{label:"1"},{default:l(()=>[d("启用")]),_:1}),t(m,{label:"0"},{default:l(()=>[d("停用")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"clientID",prop:"clientID"},{default:l(()=>[t(p,{modelValue:a.clientID,"onUpdate:modelValue":e[1]||(e[1]=o=>a.clientID=o),placeholder:"请填写client_id",class:"input-width",clearable:""},null,8,["modelValue"])]),_:1}),t(i,{label:"clientSecret",prop:"clientSecret"},{default:l(()=>[t(p,{modelValue:a.clientSecret,"onUpdate:modelValue":e[2]||(e[2]=o=>a.clientSecret=o),placeholder:"请填写client_secret",class:"input-width",clearable:""},null,8,["modelValue"])]),_:1}),t(i,{label:"上传目录",prop:"dir"},{default:l(()=>[t(p,{modelValue:a.dir,"onUpdate:modelValue":e[3]||(e[3]=o=>a.dir=o),placeholder:"如oss,根目录下需要不存在这个目录",class:"input-width",clearable:""},null,8,["modelValue"])]),_:1}),t(i,{label:"域名前缀",prop:"domain"},{default:l(()=>[t(p,{modelValue:a.domain,"onUpdate:modelValue":e[4]||(e[4]=o=>a.domain=o),placeholder:"进入123盘的直链空间获取地址",class:"input-width",clearable:""},null,8,["modelValue"]),X]),_:1}),t(i,{label:"开发者权益"},{default:l(()=>[t(V,{modelValue:a.is_dev,"onUpdate:modelValue":e[5]||(e[5]=o=>a.is_dev=o)},{default:l(()=>[t(m,{label:"1"},{default:l(()=>[d("拥有开发者权益")]),_:1}),t(m,{label:"0"},{default:l(()=>[d("不拥有开发者权益")]),_:1})]),_:1},8,["modelValue"]),Y]),_:1}),t(i,{label:"快速导航"},{default:l(()=>[t(_,null,{default:l(()=>[z]),_:1}),t(_,null,{default:l(()=>[H]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[F,n.value]])]),_:1},8,["modelValue"])}}});export{_e as default};
