import{d as q,k as H,j as J,r as x,m as L,c4 as C,Q as j,h as n,v as _,w as c,e as p,a as u,u as r,c as d,B as Q,T as M,F as k,t as S,bt as T,C as R,y as z,f as G,J as K,bE as P,dc as W,dd as X,V as Y,N as Z,A as I,a3 as ee}from"./index-0e396751.js";/* empty css                     *//* empty css                */import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./el-menu-item-4ed993c7.js";import{_ as ae}from"./index.vue_vue_type_script_setup_true_lang-5014406f.js";/* empty css                 *//* empty css                        */import{_ as te}from"./icon-addon-339e16d0.js";import{_ as se}from"./menu-item.vue_vue_type_style_index_0_lang-319a8140.js";const ne={class:"one-menu w-[124px] h-screen px-[8px] bg-[#282c34]"},le={key:0,class:"logo flex items-center m-auto h-[64px]"},oe=u("div",{class:"flex justify-center items-center w-full h-[40px]"},[u("img",{class:"max-w-[40px]",src:te,alt:"","object-fit":"contain"})],-1),ce={key:1,class:"logo flex items-center justify-center h-[64px]"},re=u("i",{class:"text-3xl iconfont iconyunkongjian"},null,-1),ue=[re],de={key:0,class:"w-[16px] h-[16px] relative flex justify-center"},ie={key:1,class:"w-[16px] h-[16px]"},_e={class:"relative flex-1 w-0"},pe={class:"ml-[10px] w-full truncate"},he=u("div",{class:"h-[48px]"},null,-1),me={class:"w-[140px] h-[64px] flex items-center justify-center text-[16px] border-b-[1px] border-solid border-[var(--el-border-color-lighter)]"},fe=u("div",{class:"h-[48px]"},null,-1),Be=q({__name:"side",setup(ve){const t=z(),B=G(),f=H(),h=J(),a=h.siteInfo,V=h.routers,D=h.addonIndexRoute,m=x([]),l=x([]),v={},N=L(()=>h.siteInfo.icon?h.siteInfo.icon:f.website.icon);if(V.forEach(e=>{e.original_name=e.name,e.meta.addon==""?e.meta.attr==""&&(e.children&&e.children.length&&(e.name=C(e.children)),m.value.push(e)):e.meta.addon!=""&&(a==null?void 0:a.apps.length)<=1&&(a==null?void 0:a.apps[0].key)==e.meta.addon?e.children?(e.children.forEach(s=>{s.original_name=s.name,s.children&&s.children.length&&(s.name=C(s.children))}),m.value.unshift(...e.children)):m.value.unshift(e):v[e.meta.addon]=e}),(a==null?void 0:a.apps.length)>1){const e=[];a==null||a.apps.forEach(s=>{v[s.key]&&(v[s.key].name=D[s.key],e.push(v[s.key]))}),m.value.unshift(...e)}const i=x(t.matched[1].name);j(t,()=>{if(t.meta.attr!="")i.value=t.matched[2].name,l.value=t.matched[1].children??[];else if((a==null?void 0:a.apps.length)>1)l.value=t.matched[1].children,i.value=t.matched[1].name;else{const e=t.matched[1];e.meta.addon==""?(i.value=t.matched[1].name,l.value=t.matched[1].children??[]):e.meta.addon==(a==null?void 0:a.apps[0].key)?(i.value=t.matched[2].name,l.value=t.matched[2].children??[]):(i.value=t.matched[1].name,l.value=t.matched[1].children??[])}},{immediate:!0});const y=x([]);return j(l.value,()=>{if(y.value=[],l.value&&Object.values(l.value).length){let e=ee(l.value);for(let s in e)y.value.push(e[s].name)}},{immediate:!0}),(e,s)=>{const w=K,F=P,U=ae,$=W,b=X,E=Y,A=Z,O=I;return n(),_(O,{class:"w-100 h-screen"},{default:c(()=>[p(A,{class:"flex p-0"},{default:c(()=>[u("div",ne,[p(F,{class:"logo-wrap"},{default:c(()=>[r(f).menuIsCollapse?(n(),d("div",ce,ue)):(n(),d("div",le,[p(w,{style:{width:"40px",height:"40px"},src:r(Q)(r(N)),fit:"contain"},{error:c(()=>[oe]),_:1},8,["src"])]))]),_:1}),p(E,{class:"h-[calc( 100vh - 64px )]"},{default:c(()=>[p(b,{"default-active":i.value,router:!0,class:"aside-menu","unique-opened":!0,collapse:r(f).menuIsCollapse},{default:c(()=>[(n(!0),d(k,null,M(m.value,(o,g)=>(n(),d(k,{key:g},[o.meta.show?(n(),_($,{key:0,index:o.original_name,onClick:xe=>r(B).push({name:o.name})},{title:c(()=>[u("div",_e,[u("span",pe,S(o.meta.short_title||o.meta.title),1)])]),default:c(()=>[o.meta.icon?(n(),d("div",de,[r(T)(o.meta.icon)?(n(),_(w,{key:0,class:"w-[16px] h-[16px] rounded-[50%] overflow-hidden",src:o.meta.icon,fit:"fill"},null,8,["src"])):(n(),_(U,{key:1,name:o.meta.icon,class:"absolute top-[50%] -translate-y-[50%]"},null,8,["name"]))])):(n(),d("div",ie))]),_:2},1032,["index","onClick"])):R("",!0)],64))),128))]),_:1},8,["default-active","collapse"]),he]),_:1})]),l.value.length?(n(),_(E,{key:0,class:"two-menu w-[140px]"},{default:c(()=>[u("div",me,S(r(t).matched[1].meta.title),1),p(b,{class:"aside-menu","default-active":r(t).name,"default-openeds":y.value,router:!0,collapse:r(f).menuIsCollapse},{default:c(()=>[(n(!0),d(k,null,M(l.value,(o,g)=>(n(),_(se,{routes:o,key:g},null,8,["routes"]))),128))]),_:1},8,["default-active","default-openeds","collapse"]),fe]),_:1})):R("",!0)]),_:1})]),_:1})}}});export{Be as _};
