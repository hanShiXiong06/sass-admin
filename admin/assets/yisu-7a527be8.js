import{d as R,r as m,q as C,m as F,h as b,v as y,w as a,a as f,e as t,i as n,R as q,u as B,at as U,au as I,L as N,K as j,E as L,M as O,X as P,Y as $}from"./index-0e396751.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                  *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 */import{e as G,g as K}from"./platform-6692df40.js";const M=f("a",{href:"http://admin.yisuopen.com",target:"_blank"},"亿速开放平台",-1),T=f("div",{class:"text-[#E43C30]"},"暂不允许自助注册，请联系客服注册",-1),X={class:"dialog-footer"},oe=R({__name:"yisu",emits:["complete"],setup(Y,{expose:V,emit:k}){const p=m(!1),r=m(!0),_={type:"",is_use:"",appid:"",appkey:""},l=C({..._}),c=m(),w=F(()=>({is_use:[{required:!0,message:"请选择是否启用",trigger:"blur"}],appid:[{required:!0,message:"请输入appid",trigger:"blur"}],appkey:[{required:!0,message:"请输入appkey",trigger:"blur"}]})),E=async i=>{r.value||!i||await i.validate(async e=>{e&&(r.value=!0,G(l).then(v=>{r.value=!1,p.value=!1,k("complete")}).catch(()=>{r.value=!1}))})};return V({showDialog:p,setFormData:async(i=null)=>{if(r.value=!0,Object.assign(l,_),i){const e=await(await K(i.type)).data;Object.keys(l).forEach(o=>{e[o]!=null&&(l[o]=e[o]),e.params[o]!=null&&(l[o]=e.params[o].value)})}r.value=!1}}),(i,e)=>{const o=U,v=I,u=N,g=j,d=L,h=O,x=P,D=$;return b(),y(x,{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=s=>p.value=s),title:"亿速开放平台",width:"580px","destroy-on-close":!0},{footer:a(()=>[f("span",X,[t(d,{onClick:e[3]||(e[3]=s=>p.value=!1)},{default:a(()=>[n("取消")]),_:1}),t(d,{type:"primary",loading:r.value,onClick:e[4]||(e[4]=s=>E(c.value))},{default:a(()=>[n("确认")]),_:1},8,["loading"])])]),default:a(()=>[q((b(),y(h,{model:l,"label-width":"140px",ref_key:"formRef",ref:c,rules:B(w),class:"page-form"},{default:a(()=>[t(u,{label:"是否启用",prop:"is_use"},{default:a(()=>[t(v,{modelValue:l.is_use,"onUpdate:modelValue":e[0]||(e[0]=s=>l.is_use=s)},{default:a(()=>[t(o,{label:1},{default:a(()=>[n("启用")]),_:1}),t(o,{label:0},{default:a(()=>[n("停用")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(u,{label:"appid",prop:"appid"},{default:a(()=>[t(g,{modelValue:l.appid,"onUpdate:modelValue":e[1]||(e[1]=s=>l.appid=s),placeholder:"appid",class:"input-width",clearable:""},null,8,["modelValue"])]),_:1}),t(u,{label:"appkey",prop:"appkey"},{default:a(()=>[t(g,{modelValue:l.appkey,"onUpdate:modelValue":e[2]||(e[2]=s=>l.appkey=s),placeholder:"appkey",class:"input-width",clearable:""},null,8,["modelValue"])]),_:1}),t(u,{label:"常用导航"},{default:a(()=>[t(d,null,{default:a(()=>[M]),_:1})]),_:1}),t(u,{label:""},{default:a(()=>[T]),_:1})]),_:1},8,["model","rules"])),[[D,r.value]])]),_:1},8,["modelValue"])}}});export{oe as default};
