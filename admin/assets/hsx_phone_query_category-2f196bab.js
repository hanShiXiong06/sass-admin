import{d as M,y as K,q as O,r as w,h as _,c as g,e as a,w as r,a as f,t as c,u as e,i as v,s as n,F as k,T as D,v as S,R as W,C as Y,a5 as A,E as G,ab as J,aC as X,L as Z,K as ee,M as ae,a7 as te,ac as oe,aE as le,aS as ne,ad as re,W as se,Y as ie}from"./index-0e396751.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                        *//* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{u as de}from"./dict-2a424490.js";import{_ as pe,g as me,d as ue,m as C,a as ce}from"./hsx-phone-query-category-edit.vue_vue_type_style_index_0_lang-b119c1d7.js";import{_ as _e}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   */const he={class:"main-container"},ye={class:"flex justify-between items-center"},ge={class:"text-lg"},fe={class:"mt-[10px]"},ve={key:0},be={class:"mt-[16px] flex justify-end"},we=M({__name:"hsx_phone_query_category",setup(xe){const F=K().meta.title;let o=O({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{type_id:"",name:"",price:"",is_show:""}});const V=w();w([]);const x=w([]);(async()=>{x.value=await(await de("phone_type")).data.dictionary})();const d=(s=1)=>{o.loading=!0,o.page=s,me({page:o.page,limit:o.limit,...o.searchParam}).then(l=>{o.loading=!1,o.data=l.data.data,o.total=l.data.total}).catch(()=>{o.loading=!1})};d();const h=w(null),U=()=>{h.value.setFormData(),h.value.showDialog=!0},B=s=>{h.value.setFormData(s),h.value.showDialog=!0},L=s=>{A.confirm(n("hsxPhoneQueryCategoryDeleteTips"),n("warning"),{confirmButtonText:n("confirm"),cancelButtonText:n("cancel"),type:"warning"}).then(()=>{ue(s).then(()=>{d()}).catch(()=>{})})},Q=s=>{s&&(s.resetFields(),d())},R=({newIndex:s,oldIndex:l})=>{const p=o.data[l],m=o.data[s],b=p.sort;p.sort=m.sort,m.sort=b,C(p.id,p.sort),C(m.id,m.sort),d()},T=(s,l)=>{C(s,l).then(()=>{d()})},I=(s,l)=>{ce(s,l).then(()=>{d()})};return(s,l)=>{const p=G,m=J,b=X,y=Z,P=ee,z=ae,E=te,u=oe,H=le,N=ne,$=re,q=se,j=ie;return _(),g("div",he,[a(E,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[f("div",ye,[f("span",ge,c(e(F)),1),a(p,{type:"primary",onClick:U},{default:r(()=>[v(c(e(n)("addHsxPhoneQueryCategory")),1)]),_:1})]),a(E,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[a(z,{inline:!0,model:e(o).searchParam,ref_key:"searchFormRef",ref:V},{default:r(()=>[a(y,{label:e(n)("typeId"),prop:"type_id"},{default:r(()=>[a(b,{class:"w-[280px]",modelValue:e(o).searchParam.type_id,"onUpdate:modelValue":l[0]||(l[0]=t=>e(o).searchParam.type_id=t),clearable:"",placeholder:e(n)("typeIdPlaceholder")},{default:r(()=>[a(m,{label:"全部",value:""}),(_(!0),g(k,null,D(x.value,(t,i)=>(_(),S(m,{key:i,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),a(y,{label:e(n)("name"),prop:"name"},{default:r(()=>[a(P,{modelValue:e(o).searchParam.name,"onUpdate:modelValue":l[1]||(l[1]=t=>e(o).searchParam.name=t),placeholder:e(n)("namePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(y,{label:e(n)("price"),prop:"price"},{default:r(()=>[a(P,{modelValue:e(o).searchParam.price,"onUpdate:modelValue":l[2]||(l[2]=t=>e(o).searchParam.price=t),placeholder:e(n)("pricePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(y,{label:e(n)("isShow"),prop:"is_show"},{default:r(()=>[a(b,{modelValue:e(o).searchParam.is_show,"onUpdate:modelValue":l[3]||(l[3]=t=>e(o).searchParam.is_show=t),clearable:""},{default:r(()=>[a(m,{label:"显示",value:1}),a(m,{label:"隐藏",value:0})]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(y,null,{default:r(()=>[a(p,{type:"primary",onClick:l[4]||(l[4]=t=>d())},{default:r(()=>[v(c(e(n)("search")),1)]),_:1}),a(p,{onClick:l[5]||(l[5]=t=>Q(V.value))},{default:r(()=>[v(c(e(n)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),f("div",fe,[W((_(),S($,{data:e(o).data,size:"large","row-key":"id",onRowDrop:R},{empty:r(()=>[f("span",null,c(e(o).loading?"":e(n)("emptyData")),1)]),default:r(()=>[a(u,{type:"drag",width:"40"}),a(u,{prop:"id",label:e(n)("id"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),a(u,{label:e(n)("typeId"),"min-width":"180",align:"center","show-overflow-tooltip":!0},{default:r(({row:t})=>[(_(!0),g(k,null,D(x.value,(i,Pe)=>(_(),g("div",null,[i.value==t.type_id?(_(),g("div",ve,c(i.name),1)):Y("",!0)]))),256))]),_:1},8,["label"]),a(u,{prop:"name",label:e(n)("name"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),a(u,{prop:"price",label:e(n)("price"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),a(u,{prop:"sort",label:e(n)("sort"),"min-width":"120"},{default:r(({row:t})=>[a(H,{modelValue:t.sort,"onUpdate:modelValue":i=>t.sort=i,min:0,max:999,onChange:i=>T(t.id,i)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1},8,["label"]),a(u,{label:e(n)("isShow"),"min-width":"120"},{default:r(({row:t})=>[a(N,{modelValue:t.is_show,"onUpdate:modelValue":i=>t.is_show=i,"active-value":1,"inactive-value":0,onChange:i=>I(t.id,i)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1},8,["label"]),a(u,{label:e(n)("operation"),fixed:"right","min-width":"120"},{default:r(({row:t})=>[a(p,{type:"primary",link:"",onClick:i=>B(t)},{default:r(()=>[v(c(e(n)("edit")),1)]),_:2},1032,["onClick"]),a(p,{type:"primary",link:"",onClick:i=>L(t)},{default:r(()=>[v(c(e(n)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[j,e(o).loading]]),f("div",be,[a(q,{"current-page":e(o).page,"onUpdate:current-page":l[6]||(l[6]=t=>e(o).page=t),"page-size":e(o).limit,"onUpdate:page-size":l[7]||(l[7]=t=>e(o).limit=t),layout:"total, sizes, prev, pager, next, jumper",total:e(o).total,onSizeChange:l[8]||(l[8]=t=>d()),onCurrentChange:d},null,8,["current-page","page-size","total"])])]),a(pe,{ref_key:"editHsxPhoneQueryCategoryDialog",ref:h,onComplete:d},null,512)]),_:1})])}}});const Ge=_e(we,[["__scopeId","data-v-54c40a16"]]);export{Ge as default};
