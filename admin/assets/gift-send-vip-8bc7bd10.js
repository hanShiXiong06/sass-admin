import{d as B,r as n,q as C,m as F,Q as c,h as i,c as v,e as o,w as m,F as f,T as N,v as O,a as r,av as j,ab as M,aC as R,K as U,L as $,M as q}from"./index-0e396751.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                    */import{g as S}from"./vip-cdadef10.js";const z=r("span",{class:"ml-[10px] el-form-item__label"},"送会员等级",-1),D={class:"w-[70px] ml-8"},K=r("span",{class:"ml-[15px] el-form-item__label"},"天",-1),Q=r("div",{class:"text-sm text-gray-400 mb-[5px]"}," 用户可以通过完成任务升级到当前等级，天数0为永久会员 ",-1),ae=B({__name:"gift-send-vip",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(b,{expose:y,emit:V}){const g=b,d=n([]);(async()=>{d.value=await(await S({})).data})();const l=n({is_use:0,day:"",level_id:""}),p=n(null),x={required:/[\S]+/,number:/^\d{0,10}$/,digit:/^\d{0,10}(.?\d{0,2})$/,special:/^\d{0,10}(.?\d{0,3})$/},h=C({num:[{validator:(a,e,t)=>{l.value.is_use?e.length==0?t("请输入天数数量"):isNaN(e)||!x.number.test(e)?t("天数数量格式错误"):e<0?t("天数数量不能小于0"):t():t()},trigger:"blur"}]}),u=F({get(){return g.modelValue},set(a){V("update:modelValue",a)}});return c(()=>u.value,(a,e)=>{(!e||!Object.keys(e).length)&&Object.keys(a).length&&(l.value=u.value)},{immediate:!0}),c(()=>l.value,()=>{u.value=l.value},{deep:!0}),y({verify:async()=>{var e;let a=!0;return await((e=p.value)==null?void 0:e.validate(t=>{a=t})),a}}),(a,e)=>{const t=j,_=M,L=R,w=U,E=$,k=q;return i(),v(f,null,[o(k,{ref_key:"formRef",ref:p,model:l.value,rules:h},{default:m(()=>[o(E,{label:"",prop:"day"},{default:m(()=>[o(t,{modelValue:l.value.is_use,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value.is_use=s),"true-label":1,"false-label":0,label:"",size:"large"},null,8,["modelValue"]),z,o(L,{class:"input-width",modelValue:l.value.level_id,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.level_id=s),clearable:"",placeholder:"请选择"},{default:m(()=>[o(_,{label:"请选择",value:""}),(i(!0),v(f,null,N(d.value,(s,I)=>(i(),O(_,{key:I,label:s.level_name,value:s.level_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),r("div",D,[o(w,{modelValue:l.value.day,"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.day=s),modelModifiers:{trim:!0},clearable:""},null,8,["modelValue"])]),K]),_:1})]),_:1},8,["model","rules"]),Q],64)}}});export{ae as default};
