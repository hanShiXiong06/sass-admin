import{d as D,r as c,q as g,s as l,h as E,v as N,w as t,a as w,e as a,i as V,t as v,u as s,K as B,L as C,M as R,E as F,X as U}from"./index-0e396751.js";/* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */import{L as I,M as L}from"./goods-4d7d064c.js";const P={class:"dialog-footer"},J=D({__name:"memory-edit",props:{},emits:["complete"],setup(K,{expose:y,emit:b}){const n=c(!1),i=c(!1),p=c(),e=g({spec_id:"",spec_name:"",sort:0}),h=g({spec_name:[{required:!0,message:l("specNameRequired"),trigger:"blur"}],sort:[{required:!0,message:l("sortRequired"),trigger:"blur"}]}),M=o=>{e.spec_id=(o==null?void 0:o.spec_id)??"",e.spec_name=(o==null?void 0:o.spec_name)??"",e.sort=(o==null?void 0:o.sort)??0},u=()=>{n.value=!1},q=()=>{p.value&&p.value.validate(o=>{o&&(i.value=!0,(e.spec_id?I(e.spec_id,e):L(e)).then(()=>{u(),b("complete")}).finally(()=>{i.value=!1}))})};return y({showDialog:n,setFormData:M}),(o,r)=>{const d=B,_=C,k=R,f=F,x=U;return E(),N(x,{modelValue:n.value,"onUpdate:modelValue":r[2]||(r[2]=m=>n.value=m),title:e.spec_id?s(l)("editMemory"):s(l)("addMemory"),width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:t(()=>[w("span",P,[a(f,{onClick:u},{default:t(()=>[V(v(s(l)("cancel")),1)]),_:1}),a(f,{type:"primary",onClick:q,loading:i.value},{default:t(()=>[V(v(s(l)("confirm")),1)]),_:1},8,["loading"])])]),default:t(()=>[a(k,{ref_key:"formRef",ref:p,model:e,rules:h,"label-width":"120px"},{default:t(()=>[a(_,{label:s(l)("specName"),prop:"spec_name"},{default:t(()=>[a(d,{modelValue:e.spec_name,"onUpdate:modelValue":r[0]||(r[0]=m=>e.spec_name=m),modelModifiers:{trim:!0},placeholder:s(l)("specNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(_,{label:s(l)("sort"),prop:"sort"},{default:t(()=>[a(d,{modelValue:e.sort,"onUpdate:modelValue":r[1]||(r[1]=m=>e.sort=m),modelModifiers:{trim:!0},placeholder:s(l)("sortPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{J as _};
