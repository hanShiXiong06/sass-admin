import{d as $,x as M,f as N,r as h,n as T,h as _,c as y,e as a,w as l,u as n,aQ as A,q as s,i as p,t as i,R as S,s as w,a as d,A as U,a3 as j,aR as q,a7 as H,K as J,L as K,E as Q,M as W,J as Y,ad as G,ae as O,W as X,Y as Z}from"./index-904cb7a2.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                 *//* empty css                        *//* empty css                *//* empty css                  */import"./el-form-item-4ed993c7.js";/* empty css                *//* empty css                   *//* empty css                       */import{_ as ee}from"./member_head-d9fd7b2c.js";import{i as te}from"./task-ea40231e.js";const ae={class:"main-container"},oe={class:"flex items-center"},le={key:1,class:"w-[50px] h-[50px] mr-[10px] rounded-full",src:ee,alt:""},ne={class:"flex flex-col"},se={class:"text-[14px]"},re={class:"text-[14px] text-[#666]"},ie={class:"mt-[16px] flex justify-end"},De=$({__name:"reward_list",setup(me){const b=M(),x=N(),C=b.meta.title,E=()=>{x.push("/shop_fenxiao/task/list")},k=h();h(!1);const F=h(b.query.id)||0,P=r=>{r&&(t.searchParam.search="",r.resetFields(),u())},t=T({page:1,limit:10,total:0,loading:!1,data:[],searchParam:{search:""}}),u=(r=1)=>{t.loading=!0,t.page=r;const o=j(t.searchParam);te({page:t.page,limit:t.limit,task_id:F.value,...o}).then(c=>{t.data=c.data.data,t.total=c.data.total,t.loading=!1})};u();const R=r=>{x.push("/shop_fenxiao/task/reward_detail?id="+r.id)};return(r,o)=>{const c=q,f=H,z=J,v=K,g=Q,B=W,I=Y,m=G,L=O,V=X,D=Z;return _(),y("div",ae,[a(f,{class:"card !border-none",shadow:"never"},{default:l(()=>[a(c,{content:n(C),icon:n(A),onBack:o[0]||(o[0]=e=>E())},null,8,["content","icon"])]),_:1}),a(f,{class:"card mt-[15px] !border-none",shadow:"never"},{default:l(()=>[a(f,{class:"card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:l(()=>[a(B,{inline:!0,model:t.searchParam,ref_key:"searchFormRef",ref:k},{default:l(()=>[a(v,{label:n(s)("memberInfo")},{default:l(()=>[a(z,{modelValue:t.searchParam.search,"onUpdate:modelValue":o[1]||(o[1]=e=>t.searchParam.search=e),modelModifiers:{trim:!0},placeholder:n(s)("memberInfoPlaceholder"),maxlength:"60"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,null,{default:l(()=>[a(g,{type:"primary",onClick:o[2]||(o[2]=e=>u())},{default:l(()=>[p(i(n(s)("search")),1)]),_:1}),a(g,{onClick:o[3]||(o[3]=e=>P(k.value))},{default:l(()=>[p(i(n(s)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),S((_(),w(L,{data:t.data,size:"large",ref:"tableRef"},{empty:l(()=>[d("span",null,i(t.loading?"":n(s)("emptyData")),1)]),default:l(()=>[a(m,{prop:"name",label:n(s)("taskInfo"),"min-width":"150"},{default:l(({row:e})=>[d("div",oe,[e.member.headimg?(_(),w(I,{key:0,class:"w-[50px] h-[50px] mr-[10px]",src:n(U)(e.member.headimg),fit:"contain"},null,8,["src"])):(_(),y("img",le)),d("div",ne,[d("span",se,i(e.member.nickname||e.member.username),1),d("span",re,i(e.mobile||"--"),1)])])]),_:1},8,["label"]),a(m,{prop:"total_reward_money",label:n(s)("totalMoney"),"min-width":"100"},null,8,["label"]),a(m,{label:n(s)("schedule"),"min-width":"100"},{default:l(({row:e})=>[p(i(e.progress)+"% ",1)]),_:1},8,["label"]),a(m,{prop:"status_name",label:n(s)("status"),"min-width":"100"},{default:l(({row:e})=>[p(i(e.task.status_name),1)]),_:1},8,["label"]),a(m,{prop:"create_time",label:n(s)("accomplishStatus"),"min-width":"100"},{default:l(({row:e})=>[p(i(e.complete_num>=1?"已完成":"未完成"),1)]),_:1},8,["label"]),a(m,{label:n(s)("operation"),fixed:"right",align:"right","min-width":"120"},{default:l(({row:e})=>[a(g,{type:"primary",link:"",onClick:pe=>R(e)},{default:l(()=>[p(i(n(s)("detail")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[D,t.loading]]),d("div",ie,[a(V,{"current-page":t.page,"onUpdate:current-page":o[4]||(o[4]=e=>t.page=e),"page-size":t.limit,"onUpdate:page-size":o[5]||(o[5]=e=>t.limit=e),layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:o[6]||(o[6]=e=>r.getAgentListFn()),onCurrentChange:r.getAgentListFn},null,8,["current-page","page-size","total","onCurrentChange"])])]),_:1})])}}});export{De as default};
