import{d as U,r as u,q as k,m as B,s as a,h as x,v as V,w as n,a as c,e as r,i as b,t as _,u as l,R as M,K as P,L as R,M as I,E as j,X as q,Y as L}from"./index-0e396751.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import O from"./index-11d71036.js";import"./el-form-item-4ed993c7.js";/* empty css                 */import{e as T,b as $,a as K}from"./delivery-fe1f6e47.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-d82568af.js";import"./attachment-c52133c7.js";import"./index.vue_vue_type_script_setup_true_lang-34f8a01a.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css               *//* empty css                  *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-077a27b1.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-5014406f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";const S={class:"input-width text-[12px] text-[#999] mt-[5px] leading-[20px]"},X={class:"dialog-footer"},Ee=U({__name:"company-edit",emits:["complete"],setup(Y,{expose:w,emit:h}){const p=u(!1),i=u(!1),f={company_id:"",company_name:"",logo:"",url:"",express_no:""},o=k({...f}),y=u(),C=B(()=>({company_name:[{required:!0,message:a("companyNamePlaceholder"),trigger:"blur"}]})),N=async s=>{if(i.value||!s)return;const e=o.company_id?T:$;await s.validate(async m=>{m&&(i.value=!0,e(o).then(v=>{i.value=!1,p.value=!1,h("complete")}).catch(()=>{i.value=!1}))})};return w({showDialog:p,setFormData:async(s=null)=>{if(Object.assign(o,f),i.value=!0,s){const e=await(await K(s.company_id)).data;e&&Object.keys(o).forEach(m=>{e[m]!=null&&(o[m]=e[m])})}i.value=!1}}),(s,e)=>{const m=P,d=R,v=O,D=I,g=j,E=q,F=L;return x(),V(E,{modelValue:p.value,"onUpdate:modelValue":e[6]||(e[6]=t=>p.value=t),title:o.company_id?l(a)("updateCompany"):l(a)("addCompany"),width:"500px",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:n(()=>[c("span",X,[r(g,{onClick:e[4]||(e[4]=t=>p.value=!1)},{default:n(()=>[b(_(l(a)("cancel")),1)]),_:1}),r(g,{type:"primary",loading:i.value,onClick:e[5]||(e[5]=t=>N(y.value))},{default:n(()=>[b(_(l(a)("confirm")),1)]),_:1},8,["loading"])])]),default:n(()=>[M((x(),V(D,{model:o,"label-width":"120px",ref_key:"formRef",ref:y,rules:l(C),class:"page-form"},{default:n(()=>[r(d,{label:l(a)("companyName"),prop:"company_name"},{default:n(()=>[r(m,{modelValue:o.company_name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.company_name=t),modelModifiers:{trim:!0},clearable:"",placeholder:l(a)("companyNamePlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,{label:l(a)("logo")},{default:n(()=>[r(v,{modelValue:o.logo,"onUpdate:modelValue":e[1]||(e[1]=t=>o.logo=t)},null,8,["modelValue"])]),_:1},8,["label"]),r(d,{label:l(a)("url")},{default:n(()=>[r(m,{modelValue:o.url,"onUpdate:modelValue":e[2]||(e[2]=t=>o.url=t),modelModifiers:{trim:!0},clearable:"",placeholder:l(a)("urlPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,{label:l(a)("expressNo")},{default:n(()=>[c("div",null,[r(m,{modelValue:o.express_no,"onUpdate:modelValue":e[3]||(e[3]=t=>o.express_no=t),modelModifiers:{trim:!0},clearable:"",placeholder:l(a)("expressNoPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"]),c("p",S,_(l(a)("expressNoTips")),1)])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[F,i.value]])]),_:1},8,["modelValue","title"])}}});export{Ee as default};
