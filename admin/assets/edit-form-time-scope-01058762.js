import{d as E,aJ as D,h as b,c as B,R as x,a0 as v,u as o,a as f,b as y,t as u,s,e as l,w as d,v as g,i as c,C as V,Z as H,F,K as P,L as z,aS as I,at as N,au as R,bT as A,M as j,bx as O,bv as G}from"./index-0e396751.js";/* empty css                        *//* empty css                 *//* empty css                  *//* empty css                  *//* empty css                        */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                *//* empty css                       *//* empty css                     *//* empty css                       *//* empty css                 *//* empty css                  */import"./el-form-item-4ed993c7.js";import{u as J}from"./diy-0604e925.js";const K={class:"content-wrap"},L={class:"edit-attr-item-wrap"},Z={class:"mb-[10px]"},q={class:"edit-attr-item-wrap"},Q={class:"mb-[10px]"},X={class:"style-wrap"},Y={class:"edit-attr-item-wrap"},ee={class:"mb-[10px]"},te=E({__name:"edit-form-time-scope",setup(oe,{expose:$}){const t=J();t.editComponent.ignore=["componentBgUrl"],t.editComponent.verify=i=>{const e={code:!0,message:""};let a=t.value[i].field.default.start.date,n=t.value[i].field.default.end.date;const p=new Date,m=String(p.getHours()).padStart(2,"0"),_=String(p.getMinutes()).padStart(2,"0");return t.editComponent.start.timeWay=="current"&&(a=`${m}:${_}`),t.editComponent.end.timeWay=="current"&&(n=`${m}:${_}`),t.editComponent.start.defaultControl&&a==""?(e.code=!1,e.message="开始时间不能为空",e):t.editComponent.end.defaultControl&&n==""?(e.code=!1,e.message="结束时间不能为空",e):(t.editComponent.start.defaultControl&&t.editComponent.end.defaultControl&&C(a)>C(n)&&(e.code=!1,e.message="开始时间不能大于结束时间"),e)},D(()=>{const i=new Date,e=String(i.getHours()).padStart(2,"0"),a=String(i.getMinutes()).padStart(2,"0");if(t.editComponent.field.default.start.date||(t.editComponent.field.default.start.date=`${e}:${a}`,t.editComponent.field.default.start.timestamp=C(`${e}:${a}`)),!t.editComponent.field.default.end.date){let n=new Date;n.setHours(i.getHours(),i.getMinutes()+10,0,0);const p=String(n.getHours()).padStart(2,"0"),m=String(n.getMinutes()).padStart(2,"0");t.editComponent.field.default.end.date=`${p}:${m}`,t.editComponent.field.default.end.timestamp=C(`${p}:${m}`)}});const M=i=>{t.editComponent.field.default.start.timestamp=C(i);const e=i.split(":"),a=new Date;a.setHours(parseInt(e[0]),parseInt(e[1]),0,0),a.setMinutes(a.getMinutes()+10);const n=`${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`;t.editComponent.field.default.end.date=n,t.editComponent.field.default.end.timestamp=C(n)},k=()=>{let i=t.editComponent.field.default.start.date.split(":");return h(0,i[0])},T=i=>{let e=t.editComponent.field.default.start.date.split(":");return h(0,e[1])},h=(i,e)=>{const a=[];for(let n=i;n<e;n++)a.push(n);return a},C=i=>{let e=i.split(":"),a=0;return e[0]&&(a+=e[0]*60*60),e[1]&&(a+=e[1]*60),e[2]&&(a+=e[2]),a};return $({}),(i,e)=>{const a=P,n=z,p=I,m=N,_=R,w=A,S=j,W=O,U=G;return b(),B(F,null,[x(f("div",K,[y(i.$slots,"field"),f("div",L,[f("h3",Z,u(o(s)("开始时间")),1),l(S,{"label-width":"100px",class:"px-[10px]",onSubmit:e[4]||(e[4]=H(()=>{},["prevent"]))},{default:d(()=>[l(n,{label:o(s)("提示语")},{default:d(()=>[l(a,{modelValue:o(t).editComponent.start.placeholder,"onUpdate:modelValue":e[0]||(e[0]=r=>o(t).editComponent.start.placeholder=r),modelModifiers:{trim:!0},placeholder:o(s)("formPlaceholderTips"),clearable:"",maxlength:"15","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{label:o(s)("默认值")},{default:d(()=>[l(p,{modelValue:o(t).editComponent.start.defaultControl,"onUpdate:modelValue":e[1]||(e[1]=r=>o(t).editComponent.start.defaultControl=r)},null,8,["modelValue"])]),_:1},8,["label"]),o(t).editComponent.start.defaultControl?(b(),g(n,{key:0},{default:d(()=>[l(_,{modelValue:o(t).editComponent.start.timeWay,"onUpdate:modelValue":e[2]||(e[2]=r=>o(t).editComponent.start.timeWay=r)},{default:d(()=>[l(m,{label:"current"},{default:d(()=>[c(u(o(s)("当天时间")),1)]),_:1}),l(m,{label:"diy"},{default:d(()=>[c(u(o(s)("指定时间")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})):V("",!0),o(t).editComponent.start.defaultControl&&o(t).editComponent.start.timeWay=="diy"?(b(),g(n,{key:1},{default:d(()=>[l(w,{modelValue:o(t).editComponent.field.default.start.date,"onUpdate:modelValue":e[3]||(e[3]=r=>o(t).editComponent.field.default.start.date=r),placeholder:"请选择开始时间",format:"HH:mm","value-format":"HH:mm",onChange:M},null,8,["modelValue"])]),_:1})):V("",!0)]),_:1})]),f("div",q,[f("h3",Q,u(o(s)("结束时间")),1),l(S,{"label-width":"100px",class:"px-[10px]",onSubmit:e[9]||(e[9]=H(()=>{},["prevent"]))},{default:d(()=>[l(n,{label:o(s)("提示语")},{default:d(()=>[l(a,{modelValue:o(t).editComponent.end.placeholder,"onUpdate:modelValue":e[5]||(e[5]=r=>o(t).editComponent.end.placeholder=r),modelModifiers:{trim:!0},placeholder:o(s)("formPlaceholderTips"),clearable:"",maxlength:"15","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{label:o(s)("默认值")},{default:d(()=>[l(p,{modelValue:o(t).editComponent.end.defaultControl,"onUpdate:modelValue":e[6]||(e[6]=r=>o(t).editComponent.end.defaultControl=r)},null,8,["modelValue"])]),_:1},8,["label"]),o(t).editComponent.end.defaultControl?(b(),g(n,{key:0},{default:d(()=>[l(_,{modelValue:o(t).editComponent.end.timeWay,"onUpdate:modelValue":e[7]||(e[7]=r=>o(t).editComponent.end.timeWay=r)},{default:d(()=>[l(m,{label:"current"},{default:d(()=>[c(u(o(s)("当天时间")),1)]),_:1}),l(m,{label:"diy"},{default:d(()=>[c(u(o(s)("指定时间")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})):V("",!0),o(t).editComponent.end.defaultControl&&o(t).editComponent.end.timeWay=="diy"?(b(),g(n,{key:1},{default:d(()=>[l(w,{"disabled-hours":k,"disabled-minutes":T,modelValue:o(t).editComponent.field.default.end.date,"onUpdate:modelValue":e[8]||(e[8]=r=>o(t).editComponent.field.default.end.date=r),placeholder:"请选择结束时间",format:"HH:mm","value-format":"HH:mm"},null,8,["modelValue"])]),_:1})):V("",!0)]),_:1})]),y(i.$slots,"other")],512),[[v,o(t).editTab=="content"]]),x(f("div",X,[f("div",Y,[f("h3",ee,u(o(s)("文字样式")),1),l(S,{"label-width":"80px",class:"px-[10px]"},{default:d(()=>[l(n,{label:o(s)("textFontSize")},{default:d(()=>[l(W,{modelValue:o(t).editComponent.fontSize,"onUpdate:modelValue":e[10]||(e[10]=r=>o(t).editComponent.fontSize=r),"show-input":"",size:"small",class:"ml-[10px] diy-nav-slider",min:12,max:18},null,8,["modelValue"])]),_:1},8,["label"]),l(n,{label:o(s)("textFontWeight")},{default:d(()=>[l(_,{modelValue:o(t).editComponent.fontWeight,"onUpdate:modelValue":e[11]||(e[11]=r=>o(t).editComponent.fontWeight=r)},{default:d(()=>[l(m,{label:"normal"},{default:d(()=>[c(u(o(s)("fontWeightNormal")),1)]),_:1}),l(m,{label:"bold"},{default:d(()=>[c(u(o(s)("fontWeightBold")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(n,{label:o(s)("textColor")},{default:d(()=>[l(U,{modelValue:o(t).editComponent.textColor,"onUpdate:modelValue":e[12]||(e[12]=r=>o(t).editComponent.textColor=r)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),y(i.$slots,"style")],512),[[v,o(t).editTab=="style"]])],64)}}}),Ve=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"}));export{Ve as _};
