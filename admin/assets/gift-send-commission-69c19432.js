import{d as h,r as n,q as y,H as w,m as E,Q as u,h as N,v as j,w as d,e as i,a as l,av as k,K as B,L as C,M as O}from"./index-0e396751.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                    */const R={class:"flex items-center"},$=l("span",{class:"ml-[10px] el-form-item__label"},"送",-1),q={class:"w-[70px]"},F=l("span",{class:"ml-[15px] el-form-item__label"},"佣金",-1),K=h({__name:"gift-send-commission",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(c,{expose:p,emit:_}){const f=c,t=n({is_use:0,commission:""}),r=n(null),v={required:/[\S]+/,number:/^\d{0,10}$/,digit:/^\d{0,10}(.?\d{0,2})$/,special:/^\d{0,10}(.?\d{0,3})$/},V=y({commission:[{validator:(o,e,s)=>{t.value.is_use&&(w.empty(e)?s("请输入佣金金额"):isNaN(e)||!v.digit.test(e)?s("佣金金额格式错误"):e<=0&&s("佣金金额不能小于等于0")),s()},trigger:"blur"}]}),a=E({get(){return f.modelValue},set(o){_("update:modelValue",o)}});return u(()=>a.value,(o,e)=>{(!e||!Object.keys(e).length)&&Object.keys(o).length&&(t.value=a.value)},{immediate:!0}),u(()=>t.value,()=>{a.value=t.value},{deep:!0}),p({verify:async()=>{var e;let o=!0;return await((e=r.value)==null?void 0:e.validate(s=>{o=s})),o}}),(o,e)=>{const s=k,g=B,x=C,b=O;return N(),j(b,{ref_key:"formRef",ref:r,model:t.value,rules:V},{default:d(()=>[i(x,{label:"",prop:"commission"},{default:d(()=>[l("div",R,[i(s,{modelValue:t.value.is_use,"onUpdate:modelValue":e[0]||(e[0]=m=>t.value.is_use=m),"true-label":1,"false-label":0,label:"",size:"large"},null,8,["modelValue"]),$,l("div",q,[i(g,{modelValue:t.value.commission,"onUpdate:modelValue":e[1]||(e[1]=m=>t.value.commission=m),modelModifiers:{trim:!0},maxlength:5,clearable:""},null,8,["modelValue"])]),F])]),_:1})]),_:1},8,["model","rules"])}}});export{K as default};
