import{d as y,x as C,r as g,l as N,q as t,h as R,c as I,e as l,w as i,a as s,t as c,u as o,c1 as B,i as O,aT as T,L,K as P,a7 as S,M as U,E as q}from"./index-904cb7a2.js";/* empty css                  *//* empty css                *//* empty css                *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                  */import{i as F,s as M}from"./recharge-0c2ae32c.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";const D={class:"flex justify-between items-center mb-[10px]"},K={class:"text-page-title"},j={class:"flex items-center mx-[5px]"},z={class:"!text-sm"},A={class:"text-[12px] text-[#a9a9a9] leading-normal mt-[5px]"},G={class:"fixed-footer-wrap"},H={class:"fixed-footer h-[48px]"},J=y({__name:"config",setup(Q){const h=C().meta.title,r=g({is_use:1,recharge_explain:"",min_price:"",close_length:""}),u=g(),x={required:/[\S]+/,number:/^\d{0,10}$/,digit:/^\d{0,10}(.?\d{0,2})$/,special:/^\d{0,10}(.?\d{0,3})$/},v=N(()=>({min_price:[{required:!0,trigger:"blur",validator:(d,e,a)=>{e===null||e===""?a(t("minPricePlaceholder")):isNaN(e)||!x.digit.test(e)?a(t("limitTips")):e<.01?a(t("limitTipsTwo")):a()}}],close_length:[{validator:b,trigger:"blur"}]})),b=(d,e,a)=>e?e==""?a(new Error(t("CloseLengthPlaceholder"))):Number(e)>=10&&Number(e)<=1440?a():a(new Error(t("closeOrderInfoBottom"))):a(),_=()=>{F().then(d=>{r.value=d.data})};_();const w=async()=>{var d;await((d=u.value)==null?void 0:d.validate(async e=>{e&&M(r.value).then(()=>{_()}).catch(()=>{})}))};return(d,e)=>{const a=T,m=L,p=P,f=S,V=U,E=q;return R(),I("div",null,[l(f,{class:"box-card !border-none main-container",shadow:"never"},{default:i(()=>[s("div",D,[s("span",K,c(o(h)),1)]),l(V,{model:r.value,"label-width":"120px",ref_key:"formRef",ref:u,rules:o(v),class:"page-form"},{default:i(()=>[l(f,{class:"box-card !border-none",shadow:"never"},{default:i(()=>[l(m,{label:o(t)("enableRecharge"),prop:"is_use"},{default:i(()=>[s("div",j,[l(a,{modelValue:r.value.is_use,"onUpdate:modelValue":e[0]||(e[0]=n=>r.value.is_use=n),"active-value":1,"inactive-value":0},null,8,["modelValue"])])]),_:1},8,["label"]),l(m,{label:o(t)("rechargeExplain"),prop:"recharge_explain"},{default:i(()=>[l(p,{modelValue:r.value.recharge_explain,"onUpdate:modelValue":e[1]||(e[1]=n=>r.value.recharge_explain=n),placeholder:o(t)("rechargeExplainPlaceholder"),type:"textarea",maxlength:"500","show-word-limit":"",rows:"5",class:"!w-[400px]",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(m,{label:o(t)("min_price"),prop:"min_price"},{default:i(()=>[l(p,{modelValue:r.value.min_price,"onUpdate:modelValue":e[2]||(e[2]=n=>r.value.min_price=n),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width-short",maxlength:"8","show-word-limit":""},null,8,["modelValue"])]),_:1},8,["label"]),l(m,{label:o(t)("closeOrderInfo"),prop:"close_length"},{default:i(()=>[s("div",null,[s("p",z,[s("span",null,c(o(t)("closeOrderInfoLeft")),1),l(p,{modelValue:r.value.close_length,"onUpdate:modelValue":e[3]||(e[3]=n=>r.value.close_length=n),modelModifiers:{trim:!0},class:"!w-[120px] mx-[10px]",onKeyup:e[4]||(e[4]=n=>o(B)(n)),clearable:""},null,8,["modelValue"]),s("span",null,c(o(t)("closeOrderInfoRight")),1)]),s("p",A,c(o(t)("closeOrderInfoBottom")),1)])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),s("div",G,[s("div",H,[l(E,{type:"primary",onClick:w},{default:i(()=>[O(c(o(t)("save")),1)]),_:1})])])])}}});const ae=$(J,[["__scopeId","data-v-1c91b66d"]]);export{ae as default};
