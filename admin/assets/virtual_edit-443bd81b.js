import{d as ie,x as ne,f as ue,r as D,l as pe,c_ as me,a2 as _e,h as n,c as p,e as d,w as r,u as e,q as o,aQ as ce,s as h,F as g,T as k,v as $,a as s,t as i,B as V,i as m,c1 as w,R as N,a0 as A,cZ as fe,aR as be,a7 as ve,L as ge,K as ye,bF as he,ac as Ve,aD as ke,aw as xe,c4 as De,au as we,av as Ce,bR as Ue,M as Se,ay as Pe,a1 as Te,E as Ee,aT as Ge,aa as Re,az as Me,p as Fe,g as Ie}from"./index-904cb7a2.js";/* empty css                    */import{_ as Oe}from"./index.vue_vue_type_script_setup_true_lang-c45af5f5.js";import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                  *//* empty css                  *//* empty css                *//* empty css                       *//* empty css                 *//* empty css                     *//* empty css                       *//* empty css                 *//* empty css                          *//* empty css                    *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                          */import Be from"./index-e888fa8d.js";import"./el-form-item-4ed993c7.js";/* empty css                *//* empty css                   *//* empty css                       */import{ai as Ne,aj as Ae,ak as He}from"./goods-6bf0c95b.js";import{u as $e}from"./useGoodsEdit-82bf3200.js";import{_ as Le}from"./_plugin-vue_export-helper-c27b6911.js";import"./index.vue_vue_type_style_index_0_lang-68b58aeb.js";/* empty css                  *//* empty css                   */import"./attachment-731ba4e8.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-e98f54f2.js";/* empty css                        *//* empty css                      *//* empty css                 *//* empty css               *//* empty css               *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-a9b96fa2.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-ee99396e.js";import"./sortable.esm-be94e56d.js";import"./poster-a4af665b.js";import"./range-e18b2c5a.js";const C=R=>(Fe("data-v-c07640eb"),R=R(),Ie(),R),Ke={class:"main-container"},ze={class:"goods-type-name"},Ye={class:"goods-type-desc"},je=C(()=>s("div",{class:"triangle"},null,-1)),qe=C(()=>s("div",{class:"selected"},"✓",-1)),Qe=["onClick"],We={class:"goods-type-name"},Ze={class:"goods-type-desc"},Je=C(()=>s("div",{class:"triangle"},null,-1)),Xe=C(()=>s("div",{class:"selected"},"✓",-1)),el={class:"ml-[10px]"},ll={class:"ml-[10px]"},al={class:"ml-[10px]"},tl={class:"ml-[120px] mb-[10px] text-[12px] text-[#999] leading-[20px]"},ol={class:"ml-[10px]"},sl={class:"ml-[10px]"},dl={class:"ml-[10px]"},rl={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},il={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},nl={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},ul={key:0,class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},pl={class:"el-form-item asterisk-left"},ml={class:"el-form-item__label w-[120px]"},_l={class:"spec-wrap"},cl={class:"spec-edit-list"},fl={class:"spec-name-wrap"},bl={class:"spec-value-wrap"},vl=["onClick"],gl=C(()=>s("div",{class:"box"},null,-1)),yl={class:"add-spec"},hl={class:"batch-operation-sku"},Vl={class:"sku-table"},kl={class:"el-table--fit el-table--default el-table",style:{width:"100%"}},xl={class:"el-table__inner-wrapper"},Dl={class:"el-table__header-wrapper"},wl={class:"el-table__header",border:"0",cellpadding:"0",cellspacing:"0",style:{width:"100%"}},Cl={class:"el-table__cell w-[50px]"},Ul={class:"cell"},Sl={key:0,class:"el-table__cell"},Pl={class:"cell"},Tl={class:"el-table__cell"},El={class:"cell"},Gl={class:"el-table__cell"},Rl={class:"cell"},Ml={class:"el-table__cell"},Fl={class:"cell"},Il={class:"el-table__cell"},Ol={class:"cell"},Bl={class:"el-table__cell"},Nl={class:"cell"},Al={class:"el-table__cell"},Hl={class:"cell"},$l={class:"el-table__cell"},Ll={class:"cell"},Kl={class:"el-table__body-wrapper text-[14px]"},zl={class:"el-scrollbar"},Yl={class:"el-scrollbar__wrap el-scrollbar__wrap--hidden-default"},jl={class:"el-scrollbar__view",style:{display:"inline-block","vertical-align":"middle"}},ql={class:"el-table__body",cellspacing:"0",cellpadding:"0",border:"0",style:{"table-layout":"fixed",width:"100%"}},Ql={tabindex:"-1"},Wl={class:"el-table__cell w-[50px]"},Zl={class:"cell"},Jl=["rowspan"],Xl={class:"cell"},ea={class:"el-table__cell"},la={class:"cell"},aa={class:"el-table__cell"},ta={class:"cell"},oa={class:"el-table__cell"},sa={class:"cell"},da={class:"el-table__cell"},ra={class:"cell"},ia={class:"el-table__cell"},na={class:"cell"},ua={class:"el-table__cell"},pa={class:"cell"},ma={class:"el-table__cell"},_a={class:"cell"},ca={key:0,class:"text-[12px] text-[#999] leading-[20px]"},fa={key:1,class:"text-[12px] text-[#999] leading-[20px]"},ba={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},va={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},ga={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},ya={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},ha={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},Va={class:"attr-table mt-[10px]"},ka=C(()=>s("colgroup",null,[s("col",{width:"30%"}),s("col",{width:"40%"}),s("col",{width:"20%"}),s("col",{width:"10%"})],-1)),xa={class:"bg-[#f7f7f7]"},Da={class:"prompt-block"},wa={class:"flex items-center"},Ca=C(()=>s("span",{class:"iconfont iconwenhao cursor-pointer ml-[3px] mt-[3px] !text-[14px]"},null,-1)),Ua={class:"attr-new"},Sa={key:0},Pa={key:1},Ta={key:1},Ea={key:2},Ga=["onClick"],Ra={key:1},Ma={colspan:"4",class:"text-center"},Fa={class:"fixed-footer-wrap"},Ia={class:"fixed-footer"},Oa=ie({__name:"virtual_edit",setup(R){const le=ne();ue(),le.meta.title;const L=D(),K=D(),z=D(),Y=D(),j=D(),q=D(),Q=D(),l=$e({getFormRef(){return{basicFormRef:L.value,priceStockFormRef:K.value,goodsArgumentsFormRef:z.value,detailFormRef:Y.value,skuFormRef:j.value,specValueRef:Q.value,priceStockCommonFormRef:q.value}},addApi:Ae,editApi:He,formData:{goods_type:"virtual"},appendFormData:{virtual_auto_delivery:"0",virtual_receive_type:"auto",virtual_verify_type:"0",virtual_indate:"0",virtual_indate_day:"0"},getFormRules(v,t){return{virtual_indate_day:[{required:!0,message:o("virtualIndatePlaceholder"),trigger:"blur"},{trigger:"blur",validator:(H,U,u)=>{v.virtual_receive_type=="verify"&&v.virtual_verify_type==1&&U<1&&u(new Error(o("virtualIndateErrorHint"))),u()}}],virtual_indate:[{required:!0,message:o("virtualIndatePlaceholder"),trigger:"blur"},{trigger:"blur",validator:(H,U,u)=>{if(v.virtual_receive_type=="verify"&&v.virtual_verify_type==2){const M=new Date(U).getTime(),S=new Date().getTime();M<=S&&u(new Error(o("virtualIndateErrorOneHint")))}u()}}]}}}),W=D(0),T=pe(()=>l.formData.virtual_receive_type=="verify"&&W.value>0);Ne({goods_id:l.formData.goods_id}).then(v=>{const t=v.data;t&&(l.handleGoodsInit(t),l.formData.goods_id&&t.goods_info&&(W.value=t.goods_info.order_goods_count,l.formData.virtual_auto_delivery=String(t.goods_info.virtual_auto_delivery),l.formData.virtual_receive_type=t.goods_info.virtual_receive_type,l.formData.virtual_verify_type=String(t.goods_info.virtual_verify_type),t.goods_info.virtual_receive_type=="verify"&&t.goods_info.virtual_verify_type==2?l.formData.virtual_indate=me(t.goods_info.virtual_indate):t.goods_info.virtual_receive_type=="verify"&&t.goods_info.virtual_verify_type==1&&(l.formData.virtual_indate_day=t.goods_info.virtual_indate)))});const ae=()=>{l.save(v=>{if(v.virtual_receive_type=="verify"&&v.virtual_verify_type==2){const t=new Date(v.virtual_indate);v.virtual_indate=Math.floor(t.getTime()/1e3)}v.virtual_receive_type=="verify"&&v.virtual_verify_type==1&&(v.virtual_indate=v.virtual_indate_day),v.virtual_receive_type=="verify"&&v.virtual_verify_type==0&&(v.virtual_indate=0)})},te=v=>v.valueOf()<Date.now();return(v,t)=>{const H=be,U=ve,u=ge,c=ye,M=Be,Z=he,S=Ve,F=ke,E=xe,I=De,y=we,x=Ce,oe=Ue,P=Se,O=Pe,J=_e("CircleCloseFilled"),X=Te,G=Ee,ee=Ge,se=Re,de=Oe,re=Me;return n(),p("div",Ke,[d(U,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[d(H,{content:e(l).formData.goods_id?e(o)("updateGoods"):e(o)("addGoods"),icon:e(ce),onBack:t[0]||(t[0]=a=>e(l).back())},null,8,["content","icon"])]),_:1}),d(U,{class:"box-card mt-[15px] !border-none",shadow:"never"},{default:r(()=>[d(re,{modelValue:e(l).activeName,"onUpdate:modelValue":t[62]||(t[62]=a=>e(l).activeName=a),onTabClick:e(l).tabHandleClick},{default:r(()=>[d(O,{label:e(o)("basicInfoTab"),name:"basic"},{default:r(()=>[d(P,{model:e(l).formData,"label-width":"120px",ref_key:"basicFormRef",ref:L,rules:e(l).formRules,class:"page-form"},{default:r(()=>[e(l).formData.goods_id?(n(),h(u,{key:0,label:e(o)("goodsType")},{default:r(()=>[(n(!0),p(g,null,k(e(l).goodsType,a=>(n(),p("div",{key:a.type,class:$(["goods-type-wrap",[e(l).formData.goods_type==a.type?"selected":"disabled"]])},[s("div",ze,i(a.name),1),s("div",Ye,"("+i(a.desc)+")",1),e(l).formData.goods_type==a.type?(n(),p(g,{key:0},[je,qe],64)):V("",!0)],2))),128))]),_:1},8,["label"])):(n(),h(u,{key:1,label:e(o)("goodsType")},{default:r(()=>[(n(!0),p(g,null,k(e(l).goodsType,a=>(n(),p("div",{class:$(["goods-type-wrap",{selected:e(l).formData.goods_type==a.type}]),key:a.type,onClick:f=>e(l).changeGoodsType(a)},[s("div",We,i(a.name),1),s("div",Ze,"("+i(a.desc)+")",1),e(l).formData.goods_type==a.type?(n(),p(g,{key:0},[Je,Xe],64)):V("",!0)],10,Qe))),128))]),_:1},8,["label"])),d(u,{label:e(o)("goodsName"),prop:"goods_name"},{default:r(()=>[d(c,{modelValue:e(l).formData.goods_name,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).formData.goods_name=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("goodsNamePlaceholder"),class:"input-width",maxlength:"60","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(u,{label:e(o)("subTitle"),prop:"sub_title"},{default:r(()=>[d(c,{modelValue:e(l).formData.sub_title,"onUpdate:modelValue":t[2]||(t[2]=a=>e(l).formData.sub_title=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("subTitlePlaceholder"),class:"input-width",maxlength:"80","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(u,{label:e(o)("goodsImage"),prop:"goods_image"},{default:r(()=>[d(M,{modelValue:e(l).formData.goods_image,"onUpdate:modelValue":t[3]||(t[3]=a=>e(l).formData.goods_image=a),limit:10},null,8,["modelValue"])]),_:1},8,["label"]),d(u,{label:e(o)("goodsCategory"),prop:"goods_category"},{default:r(()=>[d(Z,{modelValue:e(l).formData.goods_category,"onUpdate:modelValue":t[4]||(t[4]=a=>e(l).formData.goods_category=a),options:e(l).goodsCategoryOptions,props:e(l).goodsCategoryProps,clearable:"",filterable:"",onChange:e(l).categoryHandleChange},null,8,["modelValue","options","props","onChange"]),s("div",el,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:t[5]||(t[5]=a=>e(l).refreshGoodsCategory(!0))},i(e(o)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:t[6]||(t[6]=(...a)=>e(l).toGoodsCategoryEvent&&e(l).toGoodsCategoryEvent(...a))},i(e(o)("addGoodsCategory")),1)])]),_:1},8,["label"]),d(u,{label:e(o)("brand")},{default:r(()=>[d(F,{modelValue:e(l).formData.brand_id,"onUpdate:modelValue":t[7]||(t[7]=a=>e(l).formData.brand_id=a),placeholder:e(o)("brandPlaceholder"),clearable:""},{default:r(()=>[(n(!0),p(g,null,k(e(l).brandOptions,a=>(n(),h(S,{key:a.brand_id,label:a.brand_name,value:a.brand_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",ll,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:t[8]||(t[8]=a=>e(l).refreshGoodsBrand(!0))},i(e(o)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:t[9]||(t[9]=(...a)=>e(l).toGoodsBrandEvent&&e(l).toGoodsBrandEvent(...a))},i(e(o)("addGoodsBrand")),1)])]),_:1},8,["label"]),d(u,{label:e(o)("poster")},{default:r(()=>[d(F,{modelValue:e(l).formData.poster_id,"onUpdate:modelValue":t[10]||(t[10]=a=>e(l).formData.poster_id=a),placeholder:e(o)("posterPlaceholder"),clearable:""},{default:r(()=>[(n(!0),p(g,null,k(e(l).posterOptions,a=>(n(),h(S,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",al,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:t[11]||(t[11]=a=>e(l).refreshGoodsPoster(!0))},i(e(o)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:t[12]||(t[12]=(...a)=>e(l).toPosterEvent&&e(l).toPosterEvent(...a))},i(e(o)("addGoodsPoster")),1)])]),_:1},8,["label"]),s("div",tl,i(e(o)("posterTips")),1),d(u,{label:e(o)("label")},{default:r(()=>[d(I,{modelValue:e(l).formData.label_ids,"onUpdate:modelValue":t[13]||(t[13]=a=>e(l).formData.label_ids=a)},{default:r(()=>[(n(!0),p(g,null,k(e(l).labelOptions,(a,f)=>(n(),h(E,{label:a.label_id,key:f},{default:r(()=>[m(i(a.label_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),s("div",ol,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:t[14]||(t[14]=(...a)=>e(l).refreshGoodsLabel&&e(l).refreshGoodsLabel(...a))},i(e(o)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:t[15]||(t[15]=(...a)=>e(l).toGoodsLabelEvent&&e(l).toGoodsLabelEvent(...a))},i(e(o)("addGoodsLabel")),1)])]),_:1},8,["label"]),d(u,{label:e(o)("goodsService")},{default:r(()=>[d(I,{modelValue:e(l).formData.service_ids,"onUpdate:modelValue":t[16]||(t[16]=a=>e(l).formData.service_ids=a)},{default:r(()=>[(n(!0),p(g,null,k(e(l).serviceOptions,(a,f)=>(n(),h(E,{label:a.service_id,key:f},{default:r(()=>[m(i(a.service_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),s("div",sl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:t[17]||(t[17]=(...a)=>e(l).refreshGoodsService&&e(l).refreshGoodsService(...a))},i(e(o)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:t[18]||(t[18]=(...a)=>e(l).toGoodsServiceEvent&&e(l).toGoodsServiceEvent(...a))},i(e(o)("addGoodsService")),1)])]),_:1},8,["label"]),e(l).formData.addon_shop_supplier&&e(l).formData.addon_shop_supplier.status==1?(n(),h(u,{key:2,label:e(o)("supplier")},{default:r(()=>[d(F,{modelValue:e(l).formData.supplier_id,"onUpdate:modelValue":t[19]||(t[19]=a=>e(l).formData.supplier_id=a),placeholder:e(o)("supplierPlaceholder"),clearable:""},{default:r(()=>[(n(!0),p(g,null,k(e(l).supplierOptions,a=>(n(),h(S,{key:a.supplier_id,label:a.supplier_name,value:a.supplier_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",dl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:t[20]||(t[20]=(...a)=>e(l).refreshSupplier&&e(l).refreshSupplier(...a))},i(e(o)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:t[21]||(t[21]=(...a)=>e(l).toSupplierEvent&&e(l).toSupplierEvent(...a))},i(e(o)("addSupplier")),1)])]),_:1},8,["label"])):V("",!0),d(u,{label:e(o)("status")},{default:r(()=>[d(x,{modelValue:e(l).formData.status,"onUpdate:modelValue":t[22]||(t[22]=a=>e(l).formData.status=a)},{default:r(()=>[d(y,{label:"1"},{default:r(()=>[m(i(e(o)("statusOn")),1)]),_:1}),d(y,{label:"0"},{default:r(()=>[m(i(e(o)("statusOff")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(u,{label:e(o)("isGive")},{default:r(()=>[s("div",null,[d(x,{modelValue:e(l).formData.is_gift,"onUpdate:modelValue":t[23]||(t[23]=a=>e(l).formData.is_gift=a)},{default:r(()=>[d(y,{label:1},{default:r(()=>[m(i(e(o)("yes")),1)]),_:1}),d(y,{label:0},{default:r(()=>[m(i(e(o)("no")),1)]),_:1})]),_:1},8,["modelValue"]),s("div",rl,i(e(o)("giftTips")),1)])]),_:1},8,["label"]),d(u,{label:e(o)("unit"),prop:"unit"},{default:r(()=>[d(c,{modelValue:e(l).formData.unit,"onUpdate:modelValue":t[24]||(t[24]=a=>e(l).formData.unit=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("unitPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"6"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(u,{label:e(o)("virtualSaleNum"),prop:"virtual_sale_num"},{default:r(()=>[s("div",null,[d(c,{modelValue:e(l).formData.virtual_sale_num,"onUpdate:modelValue":t[25]||(t[25]=a=>e(l).formData.virtual_sale_num=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("virtualSaleNumPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"8",onKeyup:t[26]||(t[26]=a=>e(w)(a)),onBlur:t[27]||(t[27]=a=>e(l).formData.virtual_sale_num=a.target.value)},{append:r(()=>[m(i(e(l).formData.unit?e(l).formData.unit:"件"),1)]),_:1},8,["modelValue","placeholder"]),s("div",il,i(e(o)("virtualSaleNumDesc")),1)])]),_:1},8,["label"]),d(u,{label:e(o)("setDeliverGoods")},{default:r(()=>[d(x,{modelValue:e(l).formData.virtual_auto_delivery,"onUpdate:modelValue":t[28]||(t[28]=a=>e(l).formData.virtual_auto_delivery=a)},{default:r(()=>[d(y,{label:"1",disabled:e(T)},{default:r(()=>[m(i(e(o)("autoDeliverGoods")),1)]),_:1},8,["disabled"]),d(y,{label:"0",disabled:e(T)},{default:r(()=>[m(i(e(o)("handDeliverGoods")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(u,{label:e(o)("setTakeGoods")},{default:r(()=>[s("div",null,[d(x,{modelValue:e(l).formData.virtual_receive_type,"onUpdate:modelValue":t[29]||(t[29]=a=>e(l).formData.virtual_receive_type=a)},{default:r(()=>[d(y,{label:"auto",disabled:e(T)},{default:r(()=>[m(i(e(o)("autoTakeGoods")),1)]),_:1},8,["disabled"]),d(y,{label:"artificial",disabled:e(T)},{default:r(()=>[m(i(e(o)("handTakeGoods")),1)]),_:1},8,["disabled"]),d(y,{label:"verify",disabled:e(T)},{default:r(()=>[m(i(e(o)("verifyTakeGoods")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),N(s("div",{class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},i(e(o)("virtualSetTips")),513),[[A,e(l).formData.virtual_receive_type=="verify"]])])]),_:1},8,["label"]),e(l).formData.virtual_receive_type=="verify"?(n(),h(u,{key:3,label:e(o)("verifyVirtualIndate")},{default:r(()=>[d(x,{modelValue:e(l).formData.virtual_verify_type,"onUpdate:modelValue":t[30]||(t[30]=a=>e(l).formData.virtual_verify_type=a)},{default:r(()=>[d(y,{label:"0"},{default:r(()=>[m(i(e(o)("verifyVirtualIndateOne")),1)]),_:1}),d(y,{label:"1"},{default:r(()=>[m(i(e(o)("verifyVirtualIndateTwo")),1)]),_:1}),d(y,{label:"2"},{default:r(()=>[m(i(e(o)("verifyVirtualIndateThree")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):V("",!0),e(l).formData.virtual_receive_type=="verify"&&e(l).formData.virtual_verify_type==1?(n(),h(u,{key:4,label:e(o)("virtualIndate"),prop:"virtual_indate_day"},{default:r(()=>[d(c,{modelValue:e(l).formData.virtual_indate_day,"onUpdate:modelValue":t[31]||(t[31]=a=>e(l).formData.virtual_indate_day=a),modelModifiers:{trim:!0},clearable:"",class:"input-width","show-word-limit":"",maxlength:"5",onKeyup:t[32]||(t[32]=a=>e(w)(a))},{append:r(()=>[m(i(e(o)("sky")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):V("",!0),e(l).formData.virtual_receive_type=="verify"&&e(l).formData.virtual_verify_type==2?(n(),h(u,{key:5,label:e(o)("virtualIndate"),prop:"virtual_indate"},{default:r(()=>[s("div",null,[d(oe,{class:"input-width","value-format":"YYYY-MM-DD HH:mm:ss",modelValue:e(l).formData.virtual_indate,"onUpdate:modelValue":t[33]||(t[33]=a=>e(l).formData.virtual_indate=a),type:"datetime","disabled-date":te},null,8,["modelValue"]),s("div",nl,i(e(o)("verifyHint")),1)])]),_:1},8,["label"])):V("",!0),d(u,{label:e(o)("sort"),prop:"sort"},{default:r(()=>[d(c,{modelValue:e(l).formData.sort,"onUpdate:modelValue":t[34]||(t[34]=a=>e(l).formData.sort=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("sortPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"8",onKeyup:t[35]||(t[35]=a=>e(w)(a))},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"]),d(O,{label:e(o)("priceStockTab"),name:"price_stock"},{default:r(()=>[d(P,{model:e(l).formData,"label-width":"120px",ref_key:"priceStockFormRef",ref:K,rules:e(l).formRules,class:"page-form"},{default:r(()=>[d(u,{label:e(o)("specType"),prop:"spec_type"},{default:r(()=>[s("div",null,[d(x,{modelValue:e(l).formData.spec_type,"onUpdate:modelValue":t[36]||(t[36]=a=>e(l).formData.spec_type=a)},{default:r(()=>[d(y,{label:"single",disabled:e(l).isDisabledPrice()},{default:r(()=>[m(i(e(o)("singleSpec")),1)]),_:1},8,["disabled"]),d(y,{label:"multi",disabled:e(l).isDisabledPrice()},{default:r(()=>[m(i(e(o)("multiSpec")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),e(l).isDisabledPrice()?(n(),p("div",ul,i(e(o)("participateInActiveDisableTips")),1)):V("",!0)])]),_:1},8,["label"]),e(l).formData.spec_type=="single"?(n(),p(g,{key:0},[d(u,{label:e(o)("price"),prop:"price"},{default:r(()=>[d(c,{modelValue:e(l).formData.price,"onUpdate:modelValue":t[37]||(t[37]=a=>e(l).formData.price=a),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8",disabled:e(l).isDisabledPrice()},{append:r(()=>[m(i(e(o)("yuan")),1)]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"]),d(u,{label:e(o)("marketPrice"),prop:"market_price"},{default:r(()=>[d(c,{modelValue:e(l).formData.market_price,"onUpdate:modelValue":t[38]||(t[38]=a=>e(l).formData.market_price=a),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8"},{append:r(()=>[m(i(e(o)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(u,{label:e(o)("costPrice"),prop:"cost_price"},{default:r(()=>[d(c,{modelValue:e(l).formData.cost_price,"onUpdate:modelValue":t[39]||(t[39]=a=>e(l).formData.cost_price=a),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8"},{append:r(()=>[m(i(e(o)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(u,{label:e(o)("goodsStock"),prop:"stock"},{default:r(()=>[d(c,{modelValue:e(l).formData.stock,"onUpdate:modelValue":t[40]||(t[40]=a=>e(l).formData.stock=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("goodsStockPlaceholder"),class:"input-width",maxlength:"8",onKeyup:t[41]||(t[41]=a=>e(w)(a)),disabled:e(l).isDisabledPrice()},{append:r(()=>[m(i(e(l).formData.unit?e(l).formData.unit:e(o)("defaultUnit")),1)]),_:1},8,["modelValue","placeholder","disabled"])]),_:1},8,["label"]),d(u,{label:e(o)("skuNo")},{default:r(()=>[d(c,{modelValue:e(l).formData.sku_no,"onUpdate:modelValue":t[42]||(t[42]=a=>e(l).formData.sku_no=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("skuNoPlaceholder"),class:"input-width",maxlength:"50",onKeyup:t[43]||(t[43]=a=>e(l).filterSpecial(a))},null,8,["modelValue","placeholder"])]),_:1},8,["label"])],64)):V("",!0)]),_:1},8,["model","rules"]),d(P,{model:e(l).goodsSkuData,"label-width":"120px",ref_key:"skuFormRef",ref:j,class:"page-form"},{default:r(()=>[N(s("div",pl,[s("div",ml,i(e(o)("goodsSku")),1),s("div",_l,[s("div",cl,[(n(!0),p(g,null,k(e(l).goodsSpecFormat,(a,f)=>(n(),p("div",{class:"spec-item",key:a.id},[s("div",fl,[d(c,{modelValue:a.spec_name,"onUpdate:modelValue":_=>a.spec_name=_,modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("specNamePlaceholder"),class:"input-width",maxlength:"20"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),s("div",bl,[s("ul",{ref_for:!0,ref_key:"specValueRef",ref:Q},[(n(!0),p(g,null,k(a.values,(_,b)=>(n(),p("li",{class:$("draggable-element"+f),key:_.id},[d(c,{modelValue:_.spec_value_name,"onUpdate:modelValue":B=>_.spec_value_name=B,modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("specValueNamePlaceholder"),class:"input-width","suffix-icon":e(fe),maxlength:"20",onInput:e(l).specValueNameInputListener},null,8,["modelValue","onUpdate:modelValue","placeholder","suffix-icon","onInput"]),d(X,{class:"icon",size:20,color:"#7b7b7b",onClick:B=>e(l).deleteSpecValue(f,b)},{default:r(()=>[d(J)]),_:2},1032,["onClick"])],2))),128))],512),s("span",{class:"text-primary text-[14px] add-spec-value",onClick:_=>e(l).addSpecValue(f)},i(e(o)("addSpecValue")),9,vl),gl]),d(X,{class:"del-spec",size:20,color:"#7b7b7b",onClick:_=>e(l).deleteSpec(f)},{default:r(()=>[d(J)]),_:2},1032,["onClick"])]))),128))]),s("div",yl,[d(G,{type:"primary",onClick:e(l).addSpec},{default:r(()=>[m(i(e(o)("addSpec")),1)]),_:1},8,["onClick"])]),N(s("div",hl,[s("label",null,i(e(o)("batchOperationSku")),1),e(l).isDisabledPrice()?V("",!0):(n(),h(c,{key:0,modelValue:e(l).batchOperation.price,"onUpdate:modelValue":t[44]||(t[44]=a=>e(l).batchOperation.price=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("price"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"])),d(c,{modelValue:e(l).batchOperation.market_price,"onUpdate:modelValue":t[45]||(t[45]=a=>e(l).batchOperation.market_price=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("marketPrice"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"]),d(c,{modelValue:e(l).batchOperation.cost_price,"onUpdate:modelValue":t[46]||(t[46]=a=>e(l).batchOperation.cost_price=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("costPrice"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"]),e(l).isDisabledPrice()?V("",!0):(n(),h(c,{key:1,modelValue:e(l).batchOperation.stock,"onUpdate:modelValue":t[47]||(t[47]=a=>e(l).batchOperation.stock=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("stock"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"])),d(c,{modelValue:e(l).batchOperation.sku_no,"onUpdate:modelValue":t[48]||(t[48]=a=>e(l).batchOperation.sku_no=a),modelModifiers:{trim:!0},clearable:"",maxlength:"50",placeholder:e(o)("skuNo"),class:"set-input"},null,8,["modelValue","placeholder"]),d(G,{type:"primary",onClick:e(l).saveBatch},{default:r(()=>[m(i(e(o)("confirm")),1)]),_:1},8,["onClick"])],512),[[A,Object.keys(e(l).goodsSkuData).length]]),N(s("div",Vl,[s("div",kl,[s("div",xl,[s("div",Dl,[s("table",wl,[s("thead",null,[s("tr",null,[s("th",Cl,[s("div",Ul,[d(E,{modelValue:e(l).formData.skuCheckAll,"onUpdate:modelValue":t[49]||(t[49]=a=>e(l).formData.skuCheckAll=a),indeterminate:e(l).formData.skuIsIndeterminate,onChange:e(l).skuHandleCheckAllChange},null,8,["modelValue","indeterminate","onChange"])])]),(n(!0),p(g,null,k(e(l).goodsSpecFormat,(a,f)=>(n(),p(g,{key:f},[a.spec_name?(n(),p("th",Sl,[s("div",Pl,i(a.spec_name),1)])):V("",!0)],64))),128)),s("th",Tl,[s("div",El,i(e(o)("image")),1)]),s("th",Gl,[s("div",Rl,i(e(o)("price")),1)]),s("th",Ml,[s("div",Fl,i(e(o)("marketPrice")),1)]),s("th",Il,[s("div",Ol,i(e(o)("costPrice")),1)]),s("th",Bl,[s("div",Nl,i(e(o)("stock")),1)]),s("th",Al,[s("div",Hl,i(e(o)("skuNo")),1)]),s("th",$l,[s("div",Ll,i(e(o)("defaultSku")),1)])])])])]),d(I,{modelValue:e(l).formData.skuCheckedCities,"onUpdate:modelValue":t[50]||(t[50]=a=>e(l).formData.skuCheckedCities=a),onChange:e(l).handleCheckedCitiesChange},{default:r(()=>[s("div",Kl,[s("div",zl,[s("div",Yl,[s("div",jl,[s("table",ql,[s("tbody",Ql,[(n(!0),p(g,null,k(e(l).goodsSkuData,(a,f,_)=>(n(),p("tr",{class:"el-table__row",key:f},[s("td",Wl,[s("div",Zl,[(n(),h(E,{label:f,key:f},{default:r(()=>[m(i(""))]),_:2},1032,["label"]))])]),(n(!0),p(g,null,k(e(l).specData,(b,B)=>(n(),p(g,{key:B},[b.index==_?(n(),p("td",{key:0,class:"el-table__cell",rowspan:b.rowSpan},[s("div",Xl,i(b.spec_value_name),1)],8,Jl)):V("",!0)],64))),128)),s("td",ea,[s("div",la,[d(M,{modelValue:a.sku_image,"onUpdate:modelValue":b=>a.sku_image=b,limit:1,width:"50px",height:"50px"},null,8,["modelValue","onUpdate:modelValue"])])]),s("td",aa,[s("div",ta,[d(u,{prop:f+".price",rules:e(l).skuPriceRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(c,{modelValue:a.price,"onUpdate:modelValue":b=>a.price=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"8",disabled:e(l).isDisabledPrice()},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1032,["prop","rules"])])]),s("td",oa,[s("div",sa,[d(u,{prop:f+".market_price",rules:e(l).skuMarketPriceRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(c,{modelValue:a.market_price,"onUpdate:modelValue":b=>a.market_price=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"8"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",da,[s("div",ra,[d(u,{prop:f+".cost_price",rules:e(l).skuCostPriceRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(c,{modelValue:a.cost_price,"onUpdate:modelValue":b=>a.cost_price=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"8"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",ia,[s("div",na,[d(u,{prop:f+".stock",rules:e(l).skuStockRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(c,{modelValue:a.stock,"onUpdate:modelValue":b=>a.stock=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0",onInput:e(l).specStockSum,maxlength:"8",disabled:e(l).isDisabledPrice()},null,8,["modelValue","onUpdate:modelValue","onInput","disabled"])]),_:2},1032,["prop","rules"])])]),s("td",ua,[s("div",pa,[d(c,{modelValue:a.sku_no,"onUpdate:modelValue":b=>a.sku_no=b,modelModifiers:{trim:!0},clearable:"",maxlength:"50"},null,8,["modelValue","onUpdate:modelValue"])])]),s("td",ma,[s("div",_a,[d(ee,{modelValue:a.is_default,"onUpdate:modelValue":b=>a.is_default=b,"active-value":1,"inactive-value":0,onChange:b=>e(l).specValueIsDefaultChangeListener(b,f)},null,8,["modelValue","onUpdate:modelValue","onChange"])])])]))),128))])])])])])])]),_:1},8,["modelValue","onChange"])])])],512),[[A,Object.keys(e(l).goodsSkuData).length]])])],512),[[A,e(l).formData.spec_type=="multi"]]),d(u,{label:e(o)("memberDiscount")},{default:r(()=>[s("div",null,[d(x,{modelValue:e(l).formData.member_discount,"onUpdate:modelValue":t[51]||(t[51]=a=>e(l).formData.member_discount=a)},{default:r(()=>[d(y,{label:""},{default:r(()=>[m(i(e(o)("nonparticipation")),1)]),_:1}),d(y,{label:"discount"},{default:r(()=>[m(i(e(o)("discount")),1)]),_:1}),d(y,{label:"fixed_price"},{default:r(()=>[m(i(e(o)("fixedPrice")),1)]),_:1})]),_:1},8,["modelValue"]),e(l).formData.member_discount=="discount"?(n(),p("div",ca,i(e(o)("discountHint")),1)):V("",!0),e(l).formData.member_discount=="fixed_price"?(n(),p("div",fa,i(e(o)("fixedPriceHint")),1)):V("",!0)])]),_:1},8,["label"])]),_:1},8,["model"]),d(P,{model:e(l).formData,"label-width":"120px",ref_key:"priceStockCommonFormRef",ref:q,rules:e(l).formRules,class:"page-form"},{default:r(()=>[d(u,{label:e(o)("isLimit")},{default:r(()=>[s("div",null,[d(ee,{modelValue:e(l).formData.is_limit,"onUpdate:modelValue":t[52]||(t[52]=a=>e(l).formData.is_limit=a),"active-value":1,"inactive-value":0},null,8,["modelValue"]),s("div",ba,i(e(o)("isLimitTips")),1)])]),_:1},8,["label"]),e(l).formData.is_limit=="1"?(n(),h(u,{key:0,label:e(o)("limitType"),prop:"limit_type"},{default:r(()=>[s("div",null,[d(x,{modelValue:e(l).formData.limit_type,"onUpdate:modelValue":t[53]||(t[53]=a=>e(l).formData.limit_type=a)},{default:r(()=>[d(y,{label:1},{default:r(()=>[m(i(e(o)("singleTime")),1)]),_:1}),d(y,{label:2},{default:r(()=>[m(i(e(o)("singlePerson")),1)]),_:1})]),_:1},8,["modelValue"]),s("div",va,i(e(o)("limitTypeTips")),1)])]),_:1},8,["label"])):V("",!0),e(l).formData.is_limit=="1"?(n(),h(u,{key:1,label:e(o)("maxBuy"),prop:"max_buy"},{default:r(()=>[s("div",null,[d(c,{modelValue:e(l).formData.max_buy,"onUpdate:modelValue":t[54]||(t[54]=a=>e(l).formData.max_buy=a),modelModifiers:{trim:!0},clearable:"",placeholder:e(o)("maxBuyPlaceholder"),class:"input-width",maxlength:"8",onKeyup:t[55]||(t[55]=a=>e(w)(a))},{append:r(()=>[m(i(e(l).formData.unit?e(l).formData.unit:e(o)("defaultUnit")),1)]),_:1},8,["modelValue","placeholder"]),s("div",ga,i(e(o)("maxBuyWarnTips")),1)])]),_:1},8,["label"])):V("",!0),d(u,{label:e(o)("minBuy"),prop:"min_buy"},{default:r(()=>[s("div",null,[d(c,{modelValue:e(l).formData.min_buy,"onUpdate:modelValue":t[56]||(t[56]=a=>e(l).formData.min_buy=a),modelModifiers:{trim:!0},clearable:"",class:"input-width",maxlength:"8",onKeyup:t[57]||(t[57]=a=>e(w)(a))},{append:r(()=>[m(i(e(l).formData.unit?e(l).formData.unit:e(o)("defaultUnit")),1)]),_:1},8,["modelValue"]),s("div",ya,i(e(o)("minBuyTips")),1)])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"]),d(O,{label:e(o)("goodsArguments"),name:"goods_arguments"},{default:r(()=>[d(P,{model:e(l).formData,"label-width":"120px",ref_key:"goodsArgumentsFormRef",ref:z,rules:e(l).formRules,class:"page-form"},{default:r(()=>[d(u,{label:e(o)("goodsArgumentsTemp")},{default:r(()=>[s("div",null,[d(F,{modelValue:e(l).formData.attr_id,"onUpdate:modelValue":t[58]||(t[58]=a=>e(l).formData.attr_id=a),placeholder:e(o)("goodsArgumentsTempPlaceholder"),clearable:"",onChange:e(l).attrChange,onClear:t[59]||(t[59]=a=>e(l).attrChange(-1))},{default:r(()=>[(n(!0),p(g,null,k(e(l).attrOptions,a=>(n(),h(S,{key:a.attr_id,label:a.attr_name,value:a.attr_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","onChange"]),s("div",ha,i(e(o)("goodsArgumentsTempHint")),1),s("table",Va,[ka,s("thead",xa,[s("tr",null,[s("th",null,i(e(o)("argumentsName")),1),s("th",null,i(e(o)("argumentsValue")),1),s("th",Da,[s("div",wa,[s("span",null,i(e(o)("sort")),1),d(se,{class:"box-item",effect:"dark",content:e(o)("argumentsSortHint"),placement:"right"},{default:r(()=>[Ca]),_:1},8,["content"])])]),s("th",null,i(e(o)("operation")),1)])]),s("tbody",Ua,[e(l).attrTableData.length?(n(!0),p(g,{key:0},k(e(l).attrTableData,(a,f)=>(n(),p("tr",{class:"goods-attr-tr goods-new-attr-tr",key:f},[a.attr_value_id>0?(n(),p("td",Sa,i(a.attr_value_name),1)):(n(),p("td",Pa,[d(c,{maxlength:"20","show-word-limit":"",modelValue:a.attr_value_name,"onUpdate:modelValue":_=>a.attr_value_name=_,modelModifiers:{trim:!0},clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),s("td",null,[a.type=="text"?(n(),h(c,{key:0,maxlength:"20","show-word-limit":"",modelValue:a.select_child_val,"onUpdate:modelValue":_=>a.select_child_val=_,modelModifiers:{trim:!0},clearable:""},null,8,["modelValue","onUpdate:modelValue"])):a.type=="radio"?(n(),p("div",Ta,[d(x,{modelValue:a.select_child_name,"onUpdate:modelValue":_=>a.select_child_name=_,onChange:_=>e(l).attrRadioChange(f,_)},{default:r(()=>[(n(!0),p(g,null,k(a.child,(_,b)=>(n(),h(y,{key:b,label:_.id},{default:r(()=>[m(i(_.name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):a.type=="checkbox"?(n(),p("div",Ea,[d(I,{modelValue:a.select_child_name,"onUpdate:modelValue":_=>a.select_child_name=_,onChange:_=>e(l).attrCheckboxChange(f,_)},{default:r(()=>[(n(!0),p(g,null,k(a.child,(_,b)=>(n(),h(E,{key:b,label:_.id},{default:r(()=>[m(i(_.name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):V("",!0)]),s("td",null,[d(c,{maxlength:"6","show-word-limit":"",modelValue:a.sort,"onUpdate:modelValue":_=>a.sort=_,modelModifiers:{trim:!0},clearable:"",onKeyup:t[60]||(t[60]=_=>e(w)(_))},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("span",{class:"cursor-pointer text-[var(--el-color-primary)]",onClick:_=>e(l).delAttr(f)},i(e(o)("delAttr")),9,Ga)])]))),128)):(n(),p("tr",Ra,[s("td",Ma,i(e(o)("noData")),1)]))])]),d(G,{class:"mt-[15px]",onClick:e(l).addAttr},{default:r(()=>[m(i(e(o)("addGoodsArguments")),1)]),_:1},8,["onClick"])])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"]),d(O,{label:e(o)("goodsDesc"),name:"detail"},{default:r(()=>[d(P,{model:e(l).formData,"label-width":"120px",ref_key:"detailFormRef",ref:Y,rules:e(l).formRules,class:"page-form"},{default:r(()=>[d(u,{label:e(o)("goodsDesc"),prop:"goods_desc"},{default:r(()=>[d(de,{modelValue:e(l).formData.goods_desc,"onUpdate:modelValue":t[61]||(t[61]=a=>e(l).formData.goods_desc=a),height:600,class:"editor-width",onHandleBlur:e(l).handleBlur},null,8,["modelValue","onHandleBlur"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"])]),_:1},8,["modelValue","onTabClick"])]),_:1}),s("div",Fa,[s("div",Ia,[d(G,{type:"primary",onClick:t[63]||(t[63]=a=>ae())},{default:r(()=>[m(i(e(o)("save")),1)]),_:1}),d(G,{onClick:t[64]||(t[64]=a=>e(l).back())},{default:r(()=>[m(i(e(o)("back")),1)]),_:1})])])])}}});const Et=Le(Oa,[["__scopeId","data-v-c07640eb"]]);export{Et as default};
